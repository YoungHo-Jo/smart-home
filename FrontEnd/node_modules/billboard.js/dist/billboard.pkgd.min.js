/*!
 * Copyright (c) 2017 NAVER Corp.
 * billboard.js project is licensed under the MIT license
 * 
 * billboard.js, JavaScript chart library
 * http://naver.github.io/billboard.js/
 * 
 * @version 1.5.1
 * 
 * All-in-one packaged file for ease use of 'billboard.js' with below dependency.
 * - d3 ^5.5.0
 */
!function webpackUniversalModuleDefinition(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,function(){return function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(n,i,function(e){return t[e]}.bind(null,i));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t["default"]}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,n){"use strict";e.__esModule=!0,e.bb=undefined;var i=_interopRequireDefault(n(1)),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(4)),o=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(5));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var s={version:"1.5.1",generate:function generate(t){var e=new i["default"](t);return e.internal.charts=this.instance,this.instance.push(e),e},instance:[],chart:{fn:i["default"].prototype,internal:{fn:r["default"].prototype,axis:{fn:a["default"].prototype}}}};for(var u in o)/^__/.test(u)||(r["default"].prototype[u]=o[u]);n(9),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(60),n(8),n(61),n(62),e.bb=s,e["default"]=s},function(t,e,n){"use strict";e.__esModule=!0;var i=_interopRequireDefault(n(2)),r=_interopRequireDefault(n(3));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e["default"]=function Chart(t){(0,i["default"])(this,Chart);var e=new r["default"](this);this.internal=e,e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function bindThis(t,e,n){Object.keys(t).forEach(function(i){e[i]=t[i].bind(n),Object.keys(t[i]).length&&bindThis(t[i],e[i],n)})}(Chart.prototype,this,this)},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i=_interopRequireDefault(n(2)),r=n(76),a=n(64),o=n(66),s=n(67),u=_interopRequireDefault(n(4)),l=_interopRequireDefault(n(7)),c=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var d=function(){function ChartInternal(t){(0,i["default"])(this,ChartInternal);var e=this;e.api=t,e.config=e.getOptions(),e.data={},e.cache={},e.axes={}}return ChartInternal.prototype.beforeInit=function beforeInit(){var t=this.config;(0,c.isFunction)(t.onbeforeinit)&&t.onbeforeinit.call(this)},ChartInternal.prototype.afterInit=function afterInit(){var t=this.config;(0,c.isFunction)(t.onafterinit)&&t.onafterinit.call(this)},ChartInternal.prototype.init=function init(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},ChartInternal.prototype.initParams=function initParams(){var t=this,e=t.config,n=e.axis_rotated;t.datetimeId="bb-"+ +new Date,t.clipId=t.datetimeId+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.point=t.generatePoint(),t.extraLineClasses=t.generateExtraLineClass(),t.dataTimeFormat=e.data_xLocaltime?r.timeParse:r.utcParse,t.axisTimeFormat=e.axis_x_localtime?r.timeFormat:r.utcFormat,t.defaultAxisTimeFormat=function(e){var n=(e.getMilliseconds()?".%L":e.getSeconds()&&".:%S")||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||e.getDay()&&1!==e.getDate()&&"%-m/%-d"||1!==e.getDate()&&"%b %d"||e.getMonth()&&"%-m/%-d"||"%Y/%-m/%-d";return t.axisTimeFormat(n)(e)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n?"left":"bottom",t.yOrient=n?e.axis_y_inner?"top":"bottom":e.axis_y_inner?"right":"left",t.y2Orient=n?e.axis_y2_inner?"bottom":"top":e.axis_y2_inner?"left":"right",t.subXOrient=n?"left":"bottom",t.isLegendRight="right"===e.legend_position,t.isLegendInset="inset"===e.legend_position,t.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,t.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n&&!e.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=undefined,t.inputType=t.convertInputType(),t.axes.subx=(0,a.selectAll)([])},ChartInternal.prototype.initWithData=function initWithData(t){var e=this,n=e.config,i=!0;e.axis=new u["default"](e),e.initBrush&&e.initBrush(),e.initZoom&&e.initZoom();var r={element:n.bindto,classname:"bb"};if((0,c.isObject)(n.bindto)&&(r.element=n.bindto.element||"#chart",r.classname=n.bindto.classname||r.classname),e.selectChart=(0,c.isFunction)(r.element.node)?n.bindto.element:(0,a.select)(r.element?r.element:[]),e.selectChart.empty()&&(e.selectChart=(0,a.select)(document.createElement("div")).style("opacity","0"),e.observeInserted(e.selectChart),i=!1),e.selectChart.html("").classed(r.classname,!0),e.data.xs={},e.data.targets=e.convertDataToTargets(t),n.data_filter&&(e.data.targets=e.data.targets.filter(n.data_filter)),n.data_hide&&e.addHiddenTargetIds(!0===n.data_hide?e.mapToIds(e.data.targets):n.data_hide),n.legend_hide&&e.addHiddenLegendIds(!0===n.legend_hide?e.mapToIds(e.data.targets):n.legend_hide),e.hasType("gauge")&&(n.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain((0,o.extent)(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.svg=e.selectChart.append("svg").style("overflow","hidden").style("display","block"),n.interaction_enabled&&e.inputType){var s="touch"===e.inputType;e.svg.on(s?"touchstart":"mouseenter",function(){return n.onover.call(e)}).on(s?"touchend":"mouseleave",function(){return n.onout.call(e)})}n.svg_classname&&e.svg.attr("class",n.svg_classname),e.defs=e.svg.append("defs"),e.clipChart=e.appendClip(e.defs,e.clipId),e.clipXAxis=e.appendClip(e.defs,e.clipIdForXAxis),e.clipYAxis=e.appendClip(e.defs,e.clipIdForYAxis),e.clipGrid=e.appendClip(e.defs,e.clipIdForGrid),e.clipSubchart=e.appendClip(e.defs,e.clipIdForSubchart),(0,c.isFunction)(n.color_tiles)&&e.patterns&&e.patterns.forEach(function(t){return e.defs.append(function(){return t.node})}),e.updateSvgSize();var d=e.svg.append("g").attr("transform",e.getTranslate("main"));if(e.main=d,n.subchart_show&&e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),e.initTitle&&e.initTitle(),d.append("text").attr("class",l["default"].text+" "+l["default"].empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),n.clipPath||e.axis.init(),d.append("g").attr("class",l["default"].chart).attr("clip-path",e.clipPath),n.grid_lines_front&&e.initGridLines(),n.grid_front&&e.initXYFocusGrid(),e.initEventRect(),e.initChartElements(),d.insert("rect",n.zoom_privileged?null:"g."+l["default"].regions).attr("class",l["default"].zoomRect).attr("width",e.width).attr("height",e.height).style("opacity","0").on("dblclick.zoom",null),n.axis_x_extent&&e.brush.scale(e.getDefaultExtent()),n.clipPath&&e.axis.init(),e.updateTargets(e.data.targets),i&&(e.updateDimension(),n.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),n.data_onmin||n.data_onmax)){var f=e.getMinMaxData();(0,c.isFunction)(n.data_onmin)&&n.data_onmin.call(e,f.min),(0,c.isFunction)(n.data_onmax)&&n.data_onmax.call(e,f.max)}e.bindResize(),e.api.element=e.selectChart.node()},ChartInternal.prototype.initChartElements=function initChartElements(){var t=this;["Pie","Bar","Line","Arc","Gauge","Bubble","Radar","Text"].forEach(function(e){var n="init"+e;t[n]&&t[n]()})},ChartInternal.prototype.smoothLines=function smoothLines(t,e){"grid"===e&&t.each(function(){var t=(0,a.select)(this);t.attr({x1:Math.ceil(t.attr("x1")),x2:Math.ceil(t.attr("x2")),y1:Math.ceil(t.attr("y1")),y2:Math.ceil(t.attr("y2"))})})},ChartInternal.prototype.updateSizes=function updateSizes(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:o+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},ChartInternal.prototype.updateTargets=function updateTargets(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType(t)&&(e.hasType("radar")?e.updateTargetsForRadar(t):e.updateTargetsForArc(t)),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},ChartInternal.prototype.showTargets=function showTargets(){var t=this;t.svg.selectAll("."+l["default"].target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity","1")},ChartInternal.prototype.redraw=function redraw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1],n=this,i=n.main,r=n.config,o=r.axis_rotated,u=n.hasType("radar"),d=n.getShapeIndices(n.isAreaType),f=n.getShapeIndices(n.isBarType),h=n.getShapeIndices(n.isLineType),g=n.hasArcType(),p=n.filterTargetsToShow(n.data.targets),_=n.xv.bind(n),x=void 0,m=void 0,v=void 0,y=(0,c.getOption)(t,"withY",!0),b=(0,c.getOption)(t,"withSubchart",!0),w=(0,c.getOption)(t,"withTransition",!0),T=(0,c.getOption)(t,"withTransform",!1),A=(0,c.getOption)(t,"withUpdateXDomain",!1),M=(0,c.getOption)(t,"withUpdateOrgXDomain",!1),C=(0,c.getOption)(t,"withTrimXDomain",!0),S=(0,c.getOption)(t,"withUpdateXAxis",A),D=(0,c.getOption)(t,"withLegend",!1),k=(0,c.getOption)(t,"withEventRect",!0),L=(0,c.getOption)(t,"withDimension",!0),R=(0,c.getOption)(t,"withTransitionForExit",w),O=(0,c.getOption)(t,"withTransitionForAxis",w),F=w?r.transition_duration:0,I=R?F:0,E=O?F:0,X=e||n.axis.generateTransitions(E);if(t.initializing&&r.tooltip_init_show||"touch"!==n.inputType||n.hideTooltip(),D&&r.legend_show&&!r.legend_contents_bindto?n.updateLegend(n.mapToIds(n.data.targets),t,X):L&&n.updateDimension(!0),n.isCategorized()&&0===p.length&&n.x.domain([0,n.axes.x.selectAll(".tick").size()]),p.length?(n.updateXDomain(p,A,M,C),!r.axis_x_tick_values&&(x=n.axis.updateXAxisTickValues(p))):(n.xAxis.tickValues([]),n.subXAxis.tickValues([])),r.zoom_rescale&&!t.flow&&(v=n.x.orgDomain()),n.y.domain(n.getYDomain(p,"y",v)),n.y2.domain(n.getYDomain(p,"y2",v)),!r.axis_y_tick_values&&r.axis_y_tick_count&&n.yAxis.tickValues(n.axis.generateTickValues(n.y.domain(),r.axis_y_tick_count,n.isTimeSeriesY())),!r.axis_y2_tick_values&&r.axis_y2_tick_count&&n.y2Axis.tickValues(n.axis.generateTickValues(n.y2.domain(),r.axis_y2_tick_count)),n.axis.redraw(X,g),n.axis.updateLabels(w),(A||S)&&p.length)if(r.axis_x_tick_culling&&x){for(var z=1;z<x.length;z++)if(x.length/z<r.axis_x_tick_culling_max){m=z;break}n.svg.selectAll("."+l["default"].axisX+" .tick text").each(function(t){var e=x.indexOf(t);e>=0&&(0,a.select)(this).style("display",e%m?"none":"block")})}else n.svg.selectAll("."+l["default"].axisX+" .tick text").style("display","block");var N=n.generateDrawArea?n.generateDrawArea(d,!1):undefined,P=n.generateDrawBar?n.generateDrawBar(f):undefined,Y=n.generateDrawLine?n.generateDrawLine(h,!1):undefined,B=n.generateXYForText(d,f,h,!0),q=n.generateXYForText(d,f,h,!1);y&&(n.subY.domain(n.getYDomain(p,"y")),n.subY2.domain(n.getYDomain(p,"y2"))),n.updateXgridFocus(),i.select("text."+l["default"].text+"."+l["default"].empty).attr("x",n.width/2).attr("y",n.height/2).text(r.data_empty_label_text).transition().style("opacity",p.length?0:1),n.updateGrid(F),n.updateRegion(F),n.updateBar(I),n.updateLine(I),n.updateArea(I),n.updateCircle(),n.hasDataLabel()&&n.updateText(I),n.redrawTitle&&n.redrawTitle(),n.redrawArc&&n.redrawArc(F,I,T),u&&n.redrawRadar(),r.subchart_show&&n.redrawSubchart&&n.redrawSubchart(b,X,F,I,d,f,h),i.selectAll("."+l["default"].selectedCircles).filter(n.isBarType.bind(n)).selectAll("circle").remove(),r.interaction_enabled&&!t.flow&&k&&(n.redrawEventRect(),r.zoom_enabled&&n.bindZoomOnEventRect()),n.updateCircleY();var V=(u?n.radarCircleX:o?n.circleY:n.circleX).bind(n),j=(u?n.radarCircleY:o?n.circleX:n.circleY).bind(n),U=t.flow&&n.generateFlow({targets:p,flow:t.flow,duration:t.flow.duration,drawBar:P,drawLine:Y,drawArea:N,cx:V,cy:j,xv:_,xForText:B,yForText:q}),W=(F||U)&&n.isTabVisible(),H=[n.redrawBar(P,W),n.redrawLine(Y,W),n.redrawArea(N,W),n.redrawCircle(V,j,W,U),n.redrawText(B,q,t.flow,W),n.redrawRegion(W),n.redrawGrid(W)],G=U||r.onrendered?function(){U&&U(),r.onrendered&&r.onrendered.call(n)}:null;if(G)if(W){var $=n.generateWait();(0,s.transition)().duration(F).each(function(){H.reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return $.add(t)})}).call($,G)}else G();n.mapToIds(n.data.targets).forEach(function(t){n.withoutFadeIn[t]=!0})},ChartInternal.prototype.updateAndRedraw=function updateAndRedraw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,n=e.config,i=void 0;t.withTransition=(0,c.getOption)(t,"withTransition",!0),t.withTransform=(0,c.getOption)(t,"withTransform",!1),t.withLegend=(0,c.getOption)(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=(0,c.getOption)(t,"withTransitionForTransform",t.withTransition),e.updateSizes(),t.withLegend&&n.legend_show||(i=e.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),e.updateScales(),e.updateSvgSize(),e.transformAll(t.withTransitionForTransform,i)),e.redraw(t,i)},ChartInternal.prototype.redrawWithoutRescale=function redrawWithoutRescale(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},ChartInternal.prototype.isTimeSeries=function isTimeSeries(){return"timeseries"===this.config.axis_x_type},ChartInternal.prototype.isCategorized=function isCategorized(){return this.config.axis_x_type.indexOf("category")>=0||this.hasType("radar")},ChartInternal.prototype.isCustomX=function isCustomX(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||(0,c.notEmpty)(t.data_xs))},ChartInternal.prototype.isTimeSeriesY=function isTimeSeriesY(){return"timeseries"===this.config.axis_y_type},ChartInternal.prototype.getTranslate=function getTranslate(t){var e=this,n=e.config.axis_rotated,i=void 0,r=void 0;return"main"===t?(i=(0,c.asHalfPixel)(e.margin.left),r=(0,c.asHalfPixel)(e.margin.top)):"context"===t?(i=(0,c.asHalfPixel)(e.margin2.left),r=(0,c.asHalfPixel)(e.margin2.top)):"legend"===t?(i=e.margin3.left,r=e.margin3.top):"x"===t?(i=0,r=n?0:e.height):"y"===t?(i=0,r=n?e.height:0):"y2"===t?(i=n?0:e.width,r=n?1:0):"subx"===t?(i=0,r=n?0:e.height2):"arc"===t?(i=e.arcWidth/2,r=e.arcHeight/2):"radar"===t&&(i=e.width/2-e.arcHeight/2,r=(0,c.asHalfPixel)(e.margin.top)),"translate("+i+", "+r+")"},ChartInternal.prototype.initialOpacity=function initialOpacity(t){return null!==t.value&&this.withoutFadeIn[t.id]?"1":"0"},ChartInternal.prototype.initialOpacityForCircle=function initialOpacityForCircle(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):"0"},ChartInternal.prototype.opacityForCircle=function opacityForCircle(t){var e=this.config.point_show?"1":"0";return(0,c.isValue)(t.value)?this.isBubbleType(t)||this.isScatterType(t)?"0.5":e:"0"},ChartInternal.prototype.opacityForText=function opacityForText(){return this.hasDataLabel()?"1":"0"},ChartInternal.prototype.xx=function xx(t){var e=this.config.zoom_enabled&&this.zoomScale?this.zoomScale:this.x;return t?e(t.x):null},ChartInternal.prototype.xv=function xv(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&(0,c.isString)(t.value)&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},ChartInternal.prototype.yv=function yv(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},ChartInternal.prototype.subxx=function subxx(t){return t?this.subX(t.x):null},ChartInternal.prototype.transformMain=function transformMain(t,e){var n=this,i=void 0,r=void 0,a=void 0;e&&e.axisX?i=e.axisX:(i=n.main.select("."+l["default"].axisX),t&&(i=i.transition())),e&&e.axisY?r=e.axisY:(r=n.main.select("."+l["default"].axisY),t&&(r=r.transition())),e&&e.axisY2?a=e.axisY2:(a=n.main.select("."+l["default"].axisY2),t&&(a=a.transition())),(t?n.main.transition():n.main).attr("transform",n.getTranslate("main")),i.attr("transform",n.getTranslate("x")),r.attr("transform",n.getTranslate("y")),a.attr("transform",n.getTranslate("y2")),n.main.select("."+l["default"].chartArcs).attr("transform",n.getTranslate("arc"))},ChartInternal.prototype.transformAll=function transformAll(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},ChartInternal.prototype.updateSvgSize=function updateSvgSize(){var t=this,e=t.svg.select("."+l["default"].brush+" .overlay"),n=e.size()?e.attr("height"):0;t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",n),t.svg.select("."+l["default"].zoomRect).attr("width",t.width).attr("height",t.height),t.brush&&t.brush.scale(t.subX,n)},ChartInternal.prototype.updateDimension=function updateDimension(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(t),e.updateSvgSize(),e.transformAll(!1)},ChartInternal.prototype.observeInserted=function observeInserted(t){var e=this;if((0,c.isUndefined)(MutationObserver))console&&console.error&&console.error("MutationObserver not defined.");else{var n=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(n.disconnect(),e.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(e.intervalForObserveInserted),e.updateDimension(),e.brush&&e.brush.update(),e.config.oninit.call(e),e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity","1"))},10))})});n.observe(t.node(),{attributes:!0,childList:!0,characterData:!0})}},ChartInternal.prototype.bindResize=function bindResize(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){return e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){(0,c.isDefined)(t.resizeTimeout)&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){return e.onresized.call(t)});var n=(0,a.select)(window).on("resize.bb");n&&t.resizeFunction.add(n),(0,a.select)(window).on("resize.bb",t.resizeFunction)},ChartInternal.prototype.generateResize=function generateResize(){function callResizeFunctions(){t.forEach(function(t){return t()})}var t=[];return callResizeFunctions.add=function(e){t.push(e)},callResizeFunctions.remove=function(e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e){t.splice(n,1);break}},callResizeFunctions},ChartInternal.prototype.endall=function endall(t,e){var n=0;t.each(function(){return++n}).on("end",function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];--n||e.apply.apply(e,[this].concat(i))})},ChartInternal.prototype.generateWait=function generateWait(){var t=[],e=function(e,n){var i=void 0;!function loop(){var e=0;t.forEach(function(t){if(t.empty())e++;else try{t.transition()}catch(n){e++}}),i&&clearTimeout(i),e===t.length?n&&n():i=setTimeout(loop,50)}()};return e.add=function(e){(0,c.isArray)(e)?t=t.concat(e):t.push(e)},e},ChartInternal.prototype.parseDate=function parseDate(t){var e=void 0;return t instanceof Date?e=t:(0,c.isString)(t)?e=this.dataTimeFormat(this.config.data_xFormat)(t):(0,c.isNumber)(t)&&!isNaN(t)&&(e=new Date(+t)),(!e||isNaN(+e))&&console&&console.error&&console.error("Failed to parse x '"+t+"' to Date object"),e},ChartInternal.prototype.isTabVisible=function isTabVisible(){return!document[["hidden","mozHidden","msHidden","webkitHidden"].filter(function(t){return t in document})[0]]},ChartInternal.prototype.convertInputType=function convertInputType(){var t=this.config,e=this.isMobile(),n=t.interaction_inputType_mouse&&!e&&"onmouseover"in window,i=!1;return t.interaction_inputType_touch&&(i="ontouchmove"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),(n?"mouse":i&&"touch")||null},ChartInternal}();e["default"]=d,t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=_interopRequireDefault(n(2)),r=n(64),a=n(5),o=_interopRequireDefault(n(8)),s=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var u=function(){function Axis(t){(0,i["default"])(this,Axis),this.owner=t}return Axis.prototype.init=function init(){var t=this.owner,e=t.config,n=e.axis_rotated,i=t.main;t.axes.x=i.append("g").attr("class",s["default"].axis+" "+s["default"].axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",s["default"].axisXLabel).attr("transform",n?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append("g").attr("class",s["default"].axis+" "+s["default"].axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",s["default"].axisYLabel).attr("transform",n?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append("g").attr("class",s["default"].axis+" "+s["default"].axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",s["default"].axisY2Label).attr("transform",n?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Axis.prototype.getXAxis=function getXAxis(t,e,n,i,r,s,u,l){var c=this.owner,d=c.config,f=c.isCategorized(),h={isCategory:f,withOuterTick:s,withoutTransition:u,config:d,axisName:t,tickMultiline:d.axis_x_tick_multiline,tickWidth:d.axis_x_tick_width,tickTextRotate:l?0:d.axis_x_tick_rotate,tickTitle:f&&d.axis_x_tick_tooltip&&c.api.categories(),orgXScale:c.x},g=(0,o["default"])(h).scale(c.zoomScale||e).orient(n),p=r;return c.isTimeSeries()&&r&&!(0,a.isFunction)(r)&&(p=r.map(function(t){return c.parseDate(t)})),g.tickFormat(i).tickValues(p),f&&(g.tickCentered(d.axis_x_tick_centered),(0,a.isEmpty)(d.axis_x_tick_culling)&&(d.axis_x_tick_culling=!1)),g},Axis.prototype.getYAxis=function getYAxis(t,e,n,i,r,a,s,u){var l=this.owner,c=l.config,d={withOuterTick:a,withoutTransition:s,config:c,axisName:t,tickTextRotate:u?0:c.axis_y_tick_rotate},f=(0,o["default"])(d).scale(e).orient(n).tickFormat(i);return l.isTimeSeriesY()?f.ticks(c.axis_y_tick_time_value):f.tickValues(r),f},Axis.prototype.updateXAxisTickValues=function updateXAxisTickValues(t,e){var n=this.owner,i=n.config,r=i.axis_x_tick_count,a=void 0;return(i.axis_x_tick_fit||r)&&(a=this.generateTickValues(n.mapTargetsToUniqueXs(t),r,n.isTimeSeries())),e?e.tickValues(a):(n.xAxis.tickValues(a),n.subXAxis.tickValues(a)),a},Axis.prototype.getId=function getId(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},Axis.prototype.getXAxisTickFormat=function getXAxisTickFormat(){var t=this.owner,e=t.config.axis_x_tick_format,n=t.isTimeSeries(),i=t.isCategorized(),r=void 0;return e?(0,a.isFunction)(e)?r=e:n&&(r=function(n){return n?t.axisTimeFormat(e)(n):""}):r=n?t.defaultAxisTimeFormat:i?t.categoryName:function(t){return t<0?t.toFixed(0):t},(0,a.isFunction)(r)?function(e){return r.apply(t,i?[e,t.categoryName(e)]:[e])}:r},Axis.prototype.getTickValues=function getTickValues(t,e){return t||(e?e.tickValues():undefined)},Axis.prototype.getXAxisTickValues=function getXAxisTickValues(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Axis.prototype.getYAxisTickValues=function getYAxisTickValues(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Axis.prototype.getY2AxisTickValues=function getY2AxisTickValues(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Axis.prototype.getLabelOptionByAxisId=function getLabelOptionByAxisId(t){return this.owner.config["axis_"+t+"_label"]},Axis.prototype.getLabelText=function getLabelText(t){var e=this.getLabelOptionByAxisId(t);return(0,a.isString)(e)?e:e?e.text:null},Axis.prototype.setLabelText=function setLabelText(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);(0,a.isString)(i)?n["axis_"+t+"_label"]=e:i&&(i.text=e)},Axis.prototype.getLabelPosition=function getLabelPosition(t,e){var n=this.getLabelOptionByAxisId(t),i=(0,a.isObjectType)(n)&&n.position?n.position:e;return{isInner:!!~i.indexOf("inner"),isOuter:!!~i.indexOf("outer"),isLeft:!!~i.indexOf("left"),isCenter:!!~i.indexOf("center"),isRight:!!~i.indexOf("right"),isTop:!!~i.indexOf("top"),isMiddle:!!~i.indexOf("middle"),isBottom:!!~i.indexOf("bottom")}},Axis.prototype.getXAxisLabelPosition=function getXAxisLabelPosition(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Axis.prototype.getYAxisLabelPosition=function getYAxisLabelPosition(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getY2AxisLabelPosition=function getY2AxisLabelPosition(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getLabelPositionById=function getLabelPositionById(t){return this["get"+t.toUpperCase()+"AxisLabelPosition"]()},Axis.prototype.textForXAxisLabel=function textForXAxisLabel(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function textForYAxisLabel(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function textForY2AxisLabel(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function xForAxisLabel(t,e){var n=this.owner,i=e.isMiddle?-n.height/2:0;return t?i=e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom&&(i=-n.height),i},Axis.prototype.dxForAxisLabel=function dxForAxisLabel(t,e){var n=e.isBottom?"0.5em":"0";return t?n=e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop&&(n="-0.5em"),n},Axis.prototype.textAnchorForAxisLabel=function textAnchorForAxisLabel(t,e){var n=e.isMiddle?"middle":"end";return t?n=e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom&&(n="start"),n},Axis.prototype.xForXAxisLabel=function xForXAxisLabel(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.xForYAxisLabel=function xForYAxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function xForY2AxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function dxForXAxisLabel(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.dxForYAxisLabel=function dxForYAxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function dxForY2AxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function dyForXAxisLabel(){var t=this.owner.config,e=this.getXAxisLabelPosition().isInner,n=t.axis_x_height;return t.axis_rotated?e?"1.2em":-25-this.getMaxTickWidth("x"):e?"-0.5em":n?n-10:"3em"},Axis.prototype.dyForYAxisLabel=function dyForYAxisLabel(){var t=this.owner,e=this.getYAxisLabelPosition().isInner;return t.config.axis_rotated?e?"-0.5em":"3em":e?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function dyForY2AxisLabel(){var t=this.owner,e=this.getY2AxisLabelPosition().isInner;return t.config.axis_rotated?e?"1.2em":"-2.2em":e?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function textAnchorForXAxisLabel(){var t=this.owner.config.axis_rotated;return this.textAnchorForAxisLabel(!t,this.getXAxisLabelPosition())},Axis.prototype.textAnchorForYAxisLabel=function textAnchorForYAxisLabel(){var t=this.owner.config.axis_rotated;return this.textAnchorForAxisLabel(t,this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function textAnchorForY2AxisLabel(){var t=this.owner.config.axis_rotated;return this.textAnchorForAxisLabel(t,this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function getMaxTickWidth(t,e){var n=this.owner,i=n.config,a=0,o=void 0;if(e&&n.currentMaxTickWidths[t])return n.currentMaxTickWidths[t];if(n.svg){var s=n.filterTargetsToShow(n.data.targets),u=void 0,l=void 0;/^y2?$/.test(t)?(u=n[t].copy().domain(n.getYDomain(s,t)),l=this.getYAxis(t,u,n[t+"Orient"],i["axis_"+t+"_tick_format"],n[t+"AxisTickValues"],!1,!0,!0)):(u=n.x.copy().domain(n.getXDomain(s)),l=this.getXAxis("x",u,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(s,l)),(o=(0,r.select)("body").append("div").classed("bb",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px").append("g").call(l).each(function(){(0,r.select)(this).selectAll("text").each(function(){var t=this.getBoundingClientRect().width;a<t&&(a=t)}),o.remove()})}return n.currentMaxTickWidths[t]=a<=0?n.currentMaxTickWidths[t]:a,n.currentMaxTickWidths[t]},Axis.prototype.updateLabels=function updateLabels(t){var e=this,n=this.owner,i={X:n.main.select("."+s["default"].axisX+" ."+s["default"].axisXLabel),Y:n.main.select("."+s["default"].axisY+" ."+s["default"].axisYLabel),Y2:n.main.select("."+s["default"].axisY2+" ."+s["default"].axisY2Label)};Object.keys(i).forEach(function(n){var r=i[n];(t?r.transition():r).attr("x",e["xFor"+n+"AxisLabel"].bind(e)).attr("dx",e["dxFor"+n+"AxisLabel"].bind(e)).attr("dy",e["dyFor"+n+"AxisLabel"].bind(e)).text(e["textFor"+n+"AxisLabel"].bind(e))})},Axis.prototype.getPadding=function getPadding(t,e,n,i){var r=(0,a.isNumber)(t)?t:t[e];return(0,a.isValue)(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},Axis.prototype.convertPixelsToAxisPadding=function convertPixelsToAxisPadding(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},Axis.prototype.generateTickValues=function generateTickValues(t,e,n){var i=t,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0;if(e){var d=(0,a.isFunction)(e)?e():e;if(1===d)i=[t[0]];else if(2===d)i=[t[0],t[t.length-1]];else if(d>2){for(s=d-2,r=t[0],u=((o=t[t.length-1])-r)/(s+1),i=[r],l=0;l<s;l++)c=+r+u*(l+1),i.push(n?new Date(c):c);i.push(o)}}return n||(i=i.sort(function(t,e){return t-e})),i},Axis.prototype.generateTransitions=function generateTransitions(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},Axis.prototype.redraw=function redraw(t,e){var n=this.owner,i=e?"0":"1";n.axes.x.style("opacity",i),n.axes.y.style("opacity",i),n.axes.y2.style("opacity",i),n.axes.subx.style("opacity",i),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},Axis}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0,e.toArray=e.sanitise=e.merge=e.notEmpty=e.isValue=e.isUndefined=e.isString=e.isObjectType=e.isObject=e.isNumber=e.isFunction=e.isEmpty=e.isDefined=e.isBoolean=e.isArray=e.hasValue=e.getRectSegList=e.getPathBox=e.getOption=e.getCssRules=e.getBrushSelection=e.extend=e.emulateEvent=e.diffDomain=e.ceil10=e.capitalize=e.brushEmpty=e.asHalfPixel=undefined;var i=_interopRequireDefault(n(6)),r=n(64),a=n(75),o=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var s=function(t){return"string"==typeof t},u=function(t){return void 0===t},l=function(t){return void 0!==t},c=function(t){return"object"===(void 0===t?"undefined":(0,i["default"])(t))},d=function(t){return u(t)||null===t||s(t)&&0===t.length||c(t)&&0===Object.keys(t).length},f=function(t){return t&&t.constructor===Array},h=function(t){return t&&!t.nodeType&&c(t)&&!f(t)},g=function(t){var e=t.getBBox(),n=[];return n.push({x:e.x,y:e.y+e.height}),n.push({x:e.x,y:e.y}),n.push({x:e.x+e.width,y:e.y}),n.push({x:e.x+e.width,y:e.y+e.height}),n};function extend(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1];for(var n in e)t[n]=e[n];return t}var p=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length||1===n.length&&!n[0])return t;var r=n.shift();return h(t)&&h(r)&&Object.keys(r).forEach(function(e){var n=r[e];h(n)?(!t[e]&&(t[e]={}),t[e]=p(t[e],n)):t[e]=f(n)?n.concat():n}),extend.apply(undefined,[t].concat(n))},_=function(t){return[].slice.call(t)},x={mouse:function(){try{return new MouseEvent("t"),function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0};t.dispatchEvent(new MouseEvent(e,n))}}catch(t){return function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0},i=document.createEvent("MouseEvent");i.initMouseEvent(e,n.bubbles,n.cancelable,window,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}}(),touch:function touch(t,e,n){var i=new Touch(Object.assign({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[i],targetTouches:[],changedTouches:[i]}))}};e.asHalfPixel=function(t){return Math.ceil(t)+.5},e.brushEmpty=function(){var t=this.getBrushSelection();return!t||t[0]===t[1]},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.ceil10=function(t){return 10*Math.ceil(t/10)},e.diffDomain=function(t){return t[1]-t[0]},e.emulateEvent=x,e.extend=extend,e.getBrushSelection=function(){var t=null,e=r.event;return e&&"BrushEvent"===e.constructor.name?t=e.selection:this.context&&(t=this.context.select("."+o["default"].brush).node())&&(t=(0,a.brushSelection)(t)),t},e.getCssRules=function(t){var e=[];return t.forEach(function(t){try{t.cssRules&&t.cssRules.length&&(e=e.concat(_(t.cssRules)))}catch(n){console.error("Error while reading rules from "+t.href+": "+n.toString())}}),e},e.getOption=function(t,e,n){return l(t[e])?t[e]:n},e.getPathBox=function(t){var e=t.getBoundingClientRect(),n=g(t);return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}},e.getRectSegList=g,e.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){return t[i]===e&&(n=!0)}),n},e.isArray=f,e.isBoolean=function(t){return"boolean"==typeof t},e.isDefined=l,e.isEmpty=d,e.isFunction=function(t){return"function"==typeof t},e.isNumber=function(t){return"number"==typeof t},e.isObject=h,e.isObjectType=c,e.isString=s,e.isUndefined=u,e.isValue=function(t){return t||0===t},e.notEmpty=function(t){return!d(t)},e.merge=p,e.sanitise=function(t){return s(t)?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.toArray=_},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}(t)}},function(t,e,n){"use strict";e.__esModule=!0,e["default"]={target:"bb-target",chart:"bb-chart",chartLine:"bb-chart-line",chartLines:"bb-chart-lines",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars",chartText:"bb-chart-text",chartTexts:"bb-chart-texts",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsTitle:"bb-chart-arcs-title",chartArcsBackground:"bb-chart-arcs-background",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars",selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsSingle:"bb-event-rects-single",eventRectsMultiple:"bb-event-rects-multiple",zoomRect:"bb-zoom-rect",brush:"bb-brush",focused:"bb-focused",defocused:"bb-defocused",region:"bb-region",regions:"bb-regions",title:"bb-title",tooltipContainer:"bb-tooltip-container",tooltip:"bb-tooltip",tooltipName:"bb-tooltip-name",shape:"bb-shape",shapes:"bb-shapes",line:"bb-line",lines:"bb-lines",bar:"bb-bar",bars:"bb-bars",circle:"bb-circle",circles:"bb-circles",arc:"bb-arc",arcs:"bb-arcs",area:"bb-area",areas:"bb-areas",empty:"bb-empty",text:"bb-text",texts:"bb-texts",gaugeValue:"bb-gauge-value",grid:"bb-grid",gridLines:"bb-grid-lines",xgrid:"bb-xgrid",xgrids:"bb-xgrids",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgridFocus:"bb-xgrid-focus",ygrid:"bb-ygrid",ygrids:"bb-ygrids",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisYLabel:"bb-axis-y-label",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemTile:"bb-legend-item-tile",legendItemPoint:"bb-legend-item-point",legendItemHidden:"bb-legend-item-hidden",legendItemFocused:"bb-legend-item-focused",level:"bb-level",levels:"bb-levels",dragarea:"bb-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function(){function axisX(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+d)+", 0)"})}function axisY(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function textFormatted(t){var e=/\d+\.\d+0{5,}\d$/.test(t)?+(t+"").replace(/0+\d$/,""):t,n=l?l(e):e;return(0,a.isDefined)(n)?n:""}function transitionise(e){return t.withoutTransition?e.interrupt():e.transition(g)}function axis(i){i.each(function(){var i=(0,r.select)(this);axis.g=i;var l=this.__chart__||e,f=function copyScale(){var t=e.copy();return t.domain().length||t.domain(e.domain()),t}();this.__chart__=f;var g=u||function generateTicks(t){var e=[];if(t.ticks)return t.ticks.apply(t,c?(0,a.toArray)(c):[]).map(function(t){return(0,a.isString)(t)&&(0,a.isNumber)(t)&&!isNaN(t)&&Math.round(10*t)/10||t});for(var n=t.domain(),i=Math.ceil(n[0]);i<n[1];i++)e.push(i);return e.length>0&&e[0]>0&&e.unshift(e[0]-(e[1]-e[0])),e}(f),p=i.selectAll(".tick").data(g,f),_=p.enter().insert("g",".domain").attr("class","tick").style("opacity","1"),x=p.exit().remove(),m=transitionise(p=_.merge(p)).style("opacity","1"),v=void 0,y=void 0,b=e.rangeExtent?e.rangeExtent():function scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}((t.orgXScale||e).range()),w=i.selectAll(".domain").data([0]),T=w.enter().append("path").attr("class","domain").merge(transitionise(w));_.append("line"),_.append("text");var A=_.select("line"),M=m.select("line"),C=_.select("text"),S=m.select("text");t.isCategory?(d=Math.ceil((f(1)-f(0))/2),v=h?0:d,y=h?d:0):d=v=0;var D=o.size||o(i.select(".tick")),k=[],L=(Math.max(6,0),/^(left|right)$/.test(n)),R=/^(top|bottom)$/.test(n),O=p.select("text").selectAll("tspan").data(function(e,n){var i=t.tickMultiline?function splitTickText(e,n){var i=textFormatted(e),r=(0,a.isString)(i)&&i.indexOf("\n")>-1?i.split("\n"):[];if(r.length)return r;var o=n,s=void 0,u=void 0,l=void 0;return(0,a.isArray)(i)?i:((!o||o<=0)&&(o=L?95:t.isCategory?Math.ceil(f(g[1])-f(g[0]))-12:110),function split(t,e){u=undefined;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(u=n),s=e.substr(0,n+1),l=D.w*s.length,o<l)return split(t.concat(e.substr(0,u||n)),e.slice(u?u+1:n));return t.concat(e)}(r,i+""))}(e,t.tickWidth):(0,a.isArray)(textFormatted(e))?textFormatted(e).concat():[textFormatted(e)];return k[n]=i.length,i.map(function(t){return{index:n,splitted:t}})});O.exit().remove(),O=O.enter().append("tspan").merge(O).text(function(t){return t.splitted});var F=R?axisX:axisY,I=/^(top|left)$/.test(n)?-1:1,E=F===axisX?"y":"x";A.attr(E+"2",6*I),C.attr(""+E,9*I),T.attr("d",function(){var t=s*I;return R?"M"+b[0]+","+t+"V0H"+b[1]+"V"+t:"M"+t+","+b[0]+"H0V"+b[1]+"H"+t});var X=t.tickTextRotate,z=t.axisName&&/^(x|y|y2)$/.test(t.axisName)?t.config["axis_"+t.axisName+"_tick_text_position"]:{x:0,y:0};if(O.attr("x",R?0:9*I).attr("dx",function(){var t=0;return"bottom"===n&&X&&(t=8*Math.sin(Math.PI*(X/180))),t+(z.x||0)}()).attr("dy",function(t,e){var i=0;return"top"!==n&&(i=0===e?L?-((k[t.index]-1)*(D.h/2)-3):0===z.y?".71em":0:D.h),(0,a.isNumber)(i)&&z.y?i+z.y:i||".71em"}),"bottom"===n?(M.attr("x1",v).attr("x2",v).attr("y2",function tickSize(t){var n=e(t)+(h?0:d);return b[0]<n&&n<b[1]?6:0}),S.attr("x",0).attr("y",function yForText(t){return t?11.5-t/15*2.5*(t>0?1:-1):9}(X)).style("text-anchor",function textAnchorForText(t){return t?t>0?"start":"end":"middle"}(X)).attr("transform",function textTransform(t){return t?"rotate("+t+")":null}(X))):"top"===n?(M.attr("x2",0).attr("y2",-6),S.attr("x",0).attr("y",-9).style("text-anchor","middle")):"left"===n?(M.attr("x2",-6).attr("y1",y).attr("y2",y),S.attr("x",-9).attr("y",d).style("text-anchor","end")):"right"===n&&(M.attr("x2",6).attr("y2",0),S.attr("x",9).attr("y",0).style("text-anchor","start")),t.tickTitle&&S.append&&S.append("title").each(function(e){(0,r.select)(this).text(t.tickTitle[e])}),f.bandwidth){var N=f,P=N.bandwidth()/2;f=l=function scale0(t){return N(t)+P}}else l.bandwidth?l=f:x.call(F,f);_.call(F,l),m.call(F,f)})}var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=(0,i.scaleLinear)(),n="bottom",s=t.withOuterTick?6:0,u=null,l=void 0,c=void 0,d=0,f=!0,h=void 0,g=void 0;return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.orient=function(t){return arguments.length?(n=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",axis):n},axis.tickFormat=function(t){return arguments.length?(l=t,axis):l},axis.tickCentered=function(t){return arguments.length?(h=t,axis):h},axis.tickOffset=function(){return d},axis.tickInterval=function(e){var n=void 0;t.isCategory?n=2*d:n=(axis.g.select("path.domain").node().getTotalLength()-2*s)/(e||axis.g.selectAll("line").size());return n===Infinity?0:n},axis.ticks=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?(c=(0,a.toArray)(e),axis):c},axis.tickCulling=function(t){return arguments.length?(f=t,axis):f},axis.tickValues=function(t){if((0,a.isFunction)(t))u=function tickValues(){return t(e.domain())};else{if(!arguments.length)return u;u=t}return axis},axis.setTransition=function(t){return g=t,axis},axis};var i=n(65),r=n(64),a=n(5),o=function getSizeFor1Char(t){var e={w:5.5,h:11.5};return t.empty()||t.select("text").text("0").call(function(t){var n=t.node().getBBox(),i=n.height,r=n.width;i&&r&&(e.h=i,e.w=r),t.text("")}),getSizeFor1Char.size=e};t.exports=e["default"]},function(t,e,n){"use strict";var i=_interopRequireDefault(n(10)),r=_interopRequireDefault(n(3)),a=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,a.extend)(r["default"].prototype,{getOptions:function getOptions(){var t=new i["default"];return(0,a.merge)(t.value,this.additionalConfig)},additionalConfig:{},loadConfig:function loadConfig(t){var e=this.config,n=void 0,i=void 0,r=void 0,o=function(){var t=i.shift();return t&&n&&(0,a.isObjectType)(n)&&t in n?(n=n[t],o()):t?undefined:n};Object.keys(e).forEach(function(s){n=t,i=s.split("_"),r=o(),(0,a.isDefined)(r)&&(e[s]=r)})}})},function(t,e,n){"use strict";e.__esModule=!0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(2));e["default"]=function Options(){(0,i["default"])(this,Options),this.value={bindto:"#chart",clipPath:!0,svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:undefined,zoom_onzoomstart:undefined,zoom_onzoomend:undefined,zoom_x_min:undefined,zoom_x_max:undefined,interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{},onover:function onover(){},onout:function onout(){},onresize:function onresize(){},onresized:function onresized(){},onbeforeinit:undefined,oninit:function oninit(){},onafterinit:undefined,onrendered:undefined,transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function data_idConverter(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_labels_position:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function data_selection_isselectable(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function data_onclick(){},data_onover:function data_onover(){},data_onout:function data_onout(){},data_onselected:function data_onselected(){},data_onunselected:function data_onunselected(){},data_onmin:undefined,data_onmax:undefined,data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function subchart_onbrush(){},color_pattern:[],color_tiles:undefined,color_threshold:{},legend_show:!0,legend_hide:!1,legend_contents_bindto:undefined,legend_contents_template:undefined,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onover:undefined,legend_item_onout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,legend_usePoint:!1,axis_rotated:!1,axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_front:!1,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_pattern:[],point_select_r:undefined,point_type:"circle",line_connectNull:!1,line_step_type:"step",line_classes:undefined,bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,bar_padding:0,bubble_maxR:35,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,pie_innerRadius:0,pie_padAngle:0,pie_padding:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",radar_axis_max:undefined,radar_axis_line_show:!0,radar_axis_text_show:!0,radar_level_depth:3,radar_level_show:!0,radar_level_text_format:function radar_level_text_format(t){return t%1==0?t:t.toFixed(2)},radar_level_text_show:!0,radar_size_ratio:.87,regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function tooltip_contents(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function tooltip_onshow(){},tooltip_onhide:function tooltip_onhide(){},tooltip_onshown:function tooltip_onshown(){},tooltip_onhidden:function tooltip_onhidden(){},tooltip_order:null,title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"}},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(65),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3));(0,n(5).extend)(r["default"].prototype,{getScale:function getScale(t,e,n){return(n?(0,i.scaleTime)():(0,i.scaleLinear)()).range([t,e])},getX:function getX(t,e,n,i){var r=this.zoomScale||this.getScale(t,e,this.isTimeSeries());return this.getCustomizedScale(n?r.domain(n):r,i)},getY:function getY(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},getCustomizedScale:function getCustomizedScale(t,e){var n=this,i=e||function(){return n.xAxis.tickOffset()},r=function(e,n){var r=t(e)+i();return n?r:Math.ceil(r)};for(var a in t)r[a]=t[a];return r.orgDomain=function(){return t.domain()},r.orgScale=function(){return t},n.isCategorized()&&(r.domain=function(e){var n=e;return arguments.length?(t.domain(n),r):[(n=this.orgDomain())[0],n[1]+1]}),r},getYScale:function getYScale(t){return"y2"===this.axis.getId(t)?this.y2:this.y},getSubYScale:function getSubYScale(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},updateScales:function updateScales(t){var e=this,n=e.config,i=n.axis_rotated,r=!e.x;e.xMin=i?1:0,e.xMax=i?e.height:e.width,e.yMin=i?0:e.height,e.yMax=i?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=i?0:e.height2,e.subYMax=i?e.width2:1,e.x=e.getX(e.xMin,e.xMax,r?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,r?n.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,r?n.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,r?n.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,r?n.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis("x",e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,n.axis_x_tick_outer,t),e.subXAxis=e.axis.getXAxis("subx",e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,n.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,n.axis_y_tick_format,e.yAxisTickValues,n.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,n.axis_y2_tick_format,e.y2AxisTickValues,n.axis_y2_tick_outer),e.updateArc&&e.updateArc()}})},function(t,e,n){"use strict";var i=n(66),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),a=n(5);(0,a.extend)(r["default"].prototype,{getYDomainMinMax:function getYDomainMinMax(t,e){var n=this,r="min"===e,a=n.config.data_groups,o=n.mapToIds(t),s=n.getValuesAsIdKeyed(t),u=r?i.min:i.max;return a.length>0&&function(){for(var e=n["has"+(r?"Negative":"Positive")+"ValueInTargets"](t),i=void 0,u=void 0,l=0;u=a[l];l++)if(0!==(u=u.filter(function(t){return o.indexOf(t)>=0})).length){if(i=u[0],e&&s[i]){var c=r?function(t,e){s[i][e]=t<0?t:0}:function(t,e){s[i][e]=t>0?t:0};s[i].forEach(c)}for(var d,f=function(t,a){return s[a]?void s[a].forEach(function(t,o){var u=+t,l=r?u>0:u<0;n.axis.getId(a)===n.axis.getId(i)&&s[i]&&(!e||!l)&&(s[i][o]+=u)}):"continue"},h=1;d=u[h];h++)f(0,d)}}(),u(Object.keys(s).map(function(t){return u(s[t])}))},getYDomainMin:function getYDomainMin(t){return this.getYDomainMinMax(t,"min")},getYDomainMax:function getYDomainMax(t){return this.getYDomainMinMax(t,"max")},getYDomain:function getYDomain(t,e,n){var i=this,r=i.config,o=t.filter(function(t){return i.axis.getId(t.id)===e}),s=n?i.filterByXDomain(o,n):o,u="y2"===e?r.axis_y2_min:r.axis_y_min,l="y2"===e?r.axis_y2_max:r.axis_y_max,c=i.getYDomainMin(s),d=i.getYDomainMax(s),f="y2"===e?r.axis_y2_center:r.axis_y_center,h=i.hasType("bar",s)&&r.bar_zerobased||i.hasType("area",s)&&r.area_zerobased,g="y2"===e?r.axis_y2_inverted:r.axis_y_inverted,p=i.hasDataLabel()&&r.axis_rotated,_=i.hasDataLabel()&&!r.axis_rotated,x=void 0;if(c=(0,a.isValue)(u)?u:(0,a.isValue)(l)?c<l?c:l-10:c,d=(0,a.isValue)(l)?l:(0,a.isValue)(u)?u<d?d:u+10:d,0===s.length)return"y2"===e?i.y2.domain():i.y.domain();isNaN(c)&&(c=0),isNaN(d)&&(d=c),c===d&&(c<0?d=0:c=0);var m=c>=0&&d>=0,v=c<=0&&d<=0;((0,a.isValue)(u)&&m||(0,a.isValue)(l)&&v)&&(h=!1),h&&(m&&(c=0),v&&(d=0));var y=Math.abs(d-c),b=.1*y,w=.1*y;if((0,a.isDefined)(f)){var T=Math.max(Math.abs(c),Math.abs(d));d=f+T,c=f-T}if(p){x=i.getDataLabelLength(c,d,"width");var A=(0,a.diffDomain)(i.y.range()),M=[x[0]/A,x[1]/A];b+=y*(M[1]/(1-M[0]-M[1])),w+=y*(M[0]/(1-M[0]-M[1]))}else _&&(x=i.getDataLabelLength(c,d,"height"),b+=i.axis.convertPixelsToAxisPadding(x[1],y),w+=i.axis.convertPixelsToAxisPadding(x[0],y));"y"===e&&(0,a.notEmpty)(r.axis_y_padding)&&(b=i.axis.getPadding(r.axis_y_padding,"top",b,y),w=i.axis.getPadding(r.axis_y_padding,"bottom",w,y)),"y2"===e&&(0,a.notEmpty)(r.axis_y2_padding)&&(b=i.axis.getPadding(r.axis_y2_padding,"top",b,y),w=i.axis.getPadding(r.axis_y2_padding,"bottom",w,y)),h&&(m&&(w=c),v&&(b=-d));var C=[c-w,d+b];return g?C.reverse():C},getXDomainMinMax:function getXDomainMinMax(t,e){var n=this.config["axis_x_"+e],r="min"===e?i.min:i.max;return(0,a.isDefined)(n)?this.isTimeSeries()?this.parseDate(n):n:r(t,function(t){return r(t.values,function(t){return t.x})})},getXDomainMin:function getXDomainMin(t){return this.getXDomainMinMax(t,"min")},getXDomainMax:function getXDomainMax(t){return this.getXDomainMinMax(t,"max")},getXDomainPadding:function getXDomainPadding(t){var e=this.config,n=t[1]-t[0],i=e.axis_x_padding,r=void 0,o=void 0;this.isCategorized()?o=0:this.hasType("bar")?o=(r=this.getMaxDataCount())>1?n/(r-1)/2:.5:o=.01*n;var s=o,u=o;return(0,a.isObject)(i)&&(0,a.notEmpty)(i)?(s=(0,a.isValue)(i.left)?i.left:o,u=(0,a.isValue)(i.right)?i.right:o):(0,a.isNumber)(e.axis_x_padding)&&(s=i,u=i),{left:s,right:u}},getXDomain:function getXDomain(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],a=e.getXDomainPadding(n),o=0,s=0;return i-r!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(o=e.isTimeSeries()?new Date(i.getTime()-a.left):i-a.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},updateXDomain:function updateXDomain(t,e,n,r,a){var o=this,s=o.config.zoom_enabled;if(n&&(o.x.domain(a||(0,i.extent)(o.getXDomain(t))),o.orgXDomain=o.x.domain(),s&&o.zoom.updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e){var u=a||!o.brush||o.brushEmpty()?o.orgXDomain:o.getBrushSelection().map(function(t){return o.subX.invert(t)});o.x.domain(u),s&&o.zoom.updateScaleExtent()}return r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},trimXDomain:function trimXDomain(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t}})},function(t,e,n){"use strict";var i=n(66),r=n(71),a=_interopRequireDefault(n(7)),o=_interopRequireDefault(n(3)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,s.extend)(o["default"].prototype,{isX:function isX(t){var e=this.config,n=e.data_x&&t===e.data_x,i=(0,s.notEmpty)(e.data_xs)&&(0,s.hasValue)(e.data_xs,t);return n||i},isNotX:function isNotX(t){return!this.isX(t)},getXKey:function getXKey(t){var e=this.config;return e.data_x?e.data_x:(0,s.notEmpty)(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function getXValuesOfXKey(t,e){var n=this,i=void 0;return(e&&(0,s.notEmpty)(e)?n.mapToIds(e):[]).forEach(function(e){n.getXKey(e)===t&&(i=n.data.xs[e])}),i},getIndexByX:function getIndexByX(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},getXValue:function getXValue(t,e){return t in this.data.xs&&this.data.xs[t]&&(0,s.isValue)(this.data.xs[t][e])?this.data.xs[t][e]:e},getOtherTargetXs:function getOtherTargetXs(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function getOtherTargetX(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function addXs(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},hasMultipleX:function hasMultipleX(t){return(0,r.set)(Object.keys(t).map(function(e){return t[e]})).size()>1},isMultipleX:function isMultipleX(){return(0,s.notEmpty)(this.config.data_xs)||!this.config.data_xSort||this.hasType("bubble")||this.hasType("scatter")},addName:function addName(t){var e=void 0;return t&&(e=this.config.data_names[t.id],t.name=e===undefined?t.id:e),t},getAllValuesOnIndex:function getAllValuesOnIndex(t){var e=this;return e.filterTargetsToShow(e.data.targets).map(function(n){return e.addName(e.getValueOnIndex(n.values,t))})},getValueOnIndex:function getValueOnIndex(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},updateTargetX:function updateTargetX(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},updateTargetXs:function updateTargetXs(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},generateTargetX:function generateTargetX(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?(0,s.isValue)(t)?+t:i.getXValue(e,n):n},cloneTarget:function cloneTarget(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},updateXs:function updateXs(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},getPrevX:function getPrevX(t){var e=this.xs[t-1];return(0,s.isDefined)(e)?e:null},getNextX:function getNextX(t){var e=this.xs[t+1];return(0,s.isDefined)(e)?e:null},getMinMaxValue:function getMinMaxValue(t){var e=void 0,n=void 0;return(t||this.data.targets.map(function(t){return t.values})).forEach(function(t){e=(0,i.min)([e,(0,i.min)(t,function(t){return t.value})]),n=(0,i.max)([n,(0,i.max)(t,function(t){return t.value})])}),{min:e,max:n}},getMinMaxData:function getMinMaxData(){var t=this,e=t.getCaches("$minMaxData");if(!e){var n=t.data.targets.map(function(t){return t.values}),i=t.getMinMaxValue(n),r=[],a=[];n.forEach(function(e){var n=t.getFilteredDataByValue(e,i.min),o=t.getFilteredDataByValue(e,i.max);n.length&&(r=r.concat(n)),o.length&&(a=a.concat(o))}),t.addCache("$minMaxData",e={min:r,max:a})}return e},getTotalDataSum:function getTotalDataSum(){var t=this.getCaches("$totalDataSum");if(!t){var e=0;this.data.targets.map(function(t){return t.values}).forEach(function(t){e+=(0,i.sum)(t,function(t){return t.value})}),this.addCache("$totalDataSum",t=e)}return t},getFilteredDataByValue:function getFilteredDataByValue(t,e){return t.filter(function(t){return t.value===e})},getMaxDataCount:function getMaxDataCount(){return(0,i.max)(this.data.targets,function(t){return t.values.length})},getMaxDataCountTarget:function getMaxDataCountTarget(t){var e=t.length,n=0,i=void 0;return e>1?t.forEach(function(t){t.values.length>n&&(i=t,n=t.values.length)}):i=e?t[0]:null,i},mapToIds:function mapToIds(t){return t.map(function(t){return t.id})},mapToTargetIds:function mapToTargetIds(t){return t?(0,s.isArray)(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function hasTarget(t,e){for(var n,i=this.mapToIds(t),r=0;n=i[r];r++)if(n===e)return!0;return!1},isTargetToShow:function isTargetToShow(t){return this.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function isLegendToShow(t){return this.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function filterTargetsToShow(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},mapTargetsToUniqueXs:function mapTargetsToUniqueXs(t){var e=(0,r.set)((0,i.merge)(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},addHiddenTargetIds:function addHiddenTargetIds(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},removeHiddenTargetIds:function removeHiddenTargetIds(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},addHiddenLegendIds:function addHiddenLegendIds(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},removeHiddenLegendIds:function removeHiddenLegendIds(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},getValuesAsIdKeyed:function getValuesAsIdKeyed(t){var e=this,n={};return t.forEach(function(t){var i=[];t.values.forEach(function(t){var n=t.value;(0,s.isArray)(n)?i.push.apply(i,n):e.isObject(n)&&"high"in n?i.push.apply(i,Object.values(n)):i.push(n)}),n[t.id]=i}),n},checkValueInTargets:function checkValueInTargets(t,e){for(var n=Object.keys(t),i=void 0,r=0;r<n.length;r++){i=t[n[r]].values;for(var a=0;a<i.length;a++)if(e(i[a].value))return!0}return!1},hasNegativeValueInTargets:function hasNegativeValueInTargets(t){return this.checkValueInTargets(t,function(t){return t<0})},hasPositiveValueInTargets:function hasPositiveValueInTargets(t){return this.checkValueInTargets(t,function(t){return t>0})},_checkOrder:function _checkOrder(t){var e=this.config;return(0,s.isString)(e.data_order)&&e.data_order.toLowerCase()===t},isOrderDesc:function isOrderDesc(){return this._checkOrder("desc")},isOrderAsc:function isOrderAsc(){return this._checkOrder("asc")},orderTargets:function orderTargets(t){var e=this.config,n=[].concat(t),i=this.isOrderAsc(),r=this.isOrderDesc();return i||r?n.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),a=e.values.reduce(n,0);return i?a-r:r-a}):(0,s.isFunction)(e.data_order)&&n.sort(e.data_order),n},filterByX:function filterByX(t,e){return(0,i.merge)(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},filterRemoveNull:function filterRemoveNull(t){return t.filter(function(t){return(0,s.isValue)(t.value)})},filterByXDomain:function filterByXDomain(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},hasDataLabel:function hasDataLabel(){var t=this.config.data_labels;return(0,s.isBoolean)(t)&&t||(0,s.isObjectType)(t)&&(0,s.notEmpty)(t)},getDataLabelLength:function getDataLabelLength(t,e,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]}).remove(),r},isNoneArc:function isNoneArc(t){return this.hasTarget(this.data.targets,t.id)},isArc:function isArc(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function findSameXOfValues(t,e){var n=t[e].x,i=[],r=void 0;for(r=e-1;r>=0&&n===t[r].x;r--)i.push(t[r]);for(r=e;r<t.length&&n===t[r].x;r++)i.push(t[r]);return i},findClosestFromTargets:function findClosestFromTargets(t,e){var n=this,i=t.map(function(t){return n.findClosest(t.values,e)});return n.findClosest(i,e)},findClosest:function findClosest(t,e){var n=this,i=n.config.point_sensitivity,r=void 0;return t.filter(function(t){return t&&n.isBarType(t.id)}).forEach(function(t){var e=n.main.select("."+a["default"].bars+n.getTargetSelectorSuffix(t.id)+" ."+a["default"].bar+"-"+t.index).node();!r&&n.isWithinBar(e)&&(r=t)}),t.filter(function(t){return t&&!n.isBarType(t.id)}).forEach(function(t){var a=n.dist(t,e);a<i&&(i=a,r=t)}),r},dist:function dist(t,e){var n=this.config,i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,a=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[i],2)+Math.pow(a-e[r],2))},convertValuesToStep:function convertValuesToStep(t){var e=(0,s.isArray)(t)?t.concat():[t];if(!this.isCategorized())return t;for(var n=t.length+1;n>0;n--)e[n]=e[n-1];return e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id},e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id},e},convertValuesToRange:function convertValuesToRange(t){var e=[];return((0,s.isArray)(t)?t.concat():[t]).forEach(function(t){var n=t.x,i=t.id;e.push({x:n,id:i,value:t.value[0]}),e.push({x:n,id:i,value:t.value[2]})}),e},updateDataAttributes:function updateDataAttributes(t,e){var n=this.config["data_"+t];return(0,s.isUndefined)(e)?n:(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0}),n)},getAreaRangeData:function getAreaRangeData(t,e){if((0,s.isArray)(t.value)){var n=["high","mid","low"].indexOf(e);return-1===n?0:t.value[n]}return t.value[e]}})},function(t,e,n){"use strict";var i=n(77),r=n(71),a=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),o=n(5);(0,o.extend)(a["default"].prototype,{convertUrlToData:function convertUrlToData(t){var e=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"csv",i=arguments[2],r=arguments[3],a=arguments[4],s=new XMLHttpRequest;if(i){var u=Object.keys(i),l=Array.isArray(u),c=0;for(u=l?u:u[Symbol.iterator]();;){var d;if(l){if(c>=u.length)break;d=u[c++]}else{if((c=u.next()).done)break;d=c.value}var f=d;s.setRequestHeader(f,i[f])}}s.open("GET",t),s.onreadystatechange=function(){if(4===s.readyState){if(200!==s.status)throw new Error(t+": Something went wrong loading!");var i=s.responseText;i&&a.call(e,e["convert"+(0,o.capitalize)(n)+"ToData"]("json"===n?JSON.parse(i):i,r))}},s.send()},_convertCsvTsvToData:function _convertCsvTsvToData(t,e){var n=t.rows(e),i=void 0;return 1===n.length?(i=[{}],n[0].forEach(function(t){i[0][t]=null})):i=t.parse(e),i},convertCsvToData:function convertCsvToData(t){return this._convertCsvTsvToData({rows:i.csvParseRows,parse:i.csvParse},t)},convertTsvToData:function convertTsvToData(t){return this._convertCsvTsvToData({rows:i.tsvParseRows,parse:i.tsvParse},t)},convertJsonToData:function convertJsonToData(t,e){var n=this,i=this.config,r=[],a=void 0,s=void 0;if((0,o.isArray)(t)){var u=e||i.data_keys;u.x?(a=u.value.concat(u.x),i.data_x=u.x):a=u.value,r.push(a),t.forEach(function(t){var e=[],i=a,s=Array.isArray(i),u=0;for(i=s?i:i[Symbol.iterator]();;){var l;if(s){if(u>=i.length)break;l=i[u++]}else{if((u=i.next()).done)break;l=u.value}var c=l,d=n.findValueInJson(t,c);(0,o.isUndefined)(d)&&(d=null),e.push(d)}r.push(e)}),s=this.convertRowsToData(r)}else Object.keys(t).forEach(function(e){var n=t[e].concat();n.unshift(e),r.push(n)}),s=this.convertColumnsToData(r);return s},findValueInJson:function findValueInJson(t,e){if(t[e]!==undefined)return t[e];var n=t,i=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),r=Array.isArray(i),a=0;for(i=r?i:i[Symbol.iterator]();;){var o;if(r){if(a>=i.length)break;o=i[a++]}else{if((a=i.next()).done)break;o=a.value}if(!(o in n)){n=undefined;break}n=n[o]}return n},convertRowsToData:function convertRowsToData(t){for(var e=t[0],n=[],i=1,r=t.length;i<r;i++){for(var a={},s=0,u=t[i].length;s<u;s++){if((0,o.isUndefined)(t[i][s]))throw new Error("Source data is missing a component at ("+i+", "+s+")!");a[e[s]]=t[i][s]}n.push(a)}return n},convertColumnsToData:function convertColumnsToData(t){for(var e=[],n=0,i=t.length;n<i;n++)for(var r=t[n][0],a=1,s=t[n].length;a<s;a++){if((0,o.isUndefined)(e[a-1])&&(e[a-1]={}),(0,o.isUndefined)(t[n][a]))throw new Error("Source data is missing a component at ("+n+", "+a+")!");e[a-1][r]=t[n][a]}return e},convertDataToTargets:function convertDataToTargets(t,e){var n=this,i=this,a=i.config,s=(0,r.keys)(t[0]).filter(i.isNotX,i),u=(0,r.keys)(t[0]).filter(i.isX,i);s.forEach(function(r){var s=n.getXKey(r);n.isCustomX()||n.isTimeSeries()?u.indexOf(s)>=0?n.data.xs[r]=(e&&i.data.xs[r]?i.data.xs[r]:[]).concat(t.map(function(t){return t[s]}).filter(o.isValue).map(function(t,e){return i.generateTargetX(t,r,e)})):a.data_x?n.data.xs[r]=n.getOtherTargetXs():(0,o.notEmpty)(a.data_xs)&&(i.data.xs[r]=i.getXValuesOfXKey(s,i.data.targets)):i.data.xs[r]=t.map(function(t,e){return e})}),s.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')});var l=s.map(function(e,n){var r=a.data_idConverter(e);return{id:r,id_org:e,values:t.map(function(t,s){var u=t[i.getXKey(e)],l=null===t[e]||isNaN(t[e])?(0,o.isArray)(t[e])||i.isObject(t[e])&&t[e].high?t[e]:null:+t[e],c=void 0;return i.isCustomX()&&i.isCategorized()&&0===n&&!(0,o.isUndefined)(u)?(0===n&&0===s&&(a.axis_x_categories=[]),-1===(c=a.axis_x_categories.indexOf(u))&&(c=a.axis_x_categories.length,a.axis_x_categories.push(u))):c=i.generateTargetX(u,e,s),((0,o.isUndefined)(t[e])||i.data.xs[e].length<=s)&&(c=undefined),{x:c,value:l,id:r}}).filter(function(t){return(0,o.isDefined)(t.x)})}});return l.forEach(function(t){var e=void 0;a.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),i.hasNegativeValue=i.hasNegativeValueInTargets(l),i.hasPositiveValue=i.hasPositiveValueInTargets(l),a.data_type&&i.setTargetType(i.mapToIds(l).filter(function(t){return!(t in a.data_types)}),a.data_type),l.forEach(function(t){return i.addCache(t.id_org,t,!0)}),l}})},function(t,e,n){"use strict";var i=_interopRequireDefault(n(7)),r=_interopRequireDefault(n(3));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,n(5).extend)(r["default"].prototype,{load:function load(t,e){var n=this,i=t;i&&(e.filter&&(i=i.filter(e.filter)),(e.type||e.types)&&i.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(t){for(var e=0;e<i.length;e++)if(t.id===i[e].id){t.values=i[e].values,i.splice(e,1);break}}),n.data.targets=n.data.targets.concat(i)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},loadFromArgs:function loadFromArgs(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},unload:function unload(t,e){var n=this,r=e,a=t;return n.resetCache(),r||(r=function(){}),(a=a.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==a.length?(n.svg.selectAll(a.map(function(t){return n.selectorTarget(t)})).transition().style("opacity","0").remove().call(n.endall,r),void a.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+i["default"].legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void r()}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3));(0,n(5).extend)(i["default"].prototype,{categoryName:function categoryName(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t}})},function(t,e,n){"use strict";var i=n(64),r=n(74),a=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(7)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,s.extend)(a["default"].prototype,{initEventRect:function initEventRect(){this.main.select("."+o["default"].chart).append("g").attr("class",o["default"].eventRects).style("fill-opacity","0")},redrawEventRect:function redrawEventRect(){var t=this,e=t.config,n=t.isMultipleX(),i=void 0,r=t.main.select("."+o["default"].eventRects).style("cursor",e.zoom_enabled?e.axis_rotate?"ns-resize":"ew-resize":null).classed(o["default"].eventRectsMultiple,n).classed(o["default"].eventRectsSingle,!n);if(r.selectAll("."+o["default"].eventRect).remove(),t.eventRect=r.selectAll("."+o["default"].eventRect),n)i=t.eventRect.data([0]),i=t.generateEventRectsForMultipleXs(i.enter()).merge(i);else{var a=t.getMaxDataCountTarget(t.data.targets);r.datum(a?a.values:[]),t.eventRect=r.selectAll("."+o["default"].eventRect),(i=t.eventRect.data(function(t){return t})).exit().remove(),i=t.generateEventRectsForSingleX(i.enter()).merge(i)}t.updateEventRect(i),"touch"!==t.inputType||t.svg.on("touchstart.eventRect")||t.hasArcType()||t.bindTouchOnEventRect(n)},bindTouchOnEventRect:function bindTouchOnEventRect(t){var e=this,n=e.config,r=function(){var t=i.event.changedTouches[0];return(0,i.select)(document.elementFromPoint(t.clientX,t.clientY))},a=function(t){var e=t&&t.attr("class")&&1*t.attr("class").replace(new RegExp("("+o["default"].eventRect+"-?|s)","g"),"");return(isNaN(e)||null===e)&&(e=-1),e},u=n.interaction_inputType_touch.preventDefault,l=(0,s.isBoolean)(u)&&u||!1,c=!isNaN(u)&&u||null,d=void 0;e.svg.on("touchstart.eventRect touchmove.eventRect",function(){var s=r();if(!s.empty()&&s.classed(o["default"].eventRect)){if(e.dragging||e.flowing||e.hasArcType())return;(function(t){var e=t.type,i=t.changedTouches[0]["client"+(n.axis_rotated?"Y":"X")];"touchstart"===e?l?t.preventDefault():null!==c&&(d=i):"touchmove"===e&&(l||!0===d||null!==c&&Math.abs(d-i)>=c)&&(d=!0,t.preventDefault())})(i.event),function(n){if(t)e.selectRectForMultipleXs(n);else{var i=r(),o=a(i);e.setOver(o),-1===o?e.unselectRect():e.selectRectForSingle(n,i,o)}}(this)}else e.unselectRect()}).on("touchend.eventRect",function(){var i=r();if(!i.empty()&&i.classed(o["default"].eventRect)){if(e.hasArcType()||!e.toggleShape||e.cancelClick)return void(e.cancelClick&&(e.cancelClick=!1));var s=a(i);t||-1===s||e.main.selectAll("."+o["default"].shape+"-"+s).each(function(t){return n.data_onout.call(e.api,t)})}})},updateEventRect:function updateEventRect(t){var e=this,n=e.config,i=e.zoomScale||e.x,r=t||e.eventRect.data(),a=n.axis_rotated,o=void 0,s=void 0,u=void 0,l=void 0;if(e.isMultipleX())o=0,s=0,u=e.width,l=e.height;else{var c=void 0,d=void 0;!e.isCustomX()&&!e.isTimeSeries()||e.isCategorized()?(c=e.getEventRectWidth(),d=function(t){return i(t.x)-c/2}):(e.updateXs(),c=function(t){var n=e.getPrevX(t.index),r=e.getNextX(t.index);return null===n&&null===r?a?e.height:e.width:(null===n&&(n=i.domain()[0]),null===r&&(r=i.domain()[1]),Math.max(0,(i(r)-i(n))/2))},d=function(t){var n=e.getNextX(t.index),r=e.data.xs[t.id][t.index],a=e.getPrevX(t.index);return null===a&&null===n?0:(null===a&&(a=i.domain()[0]),(i(r)+i(a))/2)}),o=a?0:d,s=a?d:0,u=a?e.width:c,l=a?c:e.height}r.attr("class",e.classEvent.bind(e)).attr("x",o).attr("y",s).attr("width",u).attr("height",l)},selectRectForSingle:function selectRectForSingle(t,e,n){var r=this,a=r.config,s=a.data_selection_enabled,u=a.data_selection_grouped,l=a.tooltip_grouped,c=r.getAllValuesOnIndex(n);l&&(r.showTooltip(c,t),r.showXGridFocus(c),!s||u)||r.main.selectAll("."+o["default"].shape+"-"+n).each(function(){(0,i.select)(this).classed(o["default"].EXPANDED,!0),s&&e.style("cursor",u?"pointer":null),l||(r.hideXGridFocus(),r.hideTooltip(),!u&&r.expandCirclesBars(n))}).filter(function(t){return r.isWithinShape(this,t)}).each(function(t){s&&(u||a.data_selection_isselectable(t))&&e.style("cursor","pointer"),l||(r.showTooltip([t],this),r.showXGridFocus([t]),r.expandCirclesBars(n,t.id,!0))})},expandCirclesBars:function expandCirclesBars(t,e,n){this.config.point_focus_expand_enabled&&this.expandCircles(t,e,n),this.expandBars(t,e,n)},selectRectForMultipleXs:function selectRectForMultipleXs(t){var e=this,n=e.config,r=e.filterTargetsToShow(e.data.targets);if(!e.dragging&&!e.hasArcType(r)){var a=(0,i.mouse)(t),s=e.findClosestFromTargets(r,a);if(e.mouseover&&(!s||s.id!==e.mouseover.id)&&(n.data_onout.call(e.api,e.mouseover),e.mouseover=undefined),!s)return void e.unselectRect();var u=(e.isBubbleType(s)||e.isScatterType(s)||!n.tooltip_grouped?[s]:e.filterByX(r,s.x)).map(function(t){return e.addName(t)});e.showTooltip(u,t),e.expandCirclesBars(s.index,s.id,!0),e.showXGridFocus(u),(e.isBarType(s.id)||e.dist(s,a)<n.point_sensitivity)&&(e.svg.select("."+o["default"].eventRect).style("cursor","pointer"),!e.mouseover&&(n.data_onover.call(e.api,s),e.mouseover=s))}},unselectRect:function unselectRect(){var t=this;t.svg.select("."+o["default"].eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()},setOver:function setOver(t){var e=this,n=e.config;e.expandCirclesBars(t,null,!0),-1!==t&&e.main.selectAll("."+o["default"].shape+"-"+t).each(function(t){return n.data_onover.call(e.api,t)})},generateEventRectsForSingleX:function generateEventRectsForSingleX(t){var e=this,n=e.config,a=t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("click",function(t){if(e.hasArcType()||!e.toggleShape||e.cancelClick)e.cancelClick&&(e.cancelClick=!1);else{var i=t.index;e.main.selectAll("."+o["default"].shape+"-"+i).each(function(t){(n.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,i),e.config.data_onclick.call(e.api,t,this))})}}).call(n.data_selection_draggable&&e.drag?(0,r.drag)().origin(Object).on("drag",function(){e.drag((0,i.mouse)(this))}).on("dragstart",function(){e.dragstart((0,i.mouse)(this))}).on("dragend",function(){e.dragend()}):function(){});return"mouse"===e.inputType&&a.on("mouseover",function(t){e.dragging||e.flowing||e.hasArcType()||e.setOver(t.index)}).on("mousemove",function(t){if(!(e.dragging||e.flowing||e.hasArcType())){var n=t.index,r=e.svg.select("."+o["default"].eventRect+"-"+n);e.isStepType(t)&&"step-after"===e.config.line_step_type&&(0,i.mouse)(this)[0]<e.x(e.getXValue(t.id,n))&&(n-=1),-1===n?e.unselectRect():e.selectRectForSingle(this,r,n)}}).on("mouseout",function(t){if(e.config&&!e.hasArcType()){var i=t.index;e.unselectRect(),e.main.selectAll("."+o["default"].shape+"-"+i).each(function(t){return n.data_onout.call(e.api,t)})}}),a},generateEventRectsForMultipleXs:function generateEventRectsForMultipleXs(t){var e=this,n=e.config,a=t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",o["default"].eventRect).on("click",function(){var t=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(t)){var r=(0,i.mouse)(this),a=e.findClosestFromTargets(t,r);!a||(e.isBarType(a.id)||e.dist(a,r)<n.point_sensitivity)&&e.main.selectAll("."+o["default"].shapes+e.getTargetSelectorSuffix(a.id)).selectAll("."+o["default"].shape+"-"+a.index).each(function(){(n.data_selection_grouped||e.isWithinShape(this,a))&&(e.toggleShape(this,a,a.index),e.config.data_onclick.call(e.api,a,this))})}}).call(n.data_selection_draggable&&e.drag?(0,r.drag)().origin(Object).on("drag",function(){e.drag((0,i.mouse)(this))}).on("dragstart",function(){e.dragstart((0,i.mouse)(this))}).on("dragend",function(){e.dragend()}):function(){});return"mouse"===e.inputType&&a.on("mouseover mousemove",function(){e.selectRectForMultipleXs(this)}).on("mouseout",function(){!e.config||e.hasArcType()||e.unselectRect()}),a},dispatchEvent:function dispatchEvent(t,e,n){var i="."+(this.isMultipleX()?o["default"].eventRect:o["default"].eventRect+"-"+e),r=this.main.select(i).node(),a=r.getBoundingClientRect(),u=a.left+(n?n[0]:0)+a.width/2,l=a.top+(n?n[1]:0);s.emulateEvent[/^mouse/.test(t)?"mouse":"touch"](r,t,{screenX:u,screenY:l,clientX:u,clientY:l})}})},function(t,e,n){"use strict";var i=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(7)),a=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,a.extend)(i["default"].prototype,{getCurrentWidth:function getCurrentWidth(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},getCurrentHeight:function getCurrentHeight(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},getCurrentPaddingTop:function getCurrentPaddingTop(){var t=this.config,e=(0,a.isValue)(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},getCurrentPaddingBottom:function getCurrentPaddingBottom(){var t=this.config;return(0,a.isValue)(t.padding_bottom)?t.padding_bottom:0},getCurrentPaddingLeft:function getCurrentPaddingLeft(t){var e=this.config;return(0,a.isValue)(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max((0,a.ceil10)(this.getAxisWidthByAxisId("x",t)),40):1:!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:(0,a.ceil10)(this.getAxisWidthByAxisId("y",t))},getCurrentPaddingRight:function getCurrentPaddingRight(){var t=this,e=t.config,n=t.isLegendRight?t.getLegendWidth()+20:0;return(0,a.isValue)(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):(0,a.ceil10)(t.getAxisWidthByAxisId("y2"))+n},getParentRectValue:function getParentRectValue(t){for(var e="offset"+(0,a.capitalize)(t),n=this.selectChart.node(),i=void 0;!i&&n&&"BODY"!==n.tagName;){try{i=n.getBoundingClientRect()[t]}catch(o){e in n&&(i=n[e])}n=n.parentNode}if("width"===t){var r=document.body.offsetWidth;i>r&&(i=r)}return i},getParentWidth:function getParentWidth(){return this.getParentRectValue("width")},getParentHeight:function getParentHeight(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},getSvgLeft:function getSvgLeft(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,a=n.axis_rotated?r["default"].axisX:r["default"].axisY,o=e.main.select("."+a).node(),s=o&&i?o.getBoundingClientRect():{right:0},u=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),c=s.right-u.left-(l?0:e.getCurrentPaddingLeft(t));return c>0?c:0},getAxisWidthByAxisId:function getAxisWidthByAxisId(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},getHorizontalAxisHeight:function getHorizontalAxisHeight(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},getEventRectWidth:function getEventRectWidth(){return Math.max(0,this.xAxis.tickInterval())}})},function(t,e,n){"use strict";var i=n(63),r=n(64),a=_interopRequireDefault(n(7)),o=_interopRequireDefault(n(3)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,s.extend)(o["default"].prototype,{getShapeIndices:function getShapeIndices(t){var e=this.config,n={},i=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(var r=0;r<e.data_groups.length;r++)if(!(e.data_groups[r].indexOf(t.id)<0))for(var a=0;a<e.data_groups[r].length;a++)if(e.data_groups[r][a]in n){n[t.id]=n[e.data_groups[r][a]];break}(0,s.isUndefined)(n[t.id])&&(n[t.id]=i++)}),n.__max__=i-1,n},getShapeX:function getShapeX(t,e,n,i){var r=this,a=i?r.subX:r.zoomScale?r.zoomScale:r.x,o=r.config.bar_padding;return function(i){var r=i.id in n?n[i.id]:0,s=i.x||0===i.x?a(i.x)-t*(e/2-r):0;return t&&s&&e>1&&o&&(r&&(s+=o*r),e>2?s-=(e-1)*o/2:2===e&&(s-=o/2)),s}},getShapeY:function getShapeY(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(n.value)}},getShapeOffset:function getShapeOffset(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),a=r.map(function(t){return t.id});return function(t,o){var u=n?i.getSubYScale(t.id):i.getYScale(t.id),l=u(0),c=l,d=o;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id===t.id||e[n.id]!==e[t.id]||a.indexOf(n.id)<a.indexOf(t.id)&&(((0,s.isUndefined)(r[d])||+r[d].x!=+t.x)&&(d=-1,r.forEach(function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(d=n)})),d in r&&r[d].value*t.value>=0&&(c+=u(r[d].value)-l))}),c}},isWithinShape:function isWithinShape(t,e){var n=this,i=(0,r.select)(t),o=void 0;return n.isTargetToShow(e.id)?n.hasValidPointType(t.nodeName)?o=n.isStepType(e)?n.isWithinStep(t,n.getYScale(e.id)(e.value)):n.isWithinCircle(t,1.5*n.pointSelectR(e)):"path"===t.nodeName&&(o=!i.classed(a["default"].bar)||n.isWithinBar(t)):o=!1,o},getInterpolate:function getInterpolate(t){var e=this.getInterpolateType(t);return{basis:i.curveBasis,"basis-closed":i.curveBasisClosed,"basis-open":i.curveBasisOpen,bundle:i.curveBundle,cardinal:i.curveCardinal,"cardinal-closed":i.curveCardinalClosed,"cardinal-open":i.curveCardinalOpen,"catmull-rom":i.curveCatmullRom,"catmull-rom-closed":i.curveCatmullRomClosed,"catmull-rom-open":i.curveCatmullRomOpen,"monotone-x":i.curveMonotoneX,"monotone-y":i.curveMonotoneY,natural:i.curveNatural,"linear-closed":i.curveLinearClosed,linear:i.curveLinear,step:i.curveStep,"step-after":i.curveStepAfter,"step-before":i.curveStepBefore}[e]},getInterpolateType:function getInterpolateType(t){var e=this,n=e.config.spline_interpolation_type,i=e.isInterpolationType(n)?n:"cardinal";return e.isSplineType(t)?i:e.isStepType(t)?e.config.line_step_type:"linear"}})},function(t,e,n){"use strict";var i=n(64),r=n(63),a=n(66),o=n(68),s=_interopRequireDefault(n(3)),u=_interopRequireDefault(n(7)),l=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,l.extend)(s["default"].prototype,{initPie:function initPie(){var t=this.config,e=this.hasType("pie")&&t.pie_padding?.01*t.pie_padding:t[t.data_type+"_padAngle"]?t[t.data_type+"_padAngle"]:0;this.pie=(0,r.pie)().padAngle(e).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.data_order||this.pie.sort(null)},updateRadius:function updateRadius(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6;var i=e.pie_innerRadius?e.pie_innerRadius:e.pie_padding?e.pie_padding*(t.innerRadiusRatio+.1):0;t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:i},updateArc:function updateArc(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},updateAngle:function updateAngle(t){var e=this,n=e.config,i=t,r=!1,a=0,o=void 0,s=void 0,u=void 0,l=void 0;return n?(e.pie(e.filterTargetsToShow(e.data.targets)).forEach(function(t){r||t.data.id!==i.data.id||(r=!0,(i=t).index=a),a++}),isNaN(i.startAngle)&&(i.startAngle=0),isNaN(i.endAngle)&&(i.endAngle=i.startAngle),e.isGaugeType(i.data)&&(o=n.gauge_min,s=n.gauge_max,u=Math.PI*(n.gauge_fullCircle?2:1)/(s-o),l=i.value<o?0:i.value<s?i.value-o:s-o,i.startAngle=n.gauge_startingAngle,i.endAngle=i.startAngle+u*l),r?i:null):null},getSvgArc:function getSvgArc(){var t=this,e=(0,r.arc)().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){if(i)return e(n);var r=t.updateAngle(n);return r?e(r):"M 0 0"};return n.centroid=e.centroid,n},getSvgArcExpanded:function getSvgArcExpanded(t){var e=this,n=(0,r.arc)().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},getArc:function getArc(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},transformForArcLabel:function transformForArcLabel(t){var e=this,n=e.config,i=e.updateAngle(t),r=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c="";return i&&!e.hasType("gauge")&&(r=this.svgArc.centroid(i),a=isNaN(r[0])?0:r[0],o=isNaN(r[1])?0:r[1],s=Math.sqrt(a*a+o*o),c="translate("+a*(u=e.hasType("donut")&&n.donut_label_ratio?(0,l.isFunction)(n.donut_label_ratio)?n.donut_label_ratio(t,e.radius,s):n.donut_label_ratio:e.hasType("pie")&&n.pie_label_ratio?(0,l.isFunction)(n.pie_label_ratio)?n.pie_label_ratio(t,e.radius,s):n.pie_label_ratio:e.radius&&(s?(36/e.radius>.375?1.175-36/e.radius:.8)*e.radius/s:0))+","+o*u+")"),c},getArcRatio:function getArcRatio(t){var e=this,n=e.config,i=null;if(t)if(e.pie.padAngle()()){var r=e.getTotalDataSum();e.hiddenTargetIds.length&&(r-=(0,a.sum)(e.api.data.values.call(e.api,e.hiddenTargetIds))),i=t.value/r}else i=(t.endAngle-t.startAngle)/(Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2));return i},convertToArcData:function convertToArcData(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},textForArcLabel:function textForArcLabel(t){var e=this;if(!e.shouldShowArcLabel())return"";var n=e.updateAngle(t),i=n?n.value:null,r=e.getArcRatio(n),a=t.data.id;if(!e.hasType("gauge")&&!e.meetsArcLabelThreshold(r))return"";var o=e.getArcLabelFormat();return o?o(i,r,a):e.defaultArcValueFormat(i,r)},textForGaugeMinMax:function textForGaugeMinMax(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},expandArc:function expandArc(t){var e=this,n=void 0;if(e.transiting)n=window.setInterval(function(){e.transiting||(window.clearInterval(n),e.legend.selectAll("."+u["default"].legendItemFocused).size()>0&&e.expandArc(t))},10);else{var r=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(r,"."+u["default"].chartArc)).each(function(t){e.shouldExpand(t.data.id)&&(0,i.select)(this).selectAll("path").transition().duration(e.expandDuration(t.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(t.data.id)).attr("d",e.svgArcExpandedSub)})}},unexpandArc:function unexpandArc(t){var e=this;if(!e.transiting){var n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n,"."+u["default"].chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll(""+u["default"].arc).style("opacity","1")}},expandDuration:function expandDuration(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},shouldExpand:function shouldExpand(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},shouldShowArcLabel:function shouldShowArcLabel(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},meetsArcLabelThreshold:function meetsArcLabelThreshold(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},getArcLabelFormat:function getArcLabelFormat(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},getGaugeLabelExtents:function getGaugeLabelExtents(){return this.config.gauge_label_extents},getArcTitle:function getArcTitle(){return this.hasType("donut")?this.config.donut_title:""},updateTargetsForArc:function updateTargetsForArc(t){var e=this,n=e.main,i=e.classChartArc.bind(e),r=e.classArcs.bind(e),a=e.classFocus.bind(e),o=n.select("."+u["default"].chartArcs).selectAll("."+u["default"].chartArc).data(e.pie(t)).attr("class",function(t){return i(t)+a(t.data)}),s=o.enter().append("g").attr("class",i);s.append("g").attr("class",r).merge(o),s.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity","0").style("text-anchor","middle").style("pointer-events","none")},initArc:function initArc(){this.arcs=this.main.select("."+u["default"].chart).append("g").attr("class",u["default"].chartArcs).attr("transform",this.getTranslate("arc")),this.setArcTitle()},setArcTitle:function setArcTitle(){var t=this.getArcTitle();if(t){var e=t.split("\n"),n=this.arcs.append("text").attr("class",u["default"].chartArcsTitle).style("text-anchor","middle");if(e.length>1){var i=+n.style("font-size").replace("px",""),r=Math.floor(n.text(".").node().getBBox().height,n.text(""));e.forEach(function(t,e){return n.insert("tspan").text(t).attr("x",0).attr("dy",e?r:0)}),n.attr("y","-"+(i*(e.length-2)||i/2))}else n.text(t)}},redrawArc:function redrawArc(t,e,n){function selectArc(t,e,n){r.expandArc(n),r.api.focus(n),r.toggleFocusLegend(n,!0),r.showTooltip([e],t)}function unselectArc(t){var e=t&&t.id||undefined;r.unexpandArc(e),r.api.revert(),r.revertLegend(),r.hideTooltip()}var r=this,a=r.config,s=r.main,l="touch"===r.inputType,c="mouse"===r.inputType,d=s.selectAll("."+u["default"].arcs).selectAll("."+u["default"].arc).data(r.arcData.bind(r));if(d.exit().transition().duration(e).style("opacity","0").remove(),(d=d.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&(a.data_selection_isselectable(t)?"pointer":null)}).style("opacity","0").each(function(t){r.isGaugeType(t.data)&&(t.startAngle=a.gauge_startingAngle,t.endAngle=a.gauge_startingAngle),this._current=t}).merge(d)).attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?"0":"1"}).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e=r.updateAngle(t);if(!e)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var n=(0,o.interpolate)(this._current,e);return this._current=n(0),function(e){var i=n(e);return i.data=t.data,r.getArc(i,!0)}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity","1").call(r.endall,function(){r.transiting=!1}),a.interaction_enabled&&(d.on("click",function(t,e){var n=r.updateAngle(t),i=void 0;n&&(i=r.convertToArcData(n),r.toggleShape&&r.toggleShape(this,i,e),r.config.data_onclick.call(r.api,i,this))}),c&&d.on("mouseover",function(t){if(!r.transiting){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;selectArc(this,n,n&&n.id||undefined),r.config.data_onover(n,this)}}).on("mouseout",function(t){if(!r.transiting){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;unselectArc(),r.config.data_onout(n,this)}}).on("mousemove",function(t){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;r.showTooltip([n],this)}),l&&r.hasArcType())){var f=function(){var t=i.event.changedTouches[0];return(0,i.select)(document.elementFromPoint(t.clientX,t.clientY))};r.svg.on("touchstart",function(){if(!r.transiting){var t=f().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i),r.config.data_onover(n,this)}}).on("touchend",function(){if(!r.transiting){var t=f().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i),r.config.data_onout(n,this)}}).on("touchmove",function(){var t=f().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i)})}var h=s.selectAll("."+u["default"].chartArc).select("text").style("opacity","0").attr("class",function(t){return r.isGaugeType(t.data)?u["default"].gaugeValue:""});if(a.gauge_fullCircle&&h.attr("dy",""+Math.round(r.radius/14)),h.text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?"1":"0"}),s.select("."+u["default"].chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?"1":"0"),r.hasType("gauge")){var g=(a.gauge_fullCircle?-4:-1)*a.gauge_startingAngle;r.arcs.select("."+u["default"].chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:g};return r.getArc(t,!0,!0)}),r.arcs.select("."+u["default"].chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),a.gauge_label_show&&(r.arcs.select("."+u["default"].chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(r.textForGaugeMinMax(a.gauge_min,!1)),!a.gauge_fullCircle&&r.arcs.select("."+u["default"].chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/2+"px").attr("dy","1.2em").text(r.textForGaugeMinMax(a.gauge_max,!0)))}},initGauge:function initGauge(){var t=this.config,e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",u["default"].chartArcsBackground),e.append("text").attr("class",u["default"].chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.gauge_label_show&&(e.append("text").attr("class",u["default"].chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),!t.gauge_fullCircle&&e.append("text").attr("class",u["default"].chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")))},getGaugeLabelHeight:function getGaugeLabelHeight(){return this.config.gauge_label_show?20:0}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(7)),a=_interopRequireDefault(n(3)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,o.extend)(a["default"].prototype,{initBar:function initBar(){this.main.select("."+r["default"].chart).append("g").attr("class",r["default"].chartBars)},updateTargetsForBar:function updateTargetsForBar(t){var e=this,n=e.config,i=e.classChartBar.bind(e),a=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+r["default"].chartBars).selectAll("."+r["default"].chartBar).data(t).attr("class",function(t){return i(t)+o(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none").append("g").attr("class",a).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},updateBar:function updateBar(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),a=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+r["default"].bars).selectAll("."+r["default"].bar).data(n),e.mainBar.exit().transition().duration(t).style("opacity","0").remove(),e.mainBar=e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o).merge(e.mainBar).style("opacity",a)},redrawBar:function redrawBar(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity","1")]},getBarW:function getBarW(t,e){var n=this.config,i=(0,o.isNumber)(n.bar_width)?n.bar_width:e?t.tickInterval(this.getMaxDataCount())*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},getBars:function getBars(t,e){var n=(0,o.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+r["default"].bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+r["default"].bar+n)},expandBars:function expandBars(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(r["default"].EXPANDED,!0)},unexpandBars:function unexpandBars(t){this.getBars(t).classed(r["default"].EXPANDED,!1)},generateDrawBar:function generateDrawBar(t,e){var n=this.config,i=this.generateGetBarPoints(t,e);return function(t,e){var r=i(t,e),a=n.axis_rotated?1:0,o=+!a;return"M "+r[0][a]+","+r[0][o]+"\n\t\t\t\tL "+r[1][a]+","+r[1][o]+"\n\t\t\t\tL "+r[2][a]+","+r[2][o]+"\n\t\t\t\tL "+r[3][a]+","+r[3][o]+" z"}},generateGetBarPoints:function generateGetBarPoints(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,a=n.getBarW(i,r),o=n.getShapeX(a,r,t,!!e),s=n.getShapeY(!!e),u=n.getShapeOffset(n.isBarType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),r=u(t,e)||i,c=o(t),d=s(t);return n.config.axis_rotated&&(t.value>0&&d<i||t.value<0&&i<d)&&(d=i),[[c,r],[c,d-(i-r)],[c+a,d-(i-r)],[c+a,r]]}},isWithinBar:function isWithinBar(t){var e=(0,i.mouse)(t),n=(0,o.getRectSegList)(t),r=t.getBBox(),a=n[0],s=n[1],u=Math.min(a.x,s.x),l=Math.min(a.y,s.y),c=r.width,d=r.height;return u-2<e[0]&&e[0]<u+c+2&&l-2<e[1]&&e[1]<l+d+2}})},function(t,e,n){"use strict";var i=n(66),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),a=n(5);(0,a.extend)(r["default"].prototype,{initBubble:function initBubble(){var t=this.config;this.hasType("bubble")&&(t.point_show=!0,t.point_type="circle",t.point_sensitivity=25)},getBaseLength:function getBaseLength(){var t=this.getCaches("$baseLength");return t||this.addCache("$baseLength",t=(0,i.min)([this.axes.x.select("path").node().getTotalLength(),this.axes.y.select("path").node().getTotalLength()])),t},getBubbleR:function getBubbleR(t){var e=this.config.bubble_maxR;(0,a.isFunction)(e)?e=e(t):!(0,a.isNumber)(e)&&(e=this.getBaseLength()/(2*this.getMaxDataCount())+12);var n=(0,i.max)(this.getMinMaxData().max.map(function(t){return t.value})),r=e*e*Math.PI,o=t.value*(r/n);return Math.sqrt(o/Math.PI)}})},function(t,e,n){"use strict";var i=n(63),r=n(64),a=_interopRequireDefault(n(7)),o=_interopRequireDefault(n(3)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,s.extend)(o["default"].prototype,{initLine:function initLine(){this.main.select("."+a["default"].chart).append("g").attr("class",a["default"].chartLines)},updateTargetsForLine:function updateTargetsForLine(t){var e=this,n=e.config,i=e.classChartLine.bind(e),r=e.classLines.bind(e),o=e.classAreas.bind(e),s=e.classCircles.bind(e),u=e.classFocus.bind(e),l=e.main.select("."+a["default"].chartLines).selectAll("."+a["default"].chartLine).data(t).attr("class",function(t){return i(t)+u(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none");l.append("g").attr("class",r),l.append("g").attr("class",o),n.point_show&&(n.data_selection_enabled&&l.append("g").attr("class",function(t){return e.generateClass(a["default"].selectedCircles,t.id)}),l.append("g").attr("class",s).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})),t.forEach(function(t){e.main.selectAll("."+a["default"].selectedCircles+e.getTargetSelectorSuffix(t.id)).selectAll(""+a["default"].selectedCircle).each(function(e){e.value=t.values[e.index].value})})},updateLine:function updateLine(t){var e=this;e.mainLine=e.main.selectAll("."+a["default"].lines).selectAll("."+a["default"].line).data(e.lineData.bind(e)),e.mainLine.exit().transition().duration(t).style("opacity","0").remove(),e.mainLine=e.mainLine.enter().append("path").attr("class",function(t){return e.classLine.bind(e)(t)+" "+(e.extraLineClasses(t)||"")}).style("stroke",e.color).merge(e.mainLine).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null)},redrawLine:function redrawLine(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity","1")]},generateDrawLine:function generateDrawLine(t,e){var n=this,r=n.config,a=r.line_connectNull,o=r.axis_rotated,s=n.generateGetLinePoints(t,e),u=e?n.getSubYScale:n.getYScale,l=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return r.data_groups.length>0?s(t,e)[0][1]:u.call(n,t.id)(n.isAreaRangeType(t)?n.getAreaRangeData(t,"mid"):t.value)},d=(0,i.line)();return d=o?d.x(c).y(l):d.x(l).y(c),a||(d=d.defined(function(t){return null!==t.value})),function(t){var i=e?n.x:n.subX,s=u.call(n,t.id),l=a?n.filterRemoveNull(t.values):t.values,c=0,f=0,h=void 0;return n.isLineType(t)?r.data_regions[t.id]?h=n.lineWithRegions(l,i,s,r.data_regions[t.id]):(n.isStepType(t)&&(l=n.convertValuesToStep(l)),h=d.curve(n.getInterpolate(t))(l)):(l[0]&&(c=i(l[0].x),f=s(l[0].value)),h=o?"M "+f+" "+c:"M "+c+" "+f),h||"M 0 0"}},generateGetLinePoints:function generateGetLinePoints(t,e){var n=this,i=n.config,r=t.__max__+1,a=!!e,o=n.getShapeX(0,r,t,a),s=n.getShapeY(a),u=n.getShapeOffset(n.isLineType,t,a),l=a?n.getSubYScale:n.getYScale;return function(t,e){var r=l.call(n,t.id)(0),a=u(t,e)||r,c=o(t),d=s(t);i.axis_rotated&&(t.value>0&&d<r||t.value<0&&r<d)&&(d=r);var f=[c,d-(r-a)];return[f,f,f,f]}},lineWithRegions:function lineWithRegions(t,e,n,i){function isWithinRegions(t,e){var n=void 0;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function generateM(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var r=this,a=r.config,o=r.isCategorized()?.5:0,u=[],l=void 0,c=void 0,d="M",f=void 0,h=void 0,g=void 0,p=void 0,_=void 0,x=void 0,m=void 0,v=void 0;if((0,s.isDefined)(i))for(l=0;l<i.length;l++)u[l]={},u[l].start=(0,s.isUndefined)(i[l].start)?t[0].x:r.isTimeSeries()?r.parseDate(i[l].start):i[l].start,u[l].end=(0,s.isUndefined)(i[l].end)?t[t.length-1].x:r.isTimeSeries()?r.parseDate(i[l].end):i[l].end;var y=a.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},b=a.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)};for(f=r.isTimeSeries()?function(t,i,r,o){var s=t.x.getTime(),u=i.x-t.x,l=new Date(s+u*r),c=new Date(s+u*(r+o));return generateM(a.axis_rotated?[[n(g(r)),e(l)],[n(g(r+m)),e(c)]]:[[e(l),n(g(r))],[e(c),n(g(r+m))]])}:function(t,i,r,o){return generateM(a.axis_rotated?[[n(g(r),!0),e(h(r))],[n(g(r+o),!0),e(h(r+o))]]:[[e(h(r),!0),n(g(r))],[e(h(r+o),!0),n(g(r+o))]])},l=0;l<t.length;l++)if((0,s.isUndefined)(u)||!isWithinRegions(t[l].x,u))d+=" "+y(t[l])+" "+b(t[l]);else for(h=r.getScale(t[l-1].x+o,t[l].x+o,r.isTimeSeries()),g=r.getScale(t[l-1].value,t[l].value),p=e(t[l].x)-e(t[l-1].x),_=n(t[l].value)-n(t[l-1].value),x=Math.sqrt(Math.pow(p,2)+Math.pow(_,2)),v=2*(m=2/x),c=m;c<=1;c+=v)d+=f(t[l-1],t[l],c,m);return d},updateArea:function updateArea(t){var e=this;e.mainArea=e.main.selectAll("."+a["default"].areas).selectAll("."+a["default"].area).data(e.lineData.bind(e)),e.mainArea.exit().transition().duration(t).style("opacity","0").remove(),e.mainArea=e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,r.select)(this).style("opacity"),"0"}).merge(e.mainArea),e.mainArea.style("opacity",e.orgAreaOpacity)},redrawArea:function redrawArea(t,e){var n=this;return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",function(t){return n.isAreaRangeType(t)?n.orgAreaOpacity/1.75:n.orgAreaOpacity})]},generateDrawArea:function generateDrawArea(t,e){var n=this,r=n.config,a=r.line_connectNull,o=r.axis_rotated,s=n.generateGetAreaPoints(t,e),u=e?n.getSubYScale:n.getYScale,l=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return r.data_groups.length>0?s(t,e)[0][1]:u.call(n,t.id)(n.getAreaBaseValue(t.id))},d=function(t,e){return r.data_groups.length>0?s(t,e)[1][1]:u.call(n,t.id)(t.value)};return function(t){var e=a?n.filterRemoveNull(t.values):t.values,s=0,f=0,h=void 0;if(n.isAreaType(t)){var g=n.isAreaRangeType(t),p=(0,i.area)();p=o?g?p.x0(function(t){return u.call(n,t.id)(n.getAreaRangeData(t,"high"))}).x1(function(t){return u.call(n,t.id)(n.getAreaRangeData(t,"low"))}).y(l):p.x0(c).x1(d).y(l):g?p.x(l).y0(function(t){return u.call(n,t.id)(n.getAreaRangeData(t,"high"))}).y1(function(t){return u.call(n,t.id)(n.getAreaRangeData(t,"low"))}):p.x(l).y0(r.area_above?0:c).y1(d),a||(p=p.defined(function(t){return null!==t.value})),n.isStepType(t)&&(e=n.convertValuesToStep(e)),h=p.curve(n.getInterpolate(t))(e)}else e[0]&&(s=n.x(e[0].x),f=n.getYScale(t.id)(e[0].value)),h=o?"M "+f+" "+s:"M "+s+" "+f;return h||"M 0 0"}},getAreaBaseValue:function getAreaBaseValue(){return 0},generateGetAreaPoints:function generateGetAreaPoints(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),l=s(t,e)||r,c=a(t),d=o(t);return i.axis_rotated&&(t.value>0&&d<r||t.value<0&&r<d)&&(d=r),[[c,l],[c,d-(r-l)],[c,d-(r-l)],[c,l]]}},updateCircle:function updateCircle(){var t=this;t.config.point_show&&(t.mainCircle=t.main.selectAll("."+a["default"].circles).selectAll("."+a["default"].circle).data(t.lineScatterBubbleRadarData.bind(t)),t.mainCircle.exit().remove(),t.mainCircle=t.mainCircle.enter().append(t.point("create",this,t.classCircle.bind(t),t.pointR.bind(t),t.color)).merge(t.mainCircle).style("opacity",t.initialOpacityForCircle.bind(t)))},redrawCircle:function redrawCircle(t,e,n,i){var r=this,o=r.main.selectAll("."+a["default"].selectedCircle);if(!r.config.point_show)return[];var s=[];r.mainCircle.each(function(a){var u=r.point("update",r,t,e,r.opacityForCircle.bind(r),r.color,n,i,o).bind(this)(a);s.push(u)});var u=r.isCirclePoint()?"c":"";return[s,o.attr(u+"x",t).attr(u+"y",e)]},circleX:function circleX(t){var e=(0,s.isValue)(t.x);return this.config.zoom_enabled&&this.zoomScale?e?this.zoomScale(t.x):null:e?this.x(t.x):null},updateCircleY:function updateCircleY(){var t=this,e=void 0,n=void 0;t.config.data_groups.length>0?(e=t.getShapeIndices(t.isLineType),n=t.generateGetLinePoints(e),t.circleY=function(t,e){return n(t,e)[0][1]}):t.circleY=function(e){return t.isAreaRangeType(e)?t.getYScale(e.id)(t.getAreaRangeData(e,"mid")):t.getYScale(e.id)(e.value)}},getCircles:function getCircles(t,e){var n=(0,s.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+a["default"].circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+a["default"].circle+n)},expandCircles:function expandCircles(t,e,n){var i=this,o=i.pointExpandedR.bind(i);n&&i.unexpandCircles();var s=i.getCircles(t,e).classed(a["default"].EXPANDED,!0),u=o(s)/i.config.point_r;i.isCirclePoint()?s.attr("r",o):s.each(function(){var t=(0,r.select)(this),e=this.getBBox(),n=e.x+.5*e.width,i=e.y+.5*e.height;"circle"===this.tagName?t.attr("r",o):t.style("transform","translate("+(1-u)*n+"px, "+(1-u)*i+"px) scale("+u+")")})},unexpandCircles:function unexpandCircles(t){var e=this,n=e.pointR.bind(e),i=e.getCircles(t).filter(function(){return(0,r.select)(this).classed(a["default"].EXPANDED)}).classed(a["default"].EXPANDED,!1),o=n(i)/e.config.point_r;i.attr("r",n),e.isCirclePoint()||i.style("transform","scale("+o+")")},pointR:function(t){var e=this.config.point_r,n=e;return this.isStepType(t)?n=0:this.isBubbleType(t)?n=this.getBubbleR(t):(0,s.isFunction)(e)&&(n=e(t)),n},pointExpandedR:function pointExpandedR(t){var e=this.config,n=this.isBubbleType(t)?1.15:1.75;return e.point_focus_expand_enabled?e.point_focus_expand_r||this.pointR(t)*n:this.pointR(t)},pointSelectR:function pointSelectR(t){var e=this.config.point_select_r;return(0,s.isFunction)(e)?e(t):e||4*this.pointR(t)},isWithinCircle:function isWithinCircle(t,e){var n=(0,r.mouse)(t),i=(0,r.select)(t),a=this.isCirclePoint()?"c":"",o=+i.attr(a+"x"),s=+i.attr(a+"y");if(!o&&!s&&1===t.nodeType){var u=t.getBBox?t.getBBox():t.getBoundingClientRect();o=u.x,s=u.y}return Math.sqrt(Math.pow(o-n[0],2)+Math.pow(s-n[1],2))<e},isWithinStep:function isWithinStep(t,e){return Math.abs(e-(0,r.mouse)(t)[1])<30}})},function(t,e,n){"use strict";var i=n(64),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),a=n(5);(0,a.extend)(r["default"].prototype,{hasValidPointType:function hasValidPointType(t){return/^(circle|rect(angle)?|polygon|ellipse)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function hasValidPointDrawMethods(t){var e=t||this.config.point_type;return(0,a.isObjectType)(e)&&(0,a.isFunction)(e.create)&&(0,a.isFunction)(e.update)},insertPointInfoDefs:function insertPointInfoDefs(t,e){for(var n=(new DOMParser).parseFromString(t,"image/svg+xml").firstChild,r=document.createElementNS(i.namespaces.svg,n.nodeName.toLowerCase()),a=n.attributes,o=0,s=a.length;o<s;o++){var u=a[o].name;r.setAttribute(u,n.getAttribute(u))}r.id=e,r.style.fill="inherit",r.style.stroke="none",this.defs.node().appendChild(r)},pointFromDefs:function pointFromDefs(t){return this.defs.select("#"+t)},generatePoint:function generatePoint(){var t=this,e=t.config,n=[],r=(0,a.notEmpty)(e.point_pattern)?e.point_pattern:[e.point_type];return function(e,a){for(var o=arguments.length,s=Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return function(o){var u=o.id||o.data&&o.data.id||o,l=(0,i.select)(this),c=void 0;if(n.indexOf(u)<0&&n.push(u),c=r[n.indexOf(u)%r.length],t.hasValidPointType(c))c=t[c];else if(!t.hasValidPointDrawMethods(c)){var d=t.datetimeId+"-point-"+u;if(t.pointFromDefs(d).size()<1&&t.insertPointInfoDefs(c,d),"create"===e)return t.custom.create.bind(a).apply(undefined,[l,d].concat(s));if("update"===e)return t.custom.update.bind(a).apply(undefined,[l].concat(s))}return c[e].bind(a).apply(undefined,[l].concat(s))}}},getTransitionName:function getTransitionName(){return Math.random().toString()},custom:{create:function create(t,e,n,i,r){return t.append("use").attr("xlink:href","#"+e).attr("class",n).style("fill",r).node()},update:function update(t,e,n,i,r,a,o,s){var u=t.node().getBBox(),l=function(t){return e(t)-.5*u.width},c=function(t){return n(t)-.5*u.height},d=t;if(a){var f=this.getTransitionName();o&&(d=t.attr("x",l)),d=t.transition(f).attr("x",l).attr("y",c).transition(f),s.transition(this.getTransitionName())}else d=t.attr("x",l).attr("y",c);return d.style("opacity",i).style("fill",r)}},circle:{create:function create(t,e,n,i){return t.append("circle").attr("class",e).attr("r",n).style("fill",i).node()},update:function update(t,e,n,i,r,a,o,s){var u=this,l=t;if(u.hasType("bubble")&&(l=l.attr("r",u.pointR.bind(u))),a){var c=u.getTransitionName();o&&(l=l.attr("cx",e)),l=l.transition(c).attr("cx",e).attr("cy",n).transition(c),s.transition(u.getTransitionName())}else l=l.attr("cx",e).attr("cy",n);return l.style("opacity",i).style("fill",r)}},rectangle:{create:function create(t,e,n,i){var r=function(t){return 2*n(t)};return t.append("rect").attr("class",e).attr("width",r).attr("height",r).style("fill",i).node()},update:function update(t,e,n,i,r,a,o,s){var u=this.config.point_r,l=function(t){return e(t)-u},c=function(t){return n(t)-u},d=t;if(a){var f=this.getTransitionName();o&&(d=d.attr("x",l)),d=d.transition(f).attr("x",l).attr("y",c).transition(f),s.transition(this.getTransitionName())}else d=d.attr("x",l).attr("y",c);return d.style("opacity",i).style("fill",r)}}})},function(t,e,n){"use strict";var i=n(64),r=n(66),a=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(7)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function getPosition(t,e,n,i){var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1,a=2*Math.PI;return i*(1-r*("x"===t?Math.sin:Math.cos)(n*a/e))}var u="$radarPoints";(0,s.extend)(a["default"].prototype,{initRadar:function initRadar(){var t=this,e=t.config;t.hasType("radar")&&(t.radars=t.main.select("."+o["default"].chart).append("g").attr("class",o["default"].chartRadars),t.maxValue=e.radar_axis_max||t.getMinMaxData().max[0].value)},getRadarSize:function getRadarSize(){var t=this.config.axis_x_categories.length<4?-20:10,e=(this.arcHeight-t)/2;return[e,e]},updateTargetsForRadar:function updateTargetsForRadar(t){var e=this,n=e.config;(0,s.isEmpty)(n.axis_x_categories)&&(n.axis_x_categories=(0,r.range)(0,(0,r.max)(t).values.length)),e.generateRadarPoints(),e.updateRadarLevel(),e.updateRadarAxes(),e.updateRadarShape()},generateRadarPoints:function generateRadarPoints(){var t=this,e=t.config,n=t.data.targets,i=e.axis_x_categories.length,r=t.getRadarSize(),a=r[0],o=r[1],s={},l=function(n){return parseFloat(Math.max(n,0))/t.maxValue*e.radar_size_ratio};n.forEach(function(t){var e=[];t.values.forEach(function(t,n){e.push([getPosition("x",i,n,a,l(t.value)),getPosition("y",i,n,o,l(t.value))])}),s[t.id]=e}),t.addCache(u,s)},redrawRadar:function redrawRadar(){var t=this.getTranslate("radar");t&&(this.radars.attr("transform",t),this.main.selectAll("."+o["default"].circles).attr("transform",t),this.main.select("."+o["default"].chartTexts).attr("transform",t))},generateGetRadarPoints:function generateGetRadarPoints(){var t=this.getCaches(u);return function(e,n){var i=t[e.id][n];return[i,i,i,i]}},updateRadarLevel:function updateRadarLevel(){var t=this,e=t.config,n=t.getRadarSize(),i=n[0],a=n[1],s=e.radar_level_depth,u=e.axis_x_categories.length,l=(0,r.range)(0,s),c=e.radar_size_ratio*Math.min(i,a),d=l.map(function(t){return c*((t+1)/s)}),f=e.radar_level_text_format,h=l.map(function(t){var e=[];return(0,r.range)(0,u).forEach(function(n){e.push(getPosition("x",u,n,d[t])+","+getPosition("y",u,n,d[t]))}),e.join(" ")}),g=t.radars.append("g").attr("class",o["default"].levels).selectAll("."+o["default"].level).data(l),p=g.enter().append("g").attr("class",function(t,e){return o["default"].level+"-"+e}).merge(g).attr("transform",function(t){return"translate("+(i-d[t])+", "+(a-d[t])+")"});p.append("polygon").attr("points",function(t){return h[t]}).style("visibility",e.radar_level_show?null:"hidden"),e.radar_level_text_show&&(t.radars.select("."+o["default"].levels).append("text").attr("x",i).attr("y",a).attr("dx","-.5em").attr("dy","-.7em").style("text-anchor","end").text(function(){return f(0)}),p.append("text").attr("x",function(t){return h[t].split(",")[0]}).attr("y",0).attr("dx","-.5em").style("text-anchor","end").text(function(e){return f(t.maxValue/l.length*(e+1))}))},updateRadarAxes:function updateRadarAxes(){var t=this.config,e=this.getRadarSize(),n=e[0],i=e[1],r=t.radar_size_ratio,a=t.axis_x_categories,s=a.length,u=this.radars.append("g").attr("class",o["default"].axis).selectAll(".axis").data(a),l=u.enter().append("g");u.exit().remove(),t.radar_axis_line_show&&l.append("line"),t.radar_axis_text_show&&l.append("text"),u=u.merge(l).attr("class",function(t,e){return o["default"].axis+"-"+e}),t.radar_axis_line_show&&u.select("line").attr("x1",n).attr("y1",i).attr("x2",function(t,e){return getPosition("x",s,e,n,r)}).attr("y2",function(t,e){return getPosition("y",s,e,i,r)}),t.radar_axis_text_show&&u.select("text").style("text-anchor","middle").attr("dy",".5em").text(function(t){return t}).datum(function(t,e){return{index:e}}).attr("x",function(t,e){return getPosition("x",s,e,n)}).attr("y",function(t,e){return getPosition("y",s,e,i)}),this.bindEvent()},bindEvent:function bindEvent(){var t=this,e=this;if(e.config.interaction_enabled){var n="mouse"===e.inputType;e.radars.select("."+o["default"].axis).on((n?"mouseover ":"")+"click",function(){if(!e.transiting){var t=(0,i.select)(i.event.target).datum().index;e.selectRectForSingle(e.svg.node(),null,t),e.setOver(t)}}).on("mouseout",n?function(){t.hideTooltip(),t.unexpandCircles()}:null)}},updateRadarShape:function updateRadarShape(){var t=this,e=t.data.targets,n=t.getCaches(u),i=t.radars.append("g").attr("class",o["default"].shapes).selectAll("polygon").data(e),r=i.enter().append("g").attr("class",t.classChartRadar.bind(t));i.exit().remove(),r.append("polygon").merge(i).style("fill",function(e){return t.color(e)}).style("stroke",function(e){return t.color(e)}).attr("points",function(t){return n[t.id].join(" ")})},radarCircleX:function radarCircleX(t){return this.getCaches(u)[t.id][t.index][0]},radarCircleY:function radarCircleY(t){return this.getCaches(u)[t.id][t.index][1]}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,n(5).extend)(r["default"].prototype,{initText:function initText(){this.main.select("."+a["default"].chart).append("g").attr("class",a["default"].chartTexts),this.mainText=(0,i.selectAll)([])},updateTargetsForText:function updateTargetsForText(t){var e=this,n=e.classChartText.bind(e),i=e.classTexts.bind(e),r=e.classFocus.bind(e);e.main.select("."+a["default"].chartTexts).selectAll("."+a["default"].chartText).data(t).attr("class",function(t){return n(t)+r(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none").append("g").attr("class",i)},updateText:function updateText(t){var e=this,n=this,i=n.config,r=n.barLineBubbleData.bind(n),o=n.classText.bind(n);n.mainText=n.main.selectAll("."+a["default"].texts).selectAll("."+a["default"].text).data(function(t){return e.isRadarType(t)?t.values:r(t)}),n.mainText.exit().transition().duration(t).style("fill-opacity","0").remove(),n.mainText=n.mainText.enter().append("text").merge(n.mainText).attr("class",o).attr("text-anchor",function(t){return i.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return n.color(t)}).style("fill-opacity","0").text(function(t,e,i){return n.dataLabelFormat(t.id)(t.value,t.id,e,i)})},redrawText:function redrawText(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},getTextRect:function getTextRect(t,e,n){var r=(0,i.select)("body").append("div").classed("bb",!0),a=r.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px"),o=(0,i.select)(n).style("font"),s=void 0;return a.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",o).text(t).each(function(){s=this.getBoundingClientRect()}),r.remove(),s},generateXYForText:function generateXYForText(t,e,n,i){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=r.generateGetRadarPoints(),l=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)&&a||r.isBarType(t)&&o||r.isRadarType(t)&&u||s;return l.call(r,n(t,e),t,this)}},getXForText:function getXForText(t,e,n){var i=this,r=i.config,a=void 0,o=void 0;return r.axis_rotated?(o=i.isBarType(e)?4:6,a=t[2][1]+o*(e.value<0?-1:1)):a=i.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(a>i.width?a=i.width-n.getBoundingClientRect().width:a<0&&(a=4)),a+(r.data_labels_position.x||0)},getYForText:function getYForText(t,e,n){var i=this,r=i.config,a=void 0;if(r.axis_rotated)a=(t[0][0]+t[2][0]+.6*n.getBoundingClientRect().height)/2;else if(a=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue)a+=n.getBoundingClientRect().height,i.isBarType(e)&&i.isSafari()?a-=3:!i.isBarType(e)&&i.isChrome()&&(a+=3);else{var o=-6;i.isBarType(e)?o=-3:i.isBubbleType(e)&&(o=3),a+=o}if(null===e.value&&!r.axis_rotated){var s=n.getBoundingClientRect().height;a<s?a=s:a>this.height&&(a=this.height-4)}return a+(r.data_labels_position.y||0)}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),r=n(5);(0,r.extend)(i["default"].prototype,{setTargetType:function setTargetType(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},hasType:function hasType(t,e){var n=this.config.data_types,i=e||this.data.targets,r=!1;return i&&i.length?i.forEach(function(e){var i=n[e.id];(i&&i.indexOf(t)>=0||!i&&"line"===t)&&(r=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(e){n[e]===t&&(r=!0)}):r=this.config.data_type===t,r},hasArcType:function hasArcType(t){var e=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return!["pie","donut","gauge","radar"].filter(function(t){return-1===n.indexOf(t)}).every(function(n){return!e.hasType(n,t)})},isLineType:function isLineType(t){var e=(0,r.isString)(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,["line","spline","area","area-spline","area-spline-range","area-line-range","step","area-step"])},isTypeOf:function isTypeOf(t,e){var n=(0,r.isString)(t)?t:t.id,i=this.config.data_types[n];return(0,r.isArray)(e)?e.indexOf(i)>=0:i===e},isStepType:function isStepType(t){return this.isTypeOf(t,["step","area-step"])},isSplineType:function isSplineType(t){return this.isTypeOf(t,["spline","area-spline","area-spline-range"])},isAreaType:function isAreaType(t){return this.isTypeOf(t,["area","area-spline","area-spline-range","area-line-range","area-step"])},isAreaRangeType:function isAreaRangeType(t){return this.isTypeOf(t,["area-spline-range","area-line-range"])},isBarType:function isBarType(t){return this.isTypeOf(t,"bar")},isBubbleType:function isBubbleType(t){return this.isTypeOf(t,"bubble")},isScatterType:function isScatterType(t){return this.isTypeOf(t,"scatter")},isPieType:function isPieType(t){return this.isTypeOf(t,"pie")},isGaugeType:function isGaugeType(t){return this.isTypeOf(t,"gauge")},isDonutType:function isDonutType(t){return this.isTypeOf(t,"donut")},isRadarType:function isRadarType(t){return this.isTypeOf(t,"radar")},isArcType:function isArcType(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isRadarType(t)},isCirclePoint:function isCirclePoint(){var t=this.config,e=t.point_pattern;return"circle"===t.point_type&&(!e||(0,r.isArray)(e)&&0===e.length)},lineData:function lineData(t){return this.isLineType(t)?[t]:[]},arcData:function arcData(t){return this.isArcType(t.data)?[t]:[]},barData:function barData(t){return this.isBarType(t)?t.values:[]},lineScatterBubbleRadarData:function lineScatterBubbleRadarData(t){return this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isRadarType(t)?t.values:[]},barLineBubbleData:function barLineBubbleData(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function isInterpolationType(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var s=function(t){return(0,o.isValue)(t.position)||"end"},u=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},l=function(t,e,n){return function(i){var r=t?0:e;return"start"===i.position?r=t?-n:0:"middle"===i.position&&(r=(t?-n:e)/2),r}};(0,o.extend)(r["default"].prototype,{initGrid:function initGrid(){var t=this.config;this.xgrid=(0,i.selectAll)([]),t.grid_lines_front||this.initGridLines(),t.grid_front||this.initXYFocusGrid()},initGridLines:function initGridLines(){var t=this;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",a["default"].grid+" "+a["default"].gridLines),t.gridLines.append("g").attr("class",a["default"].xgridLines),t.gridLines.append("g").attr("class",a["default"].ygridLines),t.xgridLines=(0,i.selectAll)([])},updateXGrid:function updateXGrid(t){var e=this,n=e.config,r=n.axis_rotated,o=e.generateGridData(n.grid_x_type,e.x),s=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=r?{x1:0,x2:e.width,y1:function y1(t){return e.x(t)-s},y2:function y2(t){return e.x(t)-s}}:{x1:function x1(t){return e.x(t)+s},x2:function x2(t){return e.x(t)+s},y1:0,y2:e.height},e.xgrid=e.main.select("."+a["default"].xgrids).selectAll("."+a["default"].xgrid).data(o),e.xgrid.exit().remove(),e.xgrid=e.xgrid.enter().append("line").attr("class",a["default"].xgrid).merge(e.xgrid),t||e.xgrid.each(function(){var t=(0,i.select)(this);Object.keys(e.xgridAttr).forEach(function(n){t.attr(n,e.xgridAttr[n]).style("opacity",function(){return t.attr(r?"y1":"x1")===(r?e.height:0)?"0":"1"})})})},updateYGrid:function updateYGrid(){var t=this,e=t.config,n=e.axis_rotated,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+a["default"].ygrids).selectAll("."+a["default"].ygrid).data(i),t.ygrid.exit().remove(),t.ygrid=t.ygrid.enter().append("line").attr("class",a["default"].ygrid).merge(t.ygrid),t.ygrid.attr("x1",n?t.y:0).attr("x2",n?t.y:t.width).attr("y1",n?0:t.y).attr("y2",n?t.height:t.y),t.smoothLines(t.ygrid,"grid")},updateGrid:function updateGrid(t){var e=this;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),e.main.select("line."+a["default"].xgridFocus).style("visibility","hidden"),e.updateXGridLines(t),e.updateYGridLines(t)},updateXGridLines:function updateXGridLines(t){var e=this,n=e.main,i=e.config,r=i.axis_rotated;i.grid_x_show&&e.updateXGrid(),e.xgridLines=n.select("."+a["default"].xgridLines).selectAll("."+a["default"].xgridLine).data(i.grid_x_lines),e.xgridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.xgridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",r?"":"rotate(-90)").attr("dy",-5).style("opacity","0"),e.xgridLines=o.merge(e.xgridLines),e.xgridLines.attr("class",function(t){return(a["default"].xgridLine+" "+(t["class"]||"")).trim()}).select("text").attr("text-anchor",s).attr("dx",u).transition().duration(t).text(function(t){return t.text}).transition().style("opacity","1")},updateYGridLines:function updateYGridLines(t){var e=this,n=e.main,i=e.config,r=i.axis_rotated;i.grid_y_show&&e.updateYGrid(),e.ygridLines=n.select("."+a["default"].ygridLines).selectAll("."+a["default"].ygridLine).data(i.grid_y_lines),e.ygridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.ygridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",r?"rotate(-90)":"").style("opacity","0"),e.ygridLines=o.merge(e.ygridLines);var c=e.yv.bind(e);e.ygridLines.attr("class",function(t){return(a["default"].ygridLine+" "+(t["class"]||"")).trim()}).select("line").transition().duration(t).attr("x1",r?c:0).attr("x2",r?c:e.width).attr("y1",r?0:c).attr("y2",r?e.height:c).transition().style("opacity","1"),e.ygridLines.select("text").attr("text-anchor",s).attr("dx",u).transition().duration(t).attr("dy",-5).attr("x",l(r,e.width,e.height)).attr("y",c).text(function(t){return t.text}).transition().style("opacity","1")},redrawGrid:function redrawGrid(t){var e=this,n=e.config.axis_rotated,i=e.xv.bind(e),r=e.xgridLines.select("line"),a=e.xgridLines.select("text");return r=(t?r.transition():r).attr("x1",n?0:i).attr("x2",n?e.width:i).attr("y1",n?i:0).attr("y2",n?i:e.height),a=(t?a.transition():a).attr("x",l(!n,e.width,e.height)).attr("y",i).text(function(t){return t.text}),[(t?r.transition():r).style("opacity","1"),(t?a.transition():a).style("opacity","1")]},initXYFocusGrid:function initXYFocusGrid(){var t=this,e=t.config;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",a["default"].grid),e.grid_x_show&&t.grid.append("g").attr("class",a["default"].xgrids),e.grid_y_show&&t.grid.append("g").attr("class",a["default"].ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",a["default"].xgridFocus).append("line").attr("class",a["default"].xgridFocus)},showXGridFocus:function showXGridFocus(t){var e=this,n=e.config,i=t.filter(function(t){return t&&(0,o.isValue)(t.value)}),r=e.main.selectAll("line."+a["default"].xgridFocus),s=e.xx.bind(e);!n.tooltip_show||e.hasType("bubble")||e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",s).attr(n.axis_rotated?"y2":"x2",s),e.smoothLines(r,"grid"))},hideXGridFocus:function hideXGridFocus(){this.main.select("line."+a["default"].xgridFocus).style("visibility","hidden")},updateXgridFocus:function updateXgridFocus(){var t=this.config.axis_rotated;this.main.select("line."+a["default"].xgridFocus).attr("x1",t?0:-10).attr("x2",t?this.width:-10).attr("y1",t?-10:0).attr("y2",t?-10:this.height)},generateGridData:function generateGridData(t,e){var n=this.main.select("."+a["default"].axisX).selectAll(".tick").size(),i=[];if("year"===t)for(var r=this.getXDomain(),o=r[0].getFullYear(),s=r[1].getFullYear(),u=o;u<=s;u++)i.push(new Date(u+"-01-01 00:00:00"));else(i=e.ticks(10)).length>n&&(i=i.filter(function(t){return(t+"").indexOf(".")<0}));return i},getGridFilterToRemove:function getGridFilterToRemove(t){return t?function(e){var n=!1;return((0,o.isArray)(t)?t.concat():[t]).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},removeGridLines:function removeGridLines(t,e){var n=this.config,i=this.getGridFilterToRemove(t),r=e?a["default"].xgridLines:a["default"].ygridLines,o=e?a["default"].xgridLine:a["default"].ygridLine;this.main.select("."+r).selectAll("."+o).filter(i).transition().duration(n.transition_duration).style("opacity","0").remove();var s="grid_"+(e?"x":"y")+"_lines";n[s]=n[s].filter(function toShow(t){return!i(t)})}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,o.extend)(r["default"].prototype,{initTooltip:function initTooltip(){var t=this,e=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",a["default"].tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(t.isTimeSeries()&&(0,o.isString)(e.tooltip_init_x)){var n=t.data.targets[0],i=n.values.length,r=void 0;for(e.tooltip_init_x=t.parseDate(e.tooltip_init_x),r=0;r<i&&n.values[r].x-e.tooltip_init_x!=0;r++);e.tooltip_init_x=r}t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map(function(n){return t.addName(n.values[e.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType(null,["radar"])),t.color)),t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},getTooltipContent:function getTooltipContent(t,e,n,i){var r=this,a=r.config,s=a.tooltip_format_title||e,u=a.tooltip_format_name||function(t){return t},l=a.tooltip_format_value||n,c=a.tooltip_order,d=void 0,f=void 0,h=void 0,g=void 0,p=void 0,_=void 0,x=void 0,m=function(t){return r.isAreaRangeType(t)?r.getAreaRangeData(t,"mid"):t.value};if(null===c&&a.data_groups.length){var v=r.orderTargets(r.data.targets).map(function(t){return t.id}).reverse();t.sort(function(t,e){var n=t?t.value:null,i=e?e.value:null;return n>0&&i>0&&(n=t.id?v.indexOf(t.id):null,i=e.id?v.indexOf(e.id):null),n-i})}else/^(asc|desc)$/.test(c)?t.sort(function(t,e){var n=t?m(t):null,i=e?m(e):null;return"asc"===c?n-i:i-n}):(0,o.isFunction)(c)&&t.sort(c);for(var y,b=0,w=t.length;b<w;b++)if((y=t[b])&&(m(y)||0===m(y))){var T=r.isAreaRangeType(y);if(d||(d=(f=(0,o.sanitise)(s?s(y.x):y.x))||0===f?'<tr><th colspan="2">'+f+"</th></tr>":"",d='<table class="'+r.CLASS.tooltip+'">'+d),T&&(h=(0,o.sanitise)(l(r.getAreaRangeData(y,"high"),y.ratio,y.id,y.index,t)),g=(0,o.sanitise)(l(r.getAreaRangeData(y,"low"),y.ratio,y.id,y.index,t))),(p=(0,o.sanitise)(l(m(y),y.ratio,y.id,y.index,t)))!==undefined){if(null===y.name)continue;_=(0,o.sanitise)(u(y.name,y.ratio,y.id,y.index)),x=r.levelColor?r.levelColor(y.value):i(y.id),d+='<tr class="'+r.CLASS.tooltipName+r.getTargetSelectorSuffix(y.id)+'"><td class="name">',d+=r.patterns?'<svg><rect style="fill:'+x+'" width="10" height="10"></rect></svg>':'<span style="background-color:'+x+'"></span>',d+=_+'</td><td class="value">'+(T?"<b>Mid:</b> "+p+" <b>High:</b> "+h+" <b>Low:</b> "+g:p)+"</td></tr>"}}return d+"</table>"},tooltipPosition:function tooltipPosition(t,e,n,r){var a=this,o=a.config,s=a.hasArcType(),u="touch"===a.inputType,l=(0,i.mouse)(r),c=a.getSvgLeft(!0),d=void 0,f=void 0,h=void 0,g=void 0;if(s){var p=u||a.hasType("radar");g=l[1]+(p?0:a.height/2)+20,f=l[0]+(p?0:(a.width-(a.isLegendRight?a.getLegendWidth():0))/2),d=c+a.currentWidth-a.getCurrentPaddingRight(),h=f+e}else o.axis_rotated?(h=(f=c+l[0]+100)+e,d=a.currentWidth-a.getCurrentPaddingRight(),g=a.x(t[0].x)+20):(h=(f=c+a.getCurrentPaddingLeft(!0)+a.x(t[0].x)+20)+e,d=c+a.currentWidth-a.getCurrentPaddingRight(),g=l[1]+15);return h>d&&(f-=h-d+20),g+n>a.currentHeight&&(g-=n+30),g<0&&(g=0),{top:g,left:f}},showTooltip:function showTooltip(t,e){var n=this,i=n.config,r=n.hasArcType(null,["radar"]),a=t.filter(function(t){return t&&(0,o.isValue)(t.value)}),s=i.tooltip_position||n.tooltipPosition;if(0!==a.length&&i.tooltip_show){var u=n.tooltip.datum(),l=u&&u.width||0,c=u&&u.height||0;if(!u||u.current!==JSON.stringify(t)){var d=i.tooltip_contents.call(n,t,n.axis.getXAxisTickFormat(),n.getYFormat(r),n.color);(0,o.isFunction)(i.tooltip_onshow)&&i.tooltip_onshow.call(n),n.tooltip.html(d).style("display","block").datum({current:JSON.stringify(t),width:l=n.tooltip.property("offsetWidth"),height:c=n.tooltip.property("offsetHeight")}),(0,o.isFunction)(i.tooltip_onshown)&&i.tooltip_onshown.call(n),n._handleLinkedCharts(!0,t[0].x)}var f=s.call(this,a,l,c,e);n.tooltip.style("top",f.top+"px").style("left",f.left+"px")}},hideTooltip:function hideTooltip(){var t=this.config;(0,o.isFunction)(t.tooltip_onhide)&&t.tooltip_onhide.call(this),this.tooltip.style("display","none").datum(null),(0,o.isFunction)(t.tooltip_onhidden)&&t.tooltip_onhidden.call(this),this._handleLinkedCharts(!1)},_handleLinkedCharts:function _handleLinkedCharts(t,e){var n=this;if(n.config.tooltip_linked){var i=n.config.tooltip_linked_name;n.api.internal.charts.forEach(function(r){if(r!==n.api){var a=r.internal,o=a.config.tooltip_linked,s=a.config.tooltip_linked_name,u=document.body.contains(r.element);if(o&&i===s&&u){var l="block"===a.tooltip.style("display");l^t&&r.tooltip[l?"hide":"show"]({x:e})}}})}}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,o.extend)(r["default"].prototype,{initLegend:function initLegend(){var t=this,e=t.config;t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g"),e.legend_show?e.legend_contents_bindto&&e.legend_contents_template?t.updateLegendTemplate():(t.legend.attr("transform",t.getTranslate("legend")),t.updateLegendWithDefaults()):(t.legend.style("visibility","hidden"),t.hiddenLegendIds=t.mapToIds(t.data.targets))},updateLegendTemplate:function updateLegendTemplate(){var t=this,e=t.config,n=(0,i.select)(e.legend_contents_bindto),r=e.legend_contents_template;if(!n.empty()){var a=t.data.targets,s=[],u="";t.mapToIds(a).forEach(function(e){var n=(0,o.isFunction)(r)?r.call(t,e,t.color(e),t.api.data(e)[0].values):r.replace(/{=COLOR}/g,t.color(e)).replace(/{=TITLE}/g,e);n&&(s.push(e),u+=n)});var l=n.html(u).selectAll(function(){return this.childNodes}).data(s);t.setLegendItem(l)}},updateLegendWithDefaults:function updateLegendWithDefaults(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},updateSizeForLegend:function updateSizeForLegend(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},transformLegend:function transformLegend(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},updateLegendStep:function updateLegendStep(t){this.legendStep=t},updateLegendItemWidth:function updateLegendItemWidth(t){this.legendItemWidth=t},updateLegendItemHeight:function updateLegendItemHeight(t){this.legendItemHeight=t},getLegendWidth:function getLegendWidth(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},getLegendHeight:function getLegendHeight(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},opacityForLegend:function opacityForLegend(t){return t.classed(a["default"].legendItemHidden)?null:"1"},opacityForUnfocusedLegend:function opacityForUnfocusedLegend(t){return t.classed(a["default"].legendItemHidden)?null:"0.3"},toggleFocusLegend:function toggleFocusLegend(t,e){var n=this,r=n.mapToTargetIds(t);n.legend.selectAll("."+a["default"].legendItem).filter(function(t){return r.indexOf(t)>=0}).classed(a["default"].legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,(0,i.select)(this))})},revertLegend:function revertLegend(){var t=this;t.legend.selectAll("."+a["default"].legendItem).classed(a["default"].legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend((0,i.select)(this))})},showLegend:function showLegend(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),!e.legendHasRendered&&e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend((0,i.select)(this))})},hideLegend:function hideLegend(t){var e=this,n=e.config;n.legend_show&&(0,o.isEmpty)(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},clearLegendItemTextBoxCache:function clearLegendItemTextBoxCache(){this.legendItemTextBox={}},setLegendItem:function setLegendItem(t){var e=this,n=e.config,r="touch"===e.inputType;t.attr("class",function(t){var n=(0,i.select)(this);return(!n.empty()&&n.attr("class")||"")+e.generateClass(a["default"].legendItem,t)}).style("visibility",function(t){return e.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){(0,o.isFunction)(n.legend_item_onclick)?n.legend_item_onclick.call(e,t):i.event.altKey?(e.api.hide(),e.api.show(t)):(e.api.toggle(t),!r&&e.isTargetToShow(t)?e.api.focus(t):e.api.revert()),r&&e.hideTooltip()}),r||t.on("mouseout",function(t){(0,o.isFunction)(n.legend_item_onout)?n.legend_item_onout.call(e,t):((0,i.select)(this).classed(a["default"].legendItemFocused,!1),e.api.revert())}).on("mouseover",function(t){(0,o.isFunction)(n.legend_item_onover)?n.legend_item_onover.call(e,t):((0,i.select)(this).classed(a["default"].legendItemFocused,!0),!e.transiting&&e.isTargetToShow(t)&&e.api.focus(t))})},updateLegend:function updateLegend(t,e,n){var r=this,s=r.config,u=s.legend_item_tile_width+5,l=0,c=0,d=void 0,f=void 0,h=0,g={},p={},_={},x=[0],m={},v=0,y=void 0,b=r.isLegendRight||r.isLegendInset,w=t.filter(function(t){return!(0,o.isDefined)(s.data_names[t])||null!==s.data_names[t]}),T=e||{},A=(0,o.getOption)(T,"withTransition",!0),M=(0,o.getOption)(T,"withTransitionForTransform",!0),C=function(t,e,n){var i=n===w.length-1,o=function(t,e){return r.legendItemTextBox[e]||(r.legendItemTextBox[e]=r.getTextRect(t.textContent,a["default"].legendItem,t)),r.legendItemTextBox[e]}(t,e),d=o.width+u+(i&&!b?0:10)+s.legend_padding,f=o.height+4,y=b?f:d,T=b?r.getLegendHeight():r.getLegendWidth(),A=void 0,M=function(t,e){e||(A=(T-h-y)/2)<10&&(A=(T-y)/2,h=0,v++),m[t]=v,x[v]=r.isLegendInset?10:A,g[t]=h,h+=y};if(0===n&&(h=0,v=0,l=0,c=0),s.legend_show&&!r.isLegendToShow(e))return p[e]=0,_[e]=0,m[e]=0,void(g[e]=0);p[e]=d,_[e]=f,(!l||d>=l)&&(l=d),(!c||f>=c)&&(c=f);var C=b?c:l;s.legend_equally?(Object.keys(p).forEach(function(t){return p[t]=l}),Object.keys(_).forEach(function(t){return _[t]=c}),(A=(T-C*w.length)/2)<10?(h=0,v=0,w.forEach(function(t){return M(t)})):M(e,!0)):M(e)};r.isLegendInset&&(v=s.legend_inset_step?s.legend_inset_step:w.length,r.updateLegendStep(v)),r.isLegendRight?(d=function(t){return l*m[t]},f=function(t){return x[m[t]]+g[t]}):r.isLegendInset?(d=function(t){return l*m[t]+10},f=function(t){return x[m[t]]+g[t]}):(d=function(t){return x[m[t]]+g[t]},f=function(t){return c*m[t]});var S=function(t,e){return d(t,e)+4+s.legend_item_tile_width},D=function(t,e){return f(t,e)+9},k=function(t,e){return d(t,e)},L=function(t,e){return f(t,e)-5},R=function(t,e){return d(t,e)-2},O=function(t,e){return d(t,e)-2+s.legend_item_tile_width},F=function(t,e){return f(t,e)+4},I=r.legend.selectAll("."+a["default"].legendItem).data(w).enter().append("g");r.setLegendItem(I),I.append("text").text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){C(this,t,e)}).style("pointer-events","none").attr("x",b?S:-200).attr("y",b?-200:D),I.append("rect").attr("class",a["default"].legendItemEvent).style("fill-opacity","0").attr("x",b?k:-200).attr("y",b?-200:L);var E=r.config.legend_usePoint;if(E){var X=[];I.append(function(t){var e=(0,o.notEmpty)(s.point_pattern)?s.point_pattern:[s.point_type];-1===X.indexOf(t)&&X.push(t);var n=e[X.indexOf(t)%e.length];return"rectangle"===n&&(n="rect"),document.createElementNS(i.namespaces.svg,r.hasValidPointType(n)?n:"use")}).attr("class",a["default"].legendItemPoint).style("fill",function(t){return r.color(t)}).style("pointer-events","none").attr("href",function(t,e,n){return"use"===n[e].nodeName.toLowerCase()?"#"+r.datetimeId+"-point-"+t:undefined})}else I.append("line").attr("class",a["default"].legendItemTile).style("stroke",r.color).style("pointer-events","none").attr("x1",b?R:-200).attr("y1",b?-200:F).attr("x2",b?O:-200).attr("y2",b?-200:F).attr("stroke-width",s.legend_item_tile_height);y=r.legend.select("."+a["default"].legendBackground+" rect"),r.isLegendInset&&l>0&&0===y.size()&&(y=r.legend.insert("g","."+a["default"].legendItem).attr("class",a["default"].legendBackground).append("rect"));var z=r.legend.selectAll("text").data(w).text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){C(this,t,e)});(A?z.transition():z).attr("x",S).attr("y",D);var N=r.legend.selectAll("rect."+a["default"].legendItemEvent).data(w);if((A?N.transition():N).attr("width",function(t){return p[t]}).attr("height",function(t){return _[t]}).attr("x",k).attr("y",L),E){var P=r.legend.selectAll("."+a["default"].legendItemPoint).data(w);(A?P.transition():P).each(function(){var t=this.nodeName.toLowerCase(),e=r.config.point_r,n="x",a="y",o=2,s=2.5,u=void 0,l=void 0,c=void 0;if("circle"===t){var d=.2*e;n="cx",a="cy",u=e+d,o=2*e,s=-d}else if("rect"===t){var f=2.5*e;l=f,c=f,s=3}(0,i.select)(this).attr(n,function(t){return R(t)+o}).attr(a,function(t){return F(t)-s}).attr("r",u).attr("width",l).attr("height",c)})}else{var Y=r.legend.selectAll("line."+a["default"].legendItemTile).data(w);(A?Y.transition():Y).style("stroke",r.color).attr("x1",R).attr("y1",F).attr("x2",O).attr("y2",F)}y&&(A?y.transition():y).attr("height",r.getLegendHeight()-12).attr("width",l*(v+1)+10),r.legend.selectAll("."+a["default"].legendItem).classed(a["default"].legendItemHidden,function(t){return!r.isTargetToShow(t)}),r.updateLegendItemWidth(l),r.updateLegendItemHeight(c),r.updateLegendStep(v),r.updateSizes(),r.updateScales(!A),r.updateSvgSize(),r.transformAll(M,n),r.legendHasRendered=!0}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3));(0,n(5).extend)(i["default"].prototype,{initTitle:function initTitle(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},redrawTitle:function redrawTitle(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},xForTitle:function xForTitle(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},yForTitle:function yForTitle(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},getTitlePadding:function getTitlePadding(){return this.yForTitle()+this.config.title_padding.bottom}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3));(0,n(5).extend)(i["default"].prototype,{getClipPath:function getClipPath(t){var e=this.config;return!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t)?null:"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},appendClip:function appendClip(t,e){return t.append("clipPath").attr("id",e).append("rect")},getAxisClipX:function getAxisClipX(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},getAxisClipY:function getAxisClipY(t){return t?-20:-this.margin.top},getXAxisClipX:function getXAxisClipX(){return this.getAxisClipX(!this.config.axis_rotated)},getXAxisClipY:function getXAxisClipY(){return this.getAxisClipY(!this.config.axis_rotated)},getYAxisClipX:function getYAxisClipX(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},getYAxisClipY:function getYAxisClipY(){return this.getAxisClipY(this.config.axis_rotated)},getAxisClipWidth:function getAxisClipWidth(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},getAxisClipHeight:function getAxisClipHeight(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},getXAxisClipWidth:function getXAxisClipWidth(){return this.getAxisClipWidth(!this.config.axis_rotated)},getXAxisClipHeight:function getXAxisClipHeight(){return this.getAxisClipHeight(!this.config.axis_rotated)},getYAxisClipWidth:function getYAxisClipWidth(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},getYAxisClipHeight:function getYAxisClipHeight(){return this.getAxisClipHeight(this.config.axis_rotated)}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,o.extend)(r["default"].prototype,{initRegion:function initRegion(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",a["default"].regions)},updateRegion:function updateRegion(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+a["default"].regions).selectAll("."+a["default"].region).data(n.regions),e.mainRegion.exit().transition().duration(t).style("opacity","0").remove(),e.mainRegion=e.mainRegion.enter().append("g").merge(e.mainRegion).attr("class",e.classRegion.bind(e)),e.mainRegion.append("rect").style("fill-opacity","0")},redrawRegion:function redrawRegion(t){var e=this,n=e.regionX.bind(e),r=e.regionY.bind(e),a=e.regionWidth.bind(e),s=e.regionHeight.bind(e),u=e.mainRegion.select("rect");return u=(t?u.transition():u).attr("x",n).attr("y",r).attr("width",a).attr("height",s),[(t?u.transition():u).style("fill-opacity",function(t){return(0,o.isValue)(t.opacity)?t.opacity:"0.1"}).on("end",function(){(0,i.select)(this.parentNode).selectAll("rect:not([x])").remove()})]},regionX:function regionX(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},regionY:function regionY(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},regionWidth:function regionWidth(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2,a=n.regionX(t);return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?r(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<a?0:e-a},regionHeight:function regionHeight(t){var e,n=this,i=n.config,r=this.regionY(t),a="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?a(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<r?0:e-r},isRegionOnX:function isRegionOnX(t){return!t.axis||"x"===t.axis}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(7)),o=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,o.extend)(r["default"].prototype,{drag:function drag(t){var e=this,n=e.config,r=e.main;if(!e.hasArcType()&&n.data_selection_enabled&&(!n.zoom_enabled||e.zoom.altDomain)&&n.data_selection_multiple){var s=e.dragStart[0],u=e.dragStart[1],l=t[0],c=t[1],d=Math.min(s,l),f=Math.max(s,l),h=n.data_selection_grouped?e.margin.top:Math.min(u,c),g=n.data_selection_grouped?e.height:Math.max(u,c);r.select("."+a["default"].dragarea).attr("x",d).attr("y",h).attr("width",f-d).attr("height",g-h),r.selectAll("."+a["default"].shapes).selectAll("."+a["default"].shape).filter(function(t){return n.data_selection_isselectable(t)}).each(function(t,n){var r=(0,i.select)(this),s=r.classed(a["default"].SELECTED),u=r.classed(a["default"].INCLUDED),l=void 0,c=void 0,p=void 0,_=void 0,x=void 0,m=!1,v=void 0;if(r.classed(a["default"].circle))l=1*r.attr("cx"),c=1*r.attr("cy"),x=e.togglePoint,m=d<l&&l<f&&h<c&&c<g;else{if(!r.classed(a["default"].bar))return;l=(v=(0,o.getPathBox)(this)).x,c=v.y,p=v.width,_=v.height,x=e.togglePath,m=!(f<l||l+p<d||g<c||c+_<h)}m^u&&(r.classed(a["default"].INCLUDED,!u),r.classed(a["default"].SELECTED,!s),x.call(e,!s,r,t,n))})}},dragstart:function dragstart(t){var e=this,n=e.config;e.hasArcType()||!n.data_selection_enabled||(e.dragStart=t,e.main.select("."+a["default"].chart).append("rect").attr("class",a["default"].dragarea).style("opacity","0.1"),e.dragging=!0)},dragend:function dragend(){var t=this,e=t.config;t.hasArcType()||!e.data_selection_enabled||(t.main.select("."+a["default"].dragarea).transition().duration(100).style("opacity","0").remove(),t.main.selectAll("."+a["default"].shape).classed(a["default"].INCLUDED,!1),t.dragging=!1)}})},function(t,e,n){"use strict";var i=n(64),r=n(73),a=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,n(5).extend)(a["default"].prototype,{selectPoint:function selectPoint(t,e,n){var i=this,r=i.config,a=(r.axis_rotated?i.circleY:i.circleX).bind(i),s=(r.axis_rotated?i.circleX:i.circleY).bind(i),u=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+o["default"].selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+o["default"].selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(o["default"].selectedCircle,n)}).attr("cx",a).attr("cy",s).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",u)},unselectPoint:function unselectPoint(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+o["default"].selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+o["default"].selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},togglePoint:function togglePoint(t,e,n,i){this[(t?"":"un")+"selectPoint"](e,n,i)},selectPath:function selectPath(t,e){var n=this,i=n.config;i.data_onselected.call(n,e,t.node()),i.interaction_brighten&&t.transition().duration(100).style("fill",function(){return(0,r.rgb)(n.color(e)).brighter(.75)})},unselectPath:function unselectPath(t,e){var n=this,i=n.config;i.data_onunselected.call(n,e,t.node()),i.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},togglePath:function togglePath(t,e,n,i){this[(t?"":"un")+"selectPath"](e,n,i)},getToggle:function getToggle(t,e){var n=void 0;return"path"===t.nodeName?"path"===t.nodeName&&(n=this.togglePath):n=this.isStepType(e)?function(){}:this.togglePoint,n},toggleShape:function toggleShape(t,e,n){var r=this,a=r.config,s=(0,i.select)(t),u=s.classed(o["default"].SELECTED),l=r.getToggle(t,e).bind(r),c=void 0;if(a.data_selection_enabled&&a.data_selection_isselectable(e)){if(!a.data_selection_multiple){var d="."+o["default"].shapes;a.data_selection_grouped&&(d+=r.getTargetSelectorSuffix(e.id)),r.main.selectAll(d).selectAll("."+o["default"].shape).each(function(t,e){var n=(0,i.select)(this);n.classed(o["default"].SELECTED)&&(c=n,l(!1,n.classed(o["default"].SELECTED,!1),t,e))})}c&&c.node()===s.node()||(s.classed(o["default"].SELECTED,!u),l(!u,s,e,n))}}})},function(t,e,n){"use strict";var i=n(64),r=n(75),a=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(7)),s=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,s.extend)(a["default"].prototype,{initBrush:function initBrush(){var t=this;t.brush=t.config.axis_rotated?(0,r.brushY)():(0,r.brushX)();var e=function(){t.redrawForBrush()};t.brush.on("start",function(){"touch"===t.inputType&&t.hideTooltip(),e()}).on("brush",e),t.brush.update=function(){return 0===this.extent()()[1].filter(function(t){return isNaN(t)}).length&&t.context&&t.context.select("."+o["default"].brush).call(this),this},t.brush.scale=function(e,n){var i=t.svg.select(".bb-brush .overlay"),r=[[0,0]];e.range?r.push([e.range()[1],(n||!i.empty())&&~~i.attr("height")||60]):e.constructor===Array&&r.push(e),t.config.axis_rotated&&r.reverse(),this.extent(t.config.axis_x_extent||r),this.update()},t.brush.getSelection=function(){return t.context?t.context.select("."+o["default"].brush):(0,i.select)([])}},initSubchart:function initSubchart(){var t=this,e=t.config,n=e.subchart_show?"visible":"hidden";t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));var i=t.context;i.style("visibility",n),i.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",o["default"].chart),i.select("."+o["default"].chart).append("g").attr("class",o["default"].chartBars),i.select("."+o["default"].chart).append("g").attr("class",o["default"].chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",o["default"].brush).call(t.brush),t.axes.subx=i.append("g").attr("class",o["default"].axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?n:"hidden")},updateTargetsForSubchart:function updateTargetsForSubchart(t){var e=this,n=e.context,i=e.config,r=e.classChartBar.bind(e),a=e.classBars.bind(e),s=e.classChartLine.bind(e),u=e.classLines.bind(e),l=e.classAreas.bind(e);if(i.subchart_show){var c=n.select("."+o["default"].chartBars).selectAll("."+o["default"].chartBar).data(t).attr("class",r);c.enter().append("g").style("opacity","0").attr("class",r).merge(c).append("g").attr("class",a);var d=n.select("."+o["default"].chartLines).selectAll("."+o["default"].chartLine).data(t).attr("class",s),f=d.enter().append("g").style("opacity","0").attr("class",s).merge(d);f.append("g").attr("class",u),f.append("g").attr("class",l),n.selectAll("."+o["default"].brush+" rect").attr(i.axis_rotated?"width":"height",i.axis_rotated?e.width2:e.height2)}},updateBarForSubchart:function updateBarForSubchart(t){var e=this;e.contextBar=e.context.selectAll("."+o["default"].bars).selectAll("."+o["default"].bar).data(e.barData.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity","0").remove(),e.contextBar=e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color).merge(e.contextBar).style("opacity",e.initialOpacity.bind(e))},redrawBarForSubchart:function redrawBarForSubchart(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity","1")},updateLineForSubchart:function updateLineForSubchart(t){var e=this;e.contextLine=e.context.selectAll("."+o["default"].lines).selectAll("."+o["default"].line).data(e.lineData.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity","0").remove(),e.contextLine=e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color).merge(e.contextLine).style("opacity",e.initialOpacity.bind(e))},redrawLineForSubchart:function redrawLineForSubchart(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity","1")},updateAreaForSubchart:function updateAreaForSubchart(t){var e=this;e.contextArea=e.context.selectAll("."+o["default"].areas).selectAll("."+o["default"].area).data(e.lineData.bind(e)),e.contextArea.exit().transition().duration(t).style("opacity","0").remove(),e.contextArea=e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,i.select)(this).style("opacity"),"0"}).merge(e.contextArea).style("opacity","0")},redrawAreaForSubchart:function redrawAreaForSubchart(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},redrawSubchart:function redrawSubchart(t,e,n,r,a,o,s){var u=this,l=u.config;if(u.context.style("visibility",l.subchart_show?"visible":"hidden"),l.subchart_show&&(i.event&&"zoom"===i.event.type&&u.brush.update(),t)){u.brushEmpty()||u.brush.update();var c=u.generateDrawArea(a,!0),d=u.generateDrawBar(o,!0),f=u.generateDrawLine(s,!0);u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(d,n,n),u.redrawLineForSubchart(f,n,n),u.redrawAreaForSubchart(c,n,n)}},redrawForBrush:function redrawForBrush(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},transformContext:function transformContext(t,e){var n=void 0;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+o["default"].axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},getDefaultExtent:function getDefaultExtent(){var t=this,e=t.config,n=(0,s.isFunction)(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n}})},function(t,e,n){"use strict";var i=n(66),r=n(64),a=n(72),o=_interopRequireDefault(n(3)),s=_interopRequireDefault(n(7)),u=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,u.extend)(o["default"].prototype,{initZoom:function initZoom(){this.zoomScale=null,this.generateZoom()},generateZoom:function generateZoom(){var t=this,e=t.config,n=(0,a.zoom)().duration(0).on("start",t.onStart.bind(t)).on("zoom",t.onZoom.bind(t)).on("end",t.onEnd.bind(t));n.orgScaleExtent=function(){var n=e.zoom_extent||[1,10];return[n[0],Math.max(t.getMaxDataCount()/n[1],n[1])]},n.updateScaleExtent=function(){var e=(0,u.diffDomain)(t.x.orgDomain())/(0,u.diffDomain)(t.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this},n.updateTransformScale=function(e){var n=e.rescaleX(t.x.orgScale());n.domain(t.trimXDomain(n.domain())),t.zoomScale=t.getCustomizedScale(n),t.xAxis.scale(t.zoomScale)},t.zoom=n},onStart:function onStart(){var t=this,e=r.event.sourceEvent,n=t.config.zoom_onzoomstart;t.zoom.altDomain=e.altKey?t.x.orgDomain():null,t.zoom.startEvent=e,(0,u.isFunction)(n)&&n.call(t.api,e)},onZoom:function onZoom(){var t=this,e=t.config,n=r.event;if(e.zoom_enabled){var i="mousemove"===n.sourceEvent.type,a=n.transform;return t.zoom.updateTransformScale(a),0===t.filterTargetsToShow(t.data.targets).length?void 0:i&&t.zoom.altDomain?(t.x.domain(t.zoom.altDomain),void a.scale(t.zoomScale).updateScaleExtent()):(t.isCategorized()&&t.x.orgDomain()[0]===t.orgXDomain[0]&&t.x.domain([t.orgXDomain[0]-1e-10,t.x.orgDomain()[1]]),t.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),t.cancelClick=i,void((0,u.isFunction)(e.zoom_onzoom)&&e.zoom_onzoom.call(t.api,t.x.orgDomain())))}},onEnd:function onEnd(){var t=this,e=r.event.sourceEvent,n=t.config.zoom_onzoomend,i=t.zoom.startEvent;e&&i.clientX===e.clientX&&i.clientY===e.clientY||(t.redrawEventRect(),t.updateZoom(),(0,u.isFunction)(n)&&n.call(t.api,t.x.orgDomain()))},getZoomDomain:function getZoomDomain(){var t=this.config;return[(0,i.min)([this.orgXDomain[0],t.zoom_x_min]),(0,i.max)([this.orgXDomain[1],t.zoom_x_max])]},updateZoom:function updateZoom(){var t=this;if(t.zoomScale){var e=t.zoomScale.domain(),n=t.x.domain();(e[0]<=n[0]||e[0]-.015<=n[0])&&(n[1]<=e[1]||n[1]<=e[1]-.015)&&(t.xAxis.scale(t.x),t.zoomScale=null)}},bindZoomOnEventRect:function bindZoomOnEventRect(){this.main.select("."+s["default"].eventRects).call(this.zoom).on("dblclick.zoom",null)}})},function(t,e,n){"use strict";var i=n(64),r=n(65),a=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),o=n(5);var s=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];(0,o.extend)(a["default"].prototype,{generateColor:function generateColor(){var t=this,e=t.config,n=e.data_colors,a=e.data_color,u=[],l=(0,o.notEmpty)(e.color_pattern)?e.color_pattern:(0,r.scaleOrdinal)(s).range(),c=l;if((0,o.isFunction)(e.color_tiles)){var d=e.color_tiles(),f=l.map(function(e,n){var r=e.replace(/[#\(\)\s,]/g,""),a=t.datetimeId+"-pattern-"+r+"-"+n;return function(t,e,n){var r=(0,i.select)(t.cloneNode(!0));return r.attr("id",n).insert("rect",":first-child").attr("width",r.attr("width")).attr("height",r.attr("height")).style("fill",e),{id:n,node:r.node()}}(d[n%d.length],e,a)});l=f.map(function(t){return"url(#"+t.id+")"}),t.patterns=f}return function(e){var i=e.id||e.data&&e.data.id||e,r=t.isTypeOf(i,["line","spline","step"])||!t.config.data_types[i],o=void 0;return n[i]instanceof Function?o=n[i](e):n[i]?o=n[i]:(u.indexOf(i)<0&&u.push(i),o=r?c[u.indexOf(i)%c.length]:l[u.indexOf(i)%l.length],n[i]=o),a instanceof Function?a(o,e):o}},generateLevelColor:function generateLevelColor(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,r=n.max||100,a=n.values&&n.values.length?n.values:[];return(0,o.notEmpty)(n)?function(t){for(var n=e[e.length-1],o=0;o<a.length;o++)if((i?t:100*t/r)<a[o]){n=e[o];break}return n}:null}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),r=n(5);var a=function(t,e,n){var i=t.config,r="axis_"+e+"_tick_format";return(i[r]?i[r]:t.defaultValueFormat)(n)};(0,r.extend)(i["default"].prototype,{getYFormat:function getYFormat(t){var e=this,n=e.yFormat,i=e.y2Format;return t&&!e.hasType("gauge")&&(n=e.defaultArcValueFormat,i=e.defaultArcValueFormat),function(t,r,a){return("y2"===e.axis.getId(a)?i:n).call(e,t,r)}},yFormat:function yFormat(t){return a(this,"y",t)},y2Format:function y2Format(t){return a(this,"y2",t)},defaultValueFormat:function defaultValueFormat(t){return(0,r.isValue)(t)?+t:""},defaultArcValueFormat:function defaultArcValueFormat(t,e){return(100*e).toFixed(1)+"%"},dataLabelFormat:function dataLabelFormat(t){var e=this.config.data_labels,n=function(t){return(0,r.isValue)(t)?+t:""},i=n;return(0,r.isFunction)(e.format)?i=e.format:(0,r.isObjectType)(e.format)&&(i=e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}),i}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3));(0,n(5).extend)(i["default"].prototype,{hasCaches:function hasCaches(t){if(!!(arguments.length>1&&arguments[1]!==undefined)&&arguments[1]){for(var e=0,n=t.length;e<n;e++)if(!(t[e]in this.cache))return!1;return!0}return t in this.cache},addCache:function addCache(t,e){var n=!!(arguments.length>2&&arguments[2]!==undefined)&&arguments[2];this.cache[t]=n?this.cloneTarget(e):e},getCaches:function getCaches(t){if(!!(arguments.length>1&&arguments[1]!==undefined)&&arguments[1]){for(var e,n=[],i=0;e=t[i];i++)e in this.cache&&n.push(this.cloneTarget(this.cache[e]));return n}return this.cache[t]||null},resetCache:function resetCache(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)}})},function(t,e,n){"use strict";var i=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,n(5).extend)(i["default"].prototype,{CLASS:r["default"],generateClass:function generateClass(t,e){return" "+t+" "+(t+this.getTargetSelectorSuffix(e))},classText:function classText(t){return this.generateClass(r["default"].text,t.index)},classTexts:function classTexts(t){return this.generateClass(r["default"].texts,t.id)},classShape:function classShape(t){return this.generateClass(r["default"].shape,t.index)},classShapes:function classShapes(t){return this.generateClass(r["default"].shapes,t.id)},generateExtraLineClass:function generateExtraLineClass(){var t=this.config.line_classes||[],e=[];return function(n){var i=n.id||n.data&&n.data.id||n;return e.indexOf(i)<0&&e.push(i),t[e.indexOf(i)%t.length]}},classLine:function classLine(t){return this.classShape(t)+this.generateClass(r["default"].line,t.id)},classLines:function classLines(t){return this.classShapes(t)+this.generateClass(r["default"].lines,t.id)},classCircle:function classCircle(t){return this.classShape(t)+this.generateClass(r["default"].circle,t.index)},classCircles:function classCircles(t){return this.classShapes(t)+this.generateClass(r["default"].circles,t.id)},classBar:function classBar(t){return this.classShape(t)+this.generateClass(r["default"].bar,t.index)},classBars:function classBars(t){return this.classShapes(t)+this.generateClass(r["default"].bars,t.id)},classArc:function classArc(t){return this.classShape(t.data)+this.generateClass(r["default"].arc,t.data.id)},classArcs:function classArcs(t){return this.classShapes(t.data)+this.generateClass(r["default"].arcs,t.data.id)},classArea:function classArea(t){return this.classShape(t)+this.generateClass(r["default"].area,t.id)},classAreas:function classAreas(t){return this.classShapes(t)+this.generateClass(r["default"].areas,t.id)},classRegion:function classRegion(t,e){return this.generateClass(r["default"].region,e)+" "+("class"in t?t["class"]:"")},classEvent:function classEvent(t){return this.generateClass(r["default"].eventRect,t.index)},classTarget:function classTarget(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+r["default"].target+"-"+e),this.generateClass(r["default"].target,t)+n},classFocus:function classFocus(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function classFocused(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?r["default"].focused:"")},classDefocused:function classDefocused(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?r["default"].defocused:"")},classChartText:function classChartText(t){return r["default"].chartText+this.classTarget(t.id)},classChartLine:function classChartLine(t){return r["default"].chartLine+this.classTarget(t.id)},classChartBar:function classChartBar(t){return r["default"].chartBar+this.classTarget(t.id)},classChartArc:function classChartArc(t){return r["default"].chartArc+this.classTarget(t.data.id)},classChartRadar:function classChartRadar(t){return r["default"].chartRadar+this.classTarget(t.id)},getTargetSelectorSuffix:function getTargetSelectorSuffix(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},selectorTarget:function selectorTarget(t,e){return(e||"")+"."+(r["default"].target+this.getTargetSelectorSuffix(t))},selectorTargets:function selectorTargets(t,e){var n=this,i=t||[];return i.length?i.map(function(t){return n.selectorTarget(t,e)}):null},selectorLegend:function selectorLegend(t){return"."+(r["default"].legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function selectorLegends(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,n(5).extend)(r["default"].prototype,{focus:function focus(t){var e=this.internal,n=e.mapToTargetIds(t),i=e.svg.selectAll(e.selectorTargets(n.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),i.classed(a["default"].focused,!0).classed(a["default"].defocused,!1),e.hasArcType()&&e.expandArc(n),e.toggleFocusLegend(n,!0),e.focusedTargetIds=n,e.defocusedTargetIds=e.defocusedTargetIds.filter(function(t){return n.indexOf(t)<0})},defocus:function defocus(t){var e=this.internal,n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n.filter(e.isTargetToShow,e))).classed(a["default"].focused,!1).classed(a["default"].defocused,!0),e.hasArcType()&&e.unexpandArc(n),e.toggleFocusLegend(n,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(t){return n.indexOf(t)<0}),e.defocusedTargetIds=n},revert:function revert(t){var e=this.internal,n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n)).classed(a["default"].focused,!1).classed(a["default"].defocused,!1),e.hasArcType()&&e.unexpandArc(n),e.config.legend_show&&(e.showLegend(n.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(n)).filter(function(){return(0,i.select)(this).classed(a["default"].legendItemFocused)}).classed(a["default"].legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1));(0,n(5).extend)(i["default"].prototype,{show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.internal,i=n.mapToTargetIds(t);n.removeHiddenTargetIds(i);var r=n.svg.selectAll(n.selectorTargets(i));r.transition().style("opacity","1","important").call(n.endall,function(){r.style("opacity",null).style("opacity","1")}),e.withLegend&&n.showLegend(i),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},hide:function hide(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.internal,i=n.mapToTargetIds(t);n.addHiddenTargetIds(i);var r=n.svg.selectAll(n.selectorTargets(i));r.transition().style("opacity","0","important").call(n.endall,function(){r.style("opacity",null).style("opacity","0")}),e.withLegend&&n.hideLegend(i),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},toggle:function toggle(t){var e=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=this.internal,r={show:[],hide:[]};i.mapToTargetIds(t).forEach(function(t){return r[i.isTargetToShow(t)?"hide":"show"].push(t)}),r.show.length&&this.show(r.show,n),r.hide.length&&setTimeout(function(){return e.hide(r.hide,n)},0)}})},function(t,e,n){"use strict";var i=n(66),r=n(72),a=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),o=n(5);var s=function(t){var e=this.internal,n=e.isTimeSeries(),i=t,a=void 0;if(e.config.zoom_enabled&&i){if(n&&(i=i.map(function(t){return e.parseDate(t)})),e.config.subchart_show){var s=e.zoomScale||e.x;e.brush.getSelection().call(e.brush.move,[s(i[0]),s(i[1])]),a=i}else{var u=e.x.orgDomain(),l=(u[1]-u[0])/(i[1]-i[0]),c=n?0-l*e.x(i[0].getTime()):i[0]-l*(e.x(i[0])-e.xAxis.tickOffset());e.zoom.updateTransformScale(r.zoomIdentity.translate(c,0).scale(l)),a=e.zoomScale.domain()}e.redraw({withTransition:!0,withY:e.config.zoom_rescale,withDimension:!1}),(0,o.isFunction)(e.config.zoom_onzoom)&&e.config.zoom_onzoom.call(this,e.x.orgDomain())}else a=(e.zoomScale||e.x).domain();return a};(0,o.extend)(s,{enable:function enable(){var t=!!(arguments.length>0&&arguments[0]!==undefined)&&arguments[0],e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},max:function max(t){var e=this.internal,n=e.config;return(0===t||t)&&(n.zoom_x_max=(0,i.max)([e.orgXDomain[1],t])),n.zoom_x_max},min:function min(t){var e=this.internal,n=e.config;return(0===t||t)&&(n.zoom_x_min=(0,i.min)([e.orgXDomain[0],t])),n.zoom_x_min},range:function range(t){var e=this.zoom;return(0,o.isObject)(t)&&((0,o.isDefined)(t.min)&&e.min(t.min),(0,o.isDefined)(t.max)&&e.max(t.max)),{min:e.min(),max:e.max()}}}),(0,o.extend)(a["default"].prototype,{zoom:s,unzoom:function unzoom(){var t=this.internal;t.config.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(r.zoomIdentity),t.redraw({withTransition:!0,withY:t.config.zoom_rescale})}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);(0,r.extend)(i["default"].prototype,{load:function load(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds,!0)?void e.load(e.getCaches(t.cacheIds,!0),t.done):void("unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds((0,r.isBoolean)(t.unload)&&t.unload?null:t.unload),function(){return e.loadFromArgs(t)}):e.loadFromArgs(t))},unload:function unload(t){var e=this.internal,n=t||{};n instanceof Array?n={ids:n}:(0,r.isString)(n)&&(n={ids:[n]}),e.unload(e.mapToTargetIds(n.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})}})},function(t,e,n){"use strict";var i=n(64),r=n(70),a=n(67),o=_interopRequireDefault(n(1)),s=_interopRequireDefault(n(3)),u=n(5),l=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,u.extend)(o["default"].prototype,{flow:function flow(t){var e=this.internal,n=[],i=e.getMaxDataCount(),r=void 0,a=void 0,o=0,s=0,l=void 0,c=void 0;if(t.json)r=e.convertJsonToData(t.json,t.keys);else if(t.rows)r=e.convertRowsToData(t.rows);else{if(!t.columns)return;r=e.convertColumnsToData(t.columns)}var d=e.convertDataToTargets(r,!0);e.data.targets.forEach(function(t){for(var i=!1,r=0;r<d.length;r++)if(t.id===d[r].id){i=!0,t.values[t.values.length-1]&&(s=t.values[t.values.length-1].index+1),o=d[r].values.length;for(var a=0;a<o;a++)d[r].values[a].index=s+a,e.isTimeSeries()||(d[r].values[a].x=s+a);t.values=t.values.concat(d[r].values),d.splice(r,1);break}i||n.push(t.id)}),e.data.targets.forEach(function(t){for(var i=0;i<n.length;i++)if(t.id===n[i]){s=t.values[t.values.length-1].index+1;for(var r=0;r<o;r++)t.values.push({id:t.id,index:s+r,x:e.isTimeSeries()?e.getOtherTargetX(s+r):s+r,value:null})}}),e.data.targets.length&&d.forEach(function(t){for(var n=[],i=e.data.targets[0].values[0].index;i<s;i++)n.push({id:t.id,index:i,x:e.isTimeSeries()?e.getOtherTargetX(i):i,value:null});t.values.forEach(function(t){t.index+=s,e.isTimeSeries()||(t.x+=s)}),t.values=n.concat(t.values)}),e.data.targets=e.data.targets.concat(d);var f=e.data.targets[0],h=f.values[0];(0,u.isDefined)(t.to)?(o=0,c=e.isTimeSeries()?e.parseDate(t.to):t.to,f.values.forEach(function(t){t.x<c&&o++})):(0,u.isDefined)(t.length)&&(o=t.length),i?1===i&&e.isTimeSeries()&&(l=(f.values[f.values.length-1].x-h.x)/2,a=[new Date(+h.x-l),new Date(+h.x+l)],e.updateXDomain(null,!0,!0,!1,a)):(l=e.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-h.x:h.x-e.getXDomain(e.data.targets)[0]:1,a=[h.x-l,h.x],e.updateXDomain(null,!0,!0,!1,a)),e.updateTargets(e.data.targets),e.redraw({flow:{index:h.index,length:o,duration:(0,u.isValue)(t.duration)?t.duration:e.config.transition_duration,done:t.done,orgDataCount:i},withLegend:!0,withTransition:i>1,withTrimXDomain:!1,withUpdateXAxis:!0})}}),(0,u.extend)(s["default"].prototype,{generateFlow:function generateFlow(t){var e=this,n=e.config;return function(){var o=t.targets,s=t.flow,c=t.drawBar,d=t.drawLine,f=t.drawArea,h=t.cx,g=t.cy,p=t.xv,_=t.xForText,x=t.yForText,m=t.duration,v=void 0,y=s.index,b=s.length,w=e.getValueOnIndex(e.data.targets[0].values,y),T=e.getValueOnIndex(e.data.targets[0].values,y+b),A=e.x.domain(),M=s.duration||m,C=s.done||function(){},S=e.generateWait(),D=e.xgrid||(0,i.selectAll)([]),k=e.xgridLines||(0,i.selectAll)([]),L=e.mainRegion||(0,i.selectAll)([]),R=e.mainText||(0,i.selectAll)([]),O=e.mainBar||(0,i.selectAll)([]),F=e.mainLine||(0,i.selectAll)([]),I=e.mainArea||(0,i.selectAll)([]),E=e.mainCircle||(0,i.selectAll)([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)});var X=e.updateXDomain(o,!0,!0);e.updateXGrid&&e.updateXGrid(!0),s.orgDataCount?v=1===s.orgDataCount||(w&&w.x)===(T&&T.x)?e.x(A[0])-e.x(X[0]):e.isTimeSeries()?e.x(A[0])-e.x(X[0]):e.x(w.x)-e.x(T.x):1===e.data.targets[0].values.length?e.isTimeSeries()?(w=e.getValueOnIndex(e.data.targets[0].values,0),T=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),v=e.x(w.x)-e.x(T.x)):v=(0,u.diffDomain)(X)/2:v=e.x(A[0])-e.x(X[0]);var z="translate("+v+",0) scale("+(0,u.diffDomain)(A)/(0,u.diffDomain)(X)+",1)";e.hideXGridFocus();var N=(0,a.transition)().ease(r.easeLinear).duration(M);S.add([e.axes.x.transition(N).call(e.xAxis.setTransition(N)),O.transition(N).attr("transform",z),F.transition(N).attr("transform",z),I.transition(N).attr("transform",z),E.transition(N).attr("transform",z),R.transition(N).attr("transform",z),L.filter(e.isRegionOnX).transition(N).attr("transform",z),D.transition(N).attr("transform",z),k.transition(N).attr("transform",z)]),N.call(S,function(){var t=[],i=[],r=[];if(b){for(var a,o=0;o<b;o++)a=y+o,t.push("."+l["default"].shape+"-"+a),i.push("."+l["default"].text+"-"+a),r.push("."+l["default"].eventRect+"-"+a);e.svg.selectAll("."+l["default"].shapes).selectAll(t).remove(),e.svg.selectAll("."+l["default"].texts).selectAll(i).remove(),e.svg.selectAll("."+l["default"].eventRects).selectAll(r).remove(),e.svg.select("."+l["default"].xgrid).remove()}if(D.size()&&D.attr("transform",null).attr(e.xgridAttr),k.attr("transform",null),k.select("line").attr("x1",n.axis_rotated?0:p).attr("x2",n.axis_rotated?e.width:p),k.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",p),O.attr("transform",null).attr("d",c),F.attr("transform",null).attr("d",d),I.attr("transform",null).attr("d",f),E.attr("transform",null),e.isCirclePoint())E.attr("cx",h).attr("cy",g);else{E.attr("x",function(t){return h(t)-n.point_r}).attr("y",function(t){return g(t)-n.point_r}).attr("cx",h).attr("cy",g)}R.attr("transform",null).attr("x",_).attr("y",x).style("fill-opacity",e.opacityForText.bind(e)),L.attr("transform",null),L.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),C(),e.flowing=!1})}}})},function(t,e,n){"use strict";var i=n(64),r=_interopRequireDefault(n(1)),a=n(5),o=_interopRequireDefault(n(7));function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,a.extend)(r["default"].prototype,{selected:function selected(t){var e=this.internal,n=[];return e.main.selectAll("."+(o["default"].shapes+e.getTargetSelectorSuffix(t))).selectAll("."+o["default"].shape).filter(function(){return(0,i.select)(this).classed(o["default"].SELECTED)}).each(function(t){return n.push(t)}),n},select:function select(t,e,n){var r=this.internal,s=r.config;s.data_selection_enabled&&r.main.selectAll("."+o["default"].shapes).selectAll("."+o["default"].shape).each(function(u,l){var c=(0,i.select)(this),d=u.data?u.data.id:u.id,f=r.getToggle(this,u).bind(r),h=s.data_selection_grouped||!t||t.indexOf(d)>=0,g=!e||e.indexOf(l)>=0,p=c.classed(o["default"].SELECTED);c.classed(o["default"].line)||c.classed(o["default"].area)||(h&&g?s.data_selection_isselectable(u)&&!p&&f(!0,c.classed(o["default"].SELECTED,!0),u,l):(0,a.isDefined)(n)&&n&&p&&f(!1,c.classed(o["default"].SELECTED,!1),u,l))})},unselect:function unselect(t,e){var n=this.internal,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+o["default"].shapes).selectAll("."+o["default"].shape).each(function(a,s){var u=(0,i.select)(this),l=a.data?a.data.id:a.id,c=n.getToggle(this,a).bind(n),d=r.data_selection_grouped||!t||t.indexOf(l)>=0,f=!e||e.indexOf(s)>=0,h=u.classed(o["default"].SELECTED);u.classed(o["default"].line)||u.classed(o["default"].area)||d&&f&&r.data_selection_isselectable(a)&&h&&c(!1,u.classed(o["default"].SELECTED,!1),a,s)})}})},function(t,e,n){"use strict";var i=_interopRequireDefault(n(1)),r=_interopRequireDefault(n(3)),a=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(0,a.extend)(i["default"].prototype,{transform:function transform(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)}}),(0,a.extend)(r["default"].prototype,{transformTo:function transformTo(t,e,n){var i=this,r=!i.hasArcType(),a=n||{withTransitionForAxis:r};a.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(a)}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);(0,r.extend)(i["default"].prototype,{groups:function groups(t){var e=this.internal,n=e.config;return(0,r.isUndefined)(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);var a=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines};(0,r.extend)(a,{add:function add(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},remove:function remove(t){this.internal.removeGridLines(t,!0)}});var o=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines};(0,r.extend)(o,{add:function add(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},remove:function remove(t){this.internal.removeGridLines(t,!1)}}),(0,r.extend)(i["default"].prototype,{xgrids:a,ygrids:o})},function(t,e,n){"use strict";var i=_interopRequireDefault(n(1)),r=_interopRequireDefault(n(7)),a=n(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var o=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions};(0,a.extend)(o,{add:function add(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},remove:function remove(t){var e=this.internal,n=e.config,i=t||{},a=e.getOption(i,"duration",n.transition_duration),o=e.getOption(i,"classes",[r["default"].region]),s=e.main.select("."+r["default"].regions).selectAll(o.map(function(t){return"."+t}));return(a?s.transition().duration(a):s).style("opacity","0").remove(),n.regions=n.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){o.indexOf(t)>=0&&(e=!0)}),!e)}),n.regions}}),(0,a.extend)(i["default"].prototype,{regions:o})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);var a=function(t){var e=this.internal.data.targets;return(0,r.isUndefined)(t)?e:e.filter(function(e){return t.indexOf(e.id)>=0})};(0,r.extend)(a,{shown:function shown(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t){var e=null;if(t){var n=this.data(t);n&&(0,r.isArray)(n)&&(e=[],n.forEach(function(t){e=e.concat(t.values.map(function(t){return t.value}))}))}return e},names:function names(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},colors:function colors(t){return this.internal.updateDataAttributes("colors",t)},axes:function axes(t){return this.internal.updateDataAttributes("axes",t)}}),(0,r.extend)(i["default"].prototype,{data:a})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1));(0,n(5).extend)(i["default"].prototype,{category:function category(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},categories:function categories(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1));(0,n(5).extend)(i["default"].prototype,{color:function color(t){return this.internal.color(t)}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1));(0,n(5).extend)(i["default"].prototype,{x:function x(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},xs:function xs(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);var a=function(t,e,n){var i=t.config,a="axis_y_"+e,o="axis_y2_"+e;return(0,r.isDefined)(n)&&((0,r.isObjectType)(n)?((0,r.isValue)(n.x)&&(i["axis_x_"+e]=n.x),(0,r.isValue)(n.y)&&(i[a]=n.y),(0,r.isValue)(n.y2)&&(i[o]=n.y2)):(i[a]=n,i[o]=n),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),undefined},o=function(t,e){var n=t.config;return{x:n["axis_x_"+e],y:n["axis_y_"+e],y2:n["axis_y2_"+e]}},s=(0,r.extend)(function(){},{labels:function labels(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},min:function min(t){var e=this.internal;return arguments.length?a(e,"min",t):o(e,"min")},max:function max(t){var e=this.internal;return arguments.length?a(e,"max",t):o(e,"max")},range:function range(t){var e=this.axis;return arguments.length?((0,r.isDefined)(t.max)&&e.max(t.max),(0,r.isDefined)(t.min)&&e.min(t.min),undefined):{max:e.max(),min:e.min()}}});(0,r.extend)(i["default"].prototype,{axis:s})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);var a=(0,r.extend)(function(){},{show:function show(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function hide(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}});(0,r.extend)(i["default"].prototype,{legend:a})},function(t,e,n){"use strict";var i=n(64),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),a=n(59),o=n(5);(0,o.extend)(r["default"].prototype,{resize:function resize(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},flush:function flush(){this.internal.zoomScale=null,this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},destroy:function destroy(){var t=this,e=this.internal;return(0,o.notEmpty)(e)&&(e.charts.splice(e.charts.indexOf(this),1),(0,o.isDefined)(e.intervalForObserveInserted)&&a.window.clearInterval(e.intervalForObserveInserted),(0,o.isDefined)(e.resizeTimeout)&&a.window.clearTimeout(e.resizeTimeout),(0,i.select)(a.window).on("resize.bb",null),e.selectChart.classed("bb",!1).html(""),Object.keys(this).forEach(function(n){"internal"===n&&Object.keys(e).forEach(function(t){e[t]=null}),t[n]=null,delete t[n]})),null}})},function(t,e,n){"use strict";e.__esModule=!0,e.document=e.window=undefined;var i=n(5),r=(0,i.isDefined)(window)&&window.Math===Math?window:(0,i.isDefined)(self)&&(self.Math===Math?self:Function("return this")()),a=r.document;e.window=r,e.document=a},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),r=n(5);var a=(0,r.extend)(function(){},{show:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this.internal,n=void 0,i=void 0;t.mouse&&(i=t.mouse),t.data?e.isMultipleX()?(i=[e.x(t.data.x),e.getYScale(t.data.id)(t.data.value)],n=null):n=(0,r.isValue)(t.data.index)?t.data.index:e.getIndexByX(t.data.x):(0,r.isDefined)(t.x)?n=e.getIndexByX(t.x):(0,r.isDefined)(t.index)&&(n=t.index),("mouse"===e.inputType?["mouseover","mousemove"]:["touchstart"]).forEach(function(t){e.dispatchEvent(t,n,i)})},hide:function hide(){var t=this.internal;t.hideTooltip(),t.hideXGridFocus(),t.unexpandCircles(),t.unexpandBars()}});(0,r.extend)(i["default"].prototype,{tooltip:a})},function(t,e,n){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(3)),r=n(5);var a=window.navigator.userAgent;(0,r.extend)(i["default"].prototype,{isSafari:function isSafari(){return a.indexOf("Safari")>-1&&!this.isChrome()},isChrome:function isChrome(){return a.indexOf("Chrome")>-1},isMobile:function isMobile(){return a.indexOf("Mobi")>-1}})},function(t,e,n){"use strict";var i=n(64),r=function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}(n(1)),a=n(5);var o=function(t){var e=t.getBoundingClientRect(),n=t.cloneNode(!0),r=(0,a.toArray)(document.styleSheets),o=(0,a.getCssRules)(r).filter(function(t){return t.cssText}).map(function(t){return t.cssText});n.setAttribute("xmlns",i.namespaces.xhtml);var s=(new XMLSerializer).serializeToString(n);return"data:image/svg+xml;base64,"+function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}(('<svg xmlns="'+i.namespaces.svg+'" width="'+e.width+'" height="'+e.height+'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t<style>'+o.join("\n")+"</style>\n\t\t\t\t"+s+"\n\t\t\t</foreignObject></svg>").replace(/#/g,"%23").replace("/\n/g","%0A"))};(0,a.extend)(r["default"].prototype,{"export":function _export(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"image/png",e=arguments[1],n=o(this.element);if((0,a.isFunction)(e)){var i=new Image;i.crosssOrigin="Anonymous",i.onload=function(){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=i.width,n.height=i.height,r.drawImage(i,0,0),n.toBlob(function(t){e(window.URL.createObjectURL(t))},t)},i.src=n}return n}})},function(t,e,n){"use strict";var i=Math.PI,r=2*i,a=r-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,u=n-t,l=r-e,c=o-t,d=s-e,f=c*c+d*d;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(d*u-l*c)>1e-6&&a){var h=n-o,g=r-s,p=u*u+l*l,_=h*h+g*g,x=Math.sqrt(p),m=Math.sqrt(f),v=a*Math.tan((i-Math.acos((p+f-_)/(2*x*m)))/2),y=v/m,b=v/x;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*d)),this._+="A"+a+","+a+",0,0,"+ +(d*h>c*g)+","+(this._x1=t+b*u)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,s,u){t=+t,e=+e;var l=(n=+n)*Math.cos(o),c=n*Math.sin(o),d=t+l,f=e+c,h=1^u,g=u?o-s:s-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+f:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+d+","+f),n&&(g<0&&(g=g%r+r),g>a?this._+="A"+n+","+n+",0,1,"+h+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+h+","+(this._x1=d)+","+(this._y1=f):g>1e-6&&(this._+="A"+n+","+n+",0,"+ +(g>=i)+","+h+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var o=path,s=function(t){return function constant(){return t}},u=Math.abs,l=Math.atan2,c=Math.cos,d=Math.max,f=Math.min,h=Math.sin,g=Math.sqrt,p=1e-12,_=Math.PI,x=_/2,m=2*_;function asin(t){return t>=1?x:t<=-1?-x:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function cornerTangents(t,e,n,i,r,a,o){var s=t-n,u=e-i,l=(o?a:-a)/g(s*s+u*u),c=l*u,f=-l*s,h=t+c,p=e+f,_=n+c,x=i+f,m=(h+_)/2,v=(p+x)/2,y=_-h,b=x-p,w=y*y+b*b,T=r-a,A=h*x-_*p,M=(b<0?-1:1)*g(d(0,T*T*w-A*A)),C=(A*b-y*M)/w,S=(-A*y-b*M)/w,D=(A*b+y*M)/w,k=(-A*y+b*M)/w,L=C-m,R=S-v,O=D-m,F=k-v;return L*L+R*R>O*O+F*F&&(C=D,S=k),{cx:C,cy:S,x01:-c,y01:-f,x11:C*(r/T-1),y11:S*(r/T-1)}}var v=function(){var t=arcInnerRadius,e=arcOuterRadius,n=s(0),i=null,r=arcStartAngle,a=arcEndAngle,d=arcPadAngle,v=null;function arc(){var s,y,b=+t.apply(this,arguments),w=+e.apply(this,arguments),T=r.apply(this,arguments)-x,A=a.apply(this,arguments)-x,M=u(A-T),C=A>T;if(v||(v=s=o()),w<b&&(y=w,w=b,b=y),w>p)if(M>m-p)v.moveTo(w*c(T),w*h(T)),v.arc(0,0,w,T,A,!C),b>p&&(v.moveTo(b*c(A),b*h(A)),v.arc(0,0,b,A,T,C));else{var S,D,k=T,L=A,R=T,O=A,F=M,I=M,E=d.apply(this,arguments)/2,X=E>p&&(i?+i.apply(this,arguments):g(b*b+w*w)),z=f(u(w-b)/2,+n.apply(this,arguments)),N=z,P=z;if(X>p){var Y=asin(X/b*h(E)),B=asin(X/w*h(E));(F-=2*Y)>p?(R+=Y*=C?1:-1,O-=Y):(F=0,R=O=(T+A)/2),(I-=2*B)>p?(k+=B*=C?1:-1,L-=B):(I=0,k=L=(T+A)/2)}var q=w*c(k),V=w*h(k),j=b*c(O),U=b*h(O);if(z>p){var W=w*c(L),H=w*h(L),G=b*c(R),$=b*h(R);if(M<_){var Z=F>p?function intersect(t,e,n,i,r,a,o,s){var u=n-t,l=i-e,c=o-r,d=s-a,f=(c*(e-a)-d*(t-r))/(d*u-c*l);return[t+f*u,e+f*l]}(q,V,G,$,W,H,j,U):[j,U],K=q-Z[0],J=V-Z[1],Q=W-Z[0],tt=H-Z[1],et=1/h(function acos(t){return t>1?0:t<-1?_:Math.acos(t)}((K*Q+J*tt)/(g(K*K+J*J)*g(Q*Q+tt*tt)))/2),nt=g(Z[0]*Z[0]+Z[1]*Z[1]);N=f(z,(b-nt)/(et-1)),P=f(z,(w-nt)/(et+1))}}I>p?P>p?(S=cornerTangents(G,$,q,V,w,P,C),D=cornerTangents(W,H,j,U,w,P,C),v.moveTo(S.cx+S.x01,S.cy+S.y01),P<z?v.arc(S.cx,S.cy,P,l(S.y01,S.x01),l(D.y01,D.x01),!C):(v.arc(S.cx,S.cy,P,l(S.y01,S.x01),l(S.y11,S.x11),!C),v.arc(0,0,w,l(S.cy+S.y11,S.cx+S.x11),l(D.cy+D.y11,D.cx+D.x11),!C),v.arc(D.cx,D.cy,P,l(D.y11,D.x11),l(D.y01,D.x01),!C))):(v.moveTo(q,V),v.arc(0,0,w,k,L,!C)):v.moveTo(q,V),b>p&&F>p?N>p?(S=cornerTangents(j,U,W,H,b,-N,C),D=cornerTangents(q,V,G,$,b,-N,C),v.lineTo(S.cx+S.x01,S.cy+S.y01),N<z?v.arc(S.cx,S.cy,N,l(S.y01,S.x01),l(D.y01,D.x01),!C):(v.arc(S.cx,S.cy,N,l(S.y01,S.x01),l(S.y11,S.x11),!C),v.arc(0,0,b,l(S.cy+S.y11,S.cx+S.x11),l(D.cy+D.y11,D.cx+D.x11),C),v.arc(D.cx,D.cy,N,l(D.y11,D.x11),l(D.y01,D.x01),!C))):v.arc(0,0,b,O,R,C):v.lineTo(j,U)}else v.moveTo(0,0);if(v.closePath(),s)return v=null,s+""||null}return arc.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-_/2;return[c(i)*n,h(i)*n]},arc.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),arc):t},arc.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),arc):e},arc.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),arc):n},arc.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:s(+t),arc):i},arc.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),arc):r},arc.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:s(+t),arc):a},arc.padAngle=function(t){return arguments.length?(d="function"==typeof t?t:s(+t),arc):d},arc.context=function(t){return arguments.length?(v=null==t?null:t,arc):v},arc};function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var y=function(t){return new Linear(t)};function point_x(t){return t[0]}function point_y(t){return t[1]}var b=function(){var t=point_x,e=point_y,n=s(!0),i=null,r=y,a=null;function line(s){var u,l,c,d=s.length,f=!1;for(null==i&&(a=r(c=o())),u=0;u<=d;++u)!(u<d&&n(l=s[u],u,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,u,s),+e(l,u,s));if(c)return a=null,c+""||null}return line.x=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),line):t},line.y=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),line):e},line.defined=function(t){return arguments.length?(n="function"==typeof t?t:s(!!t),line):n},line.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),line):r},line.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),line):i},line},w=function(){var t=point_x,e=null,n=s(0),i=point_y,r=s(!0),a=null,u=y,l=null;function area(s){var c,d,f,h,g,p=s.length,_=!1,x=new Array(p),m=new Array(p);for(null==a&&(l=u(g=o())),c=0;c<=p;++c){if(!(c<p&&r(h=s[c],c,s))===_)if(_=!_)d=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=d;--f)l.point(x[f],m[f]);l.lineEnd(),l.areaEnd()}_&&(x[c]=+t(h,c,s),m[c]=+n(h,c,s),l.point(e?+e(h,c,s):x[c],i?+i(h,c,s):m[c]))}if(g)return l=null,g+""||null}function arealine(){return b().defined(r).curve(u).context(a)}return area.x=function(n){return arguments.length?(t="function"==typeof n?n:s(+n),e=null,area):t},area.x0=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),area):t},area.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:s(+t),area):e},area.y=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),i=null,area):n},area.y0=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),area):n},area.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:s(+t),area):i},area.lineX0=area.lineY0=function(){return arealine().x(t).y(n)},area.lineY1=function(){return arealine().x(t).y(i)},area.lineX1=function(){return arealine().x(e).y(n)},area.defined=function(t){return arguments.length?(r="function"==typeof t?t:s(!!t),area):r},area.curve=function(t){return arguments.length?(u=t,null!=a&&(l=u(a)),area):u},area.context=function(t){return arguments.length?(null==t?a=l=null:l=u(a=t),area):a},area},T=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},A=function(t){return t},M=function(){var t=A,e=T,n=null,i=s(0),r=s(m),a=s(0);function pie(o){var s,u,l,c,d,f=o.length,h=0,g=new Array(f),p=new Array(f),_=+i.apply(this,arguments),x=Math.min(m,Math.max(-m,r.apply(this,arguments)-_)),v=Math.min(Math.abs(x)/f,a.apply(this,arguments)),y=v*(x<0?-1:1);for(s=0;s<f;++s)(d=p[g[s]=s]=+t(o[s],s,o))>0&&(h+=d);for(null!=e?g.sort(function(t,n){return e(p[t],p[n])}):null!=n&&g.sort(function(t,e){return n(o[t],o[e])}),s=0,l=h?(x-f*y)/h:0;s<f;++s,_=c)u=g[s],c=_+((d=p[u])>0?d*l:0)+y,p[u]={data:o[u],index:s,value:d,startAngle:_,endAngle:c,padAngle:v};return p}return pie.value=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),pie):t},pie.sortValues=function(t){return arguments.length?(e=t,n=null,pie):e},pie.sort=function(t){return arguments.length?(n=t,e=null,pie):n},pie.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),pie):i},pie.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),pie):r},pie.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:s(+t),pie):a},pie},C=curveRadial(y);function Radial(t){this._curve=t}function curveRadial(t){function radial(e){return new Radial(t(e))}return radial._curve=t,radial}function lineRadial(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var S=function(){return lineRadial(b().curve(C))},D=function(){var t=w().curve(C),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(n())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(i())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(r())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t},k=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},L=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link_link(t){var e=linkSource,n=linkTarget,i=point_x,r=point_y,a=null;function link(){var s,u=L.call(arguments),l=e.apply(this,u),c=n.apply(this,u);if(a||(a=s=o()),t(a,+i.apply(this,(u[0]=l,u)),+r.apply(this,u),+i.apply(this,(u[0]=c,u)),+r.apply(this,u)),s)return a=null,s+""||null}return link.source=function(t){return arguments.length?(e=t,link):e},link.target=function(t){return arguments.length?(n=t,link):n},link.x=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),link):i},link.y=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),link):r},link.context=function(t){return arguments.length?(a=null==t?null:t,link):a},link}function curveHorizontal(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function curveVertical(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function link_curveRadial(t,e,n,i,r){var a=k(e,n),o=k(e,n=(n+r)/2),s=k(i,n),u=k(i,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var t=link_link(link_curveRadial);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var R={draw:function(t,e){var n=Math.sqrt(e/_);t.moveTo(n,0),t.arc(0,0,n,0,m)}},O={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},F=Math.sqrt(1/3),I=2*F,E={draw:function(t,e){var n=Math.sqrt(e/I),i=n*F;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},X=Math.sin(_/10)/Math.sin(7*_/10),z=Math.sin(m/10)*X,N=-Math.cos(m/10)*X,P={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=z*n,r=N*n;t.moveTo(0,-n),t.lineTo(i,r);for(var a=1;a<5;++a){var o=m*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},Y={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},B=Math.sqrt(3),q={draw:function(t,e){var n=-Math.sqrt(e/(3*B));t.moveTo(0,2*n),t.lineTo(-B*n,-n),t.lineTo(B*n,-n),t.closePath()}},V=Math.sqrt(3)/2,j=1/Math.sqrt(12),U=3*(j/2+1),W={draw:function(t,e){var n=Math.sqrt(e/U),i=n/2,r=n*j,a=i,o=n*j+n,s=-a,u=o;t.moveTo(i,r),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(-.5*i-V*r,V*i+-.5*r),t.lineTo(-.5*a-V*o,V*a+-.5*o),t.lineTo(-.5*s-V*u,V*s+-.5*u),t.lineTo(-.5*i+V*r,-.5*r-V*i),t.lineTo(-.5*a+V*o,-.5*o-V*a),t.lineTo(-.5*s+V*u,-.5*u-V*s),t.closePath()}},H=[R,O,E,Y,P,q,W],G=function(){var t=s(R),e=s(64),n=null;function symbol(){var i;if(n||(n=i=o()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return symbol.type=function(e){return arguments.length?(t="function"==typeof e?e:s(e),symbol):t},symbol.size=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),symbol):e},symbol.context=function(t){return arguments.length?(n=null==t?null:t,symbol):n},symbol},$=function(){};function point(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Z=function(t){return new Basis(t)};function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:$,areaEnd:$,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var K=function(t){return new BasisClosed(t)};function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var J=function(t){return new BasisOpen(t)};function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*o),this._beta*e[u]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Q=function custom(t){function bundle(e){return 1===t?new Basis(e):new Bundle(e,t)}return bundle.beta=function(t){return custom(+t)},bundle}(.85);function cardinal_point(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tt=function custom(t){function cardinal(e){return new Cardinal(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:$,areaEnd:$,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var et=function custom(t){function cardinal(e){return new CardinalClosed(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nt=function custom(t){function cardinal(e){return new CardinalOpen(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function catmullRom_point(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>p){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>p){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var it=function custom(t){function catmullRom(e){return t?new CatmullRom(e,t):new Cardinal(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:$,areaEnd:$,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rt=function custom(t){function catmullRom(e){return t?new CatmullRomClosed(e,t):new CardinalClosed(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var at=function custom(t){function catmullRom(e){return t?new CatmullRomOpen(e,t):new CardinalOpen(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:$,areaEnd:$,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var ot=function(t){return new LinearClosed(t)};function sign(t){return t<0?-1:1}function slope3(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(sign(a)+sign(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function monotone_point(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,n=slope3(this,t,e)),n);break;default:monotone_point(this,this._t0,n=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=controlPoints(t),r=controlPoints(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var st=function(t){return new Natural(t)};function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ut=function(t){return new Step(t,.5)};function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}var lt=function(t,e){if((r=t.length)>1)for(var n,i,r,a=1,o=t[e[0]],s=o.length;a<r;++a)for(i=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},ct=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function stackValue(t,e){return t[e]}var dt=function(){var t=s([]),e=ct,n=lt,i=stackValue;function stack(r){var a,o,s=t.apply(this,arguments),u=r.length,l=s.length,c=new Array(l);for(a=0;a<l;++a){for(var d,f=s[a],h=c[a]=new Array(u),g=0;g<u;++g)h[g]=d=[0,+i(r[g],f,g,r)],d.data=r[g];h.key=f}for(a=0,o=e(c);a<l;++a)c[o[a]].index=a;return n(c,o),c}return stack.keys=function(e){return arguments.length?(t="function"==typeof e?e:s(L.call(e)),stack):t},stack.value=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),stack):i},stack.order=function(t){return arguments.length?(e=null==t?ct:"function"==typeof t?t:s(L.call(t)),stack):e},stack.offset=function(t){return arguments.length?(n=null==t?lt:t,stack):n},stack},ft=function(t,e){if((i=t.length)>0){for(var n,i,r,a=0,o=t[0].length;a<o;++a){for(r=n=0;n<i;++n)r+=t[n][a][1]||0;if(r)for(n=0;n<i;++n)t[n][a][1]/=r}lt(t,e)}},ht=function(t,e){if((s=t.length)>1)for(var n,i,r,a,o,s,u=0,l=t[e[0]].length;u<l;++u)for(a=o=0,n=0;n<s;++n)(r=(i=t[e[n]][u])[1]-i[0])>=0?(i[0]=a,i[1]=a+=r):r<0?(i[1]=o,i[0]=o+=r):i[0]=a},gt=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],a=r.length;i<a;++i){for(var o=0,s=0;o<n;++o)s+=t[o][i][1]||0;r[i][1]+=r[i][0]=-s/2}lt(t,e)}},pt=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,a=0,o=1;o<i;++o){for(var s=0,u=0,l=0;s<r;++s){for(var c=t[e[s]],d=c[o][1]||0,f=(d-(c[o-1][1]||0))/2,h=0;h<s;++h){var g=t[e[h]];f+=(g[o][1]||0)-(g[o-1][1]||0)}u+=d,l+=f*d}n[o-1][1]+=n[o-1][0]=a,u&&(a-=l/u)}n[o-1][1]+=n[o-1][0]=a,lt(t,e)}},_t=function(t){var e=t.map(ascending_sum);return ct(t).sort(function(t,n){return e[t]-e[n]})};function ascending_sum(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var xt=function(t){return _t(t).reverse()},mt=function(t){var e,n,i=t.length,r=t.map(ascending_sum),a=ct(t).sort(function(t,e){return r[e]-r[t]}),o=0,s=0,u=[],l=[];for(e=0;e<i;++e)n=a[e],o<s?(o+=r[n],u.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(u)},vt=function(t){return ct(t).reverse()};n.d(e,"arc",function(){return v}),n.d(e,"area",function(){return w}),n.d(e,"line",function(){return b}),n.d(e,"pie",function(){return M}),n.d(e,"areaRadial",function(){return D}),n.d(e,"radialArea",function(){return D}),n.d(e,"lineRadial",function(){return S}),n.d(e,"radialLine",function(){return S}),n.d(e,"pointRadial",function(){return k}),n.d(e,"linkHorizontal",function(){return linkHorizontal}),n.d(e,"linkVertical",function(){return linkVertical}),n.d(e,"linkRadial",function(){return linkRadial}),n.d(e,"symbol",function(){return G}),n.d(e,"symbols",function(){return H}),n.d(e,"symbolCircle",function(){return R}),n.d(e,"symbolCross",function(){return O}),n.d(e,"symbolDiamond",function(){return E}),n.d(e,"symbolSquare",function(){return Y}),n.d(e,"symbolStar",function(){return P}),n.d(e,"symbolTriangle",function(){return q}),n.d(e,"symbolWye",function(){return W}),n.d(e,"curveBasisClosed",function(){return K}),n.d(e,"curveBasisOpen",function(){return J}),n.d(e,"curveBasis",function(){return Z}),n.d(e,"curveBundle",function(){return Q}),n.d(e,"curveCardinalClosed",function(){return et}),n.d(e,"curveCardinalOpen",function(){return nt}),n.d(e,"curveCardinal",function(){return tt}),n.d(e,"curveCatmullRomClosed",function(){return rt}),n.d(e,"curveCatmullRomOpen",function(){return at}),n.d(e,"curveCatmullRom",function(){return it}),n.d(e,"curveLinearClosed",function(){return ot}),n.d(e,"curveLinear",function(){return y}),n.d(e,"curveMonotoneX",function(){return monotoneX}),n.d(e,"curveMonotoneY",function(){return monotoneY}),n.d(e,"curveNatural",function(){return st}),n.d(e,"curveStep",function(){return ut}),n.d(e,"curveStepAfter",function(){return stepAfter}),n.d(e,"curveStepBefore",function(){return stepBefore}),n.d(e,"stack",function(){return dt}),n.d(e,"stackOffsetExpand",function(){return ft}),n.d(e,"stackOffsetDiverging",function(){return ht}),n.d(e,"stackOffsetNone",function(){return lt}),n.d(e,"stackOffsetSilhouette",function(){return gt}),n.d(e,"stackOffsetWiggle",function(){return pt}),n.d(e,"stackOrderAscending",function(){return _t}),n.d(e,"stackOrderDescending",function(){return xt}),n.d(e,"stackOrderInsideOut",function(){return mt}),n.d(e,"stackOrderNone",function(){return ct}),n.d(e,"stackOrderReverse",function(){return vt})},function(t,e,n){"use strict";var i="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t};var o=function(t){var e=a(t);return(e.local?function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function creatorInherit(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i&&e.documentElement.namespaceURI===i?e.createElement(t):e.createElementNS(n,t)}})(e)};function none(){}var s=function(t){return null==t?none:function(){return this.querySelector(t)}};function empty(){return[]}var u=function(t){return null==t?empty:function(){return this.querySelectorAll(t)}},l=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var c=document.documentElement;if(!c.matches){var d=c.webkitMatchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector;l=function(t){return function(){return d.call(this,t)}}}}var f=l,h=function(t){return new Array(t.length)};function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function bindIndex(t,e,n,i,r,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new EnterNode(t,a[s]);for(;s<u;++s)(o=e[s])&&(r[s]=o)}function bindKey(t,e,n,i,r,a,o){var s,u,l,c={},d=e.length,f=a.length,h=new Array(d);for(s=0;s<d;++s)(u=e[s])&&(h[s]=l=g+o.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=g+o.call(t,a[s],s,a)])?(i[s]=u,u.__data__=a[s],c[l]=null):n[s]=new EnterNode(t,a[s]);for(s=0;s<d;++s)(u=e[s])&&c[h[s]]===u&&(r[s]=u)}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var p=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function styleValue(t,e){return t.style.getPropertyValue(e)||p(t).getComputedStyle(t,null).getPropertyValue(e)}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var n=classList(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function classedRemove(t,e){for(var n=classList(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function textRemove(){this.textContent=""}function htmlRemove(){this.innerHTML=""}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var _={},x=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(_={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(t,e,n){return t=contextListener(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function contextListener(t,e,n){return function(i){var r=x;x=i;try{t.call(this,this.__data__,e,n)}finally{x=r}}}function onRemove(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function onAdd(t,e,n){var i=_.hasOwnProperty(t.type)?filterContextListener:contextListener;return function(r,a,o){var s,u=this.__on,l=i(e,a,o);if(u)for(var c=0,d=u.length;c<d;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function customEvent(t,e,n,i){var r=x;t.sourceEvent=x,x=t;try{return e.apply(n,i)}finally{x=r}}function dispatchEvent(t,e,n){var i=p(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var m=[null];function Selection(t,e){this._groups=t,this._parents=e}function selection_selection(){return new Selection([[document.documentElement]],m)}Selection.prototype=selection_selection.prototype={constructor:Selection,select:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,u=e[r],l=u.length,c=i[r]=new Array(l),d=0;d<l;++d)(a=u[d])&&(o=t.call(a,a.__data__,d,u))&&("__data__"in a&&(o.__data__=a.__data__),c[d]=o);return new Selection(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(i.push(t.call(o,o.__data__,c,s)),r.push(o));return new Selection(i,r)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,u=i[r]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new Selection(i,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),l=-1,this.each(function(t){h[++l]=t}),h;var n=e?bindKey:bindIndex,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=i[l],d=r[l],f=d.length,h=t.call(c,c&&c.__data__,l,i),g=h.length,p=s[l]=new Array(g),_=o[l]=new Array(g);n(c,d,p,_,u[l]=new Array(f),h,e);for(var x,m,v=0,y=0;v<g;++v)if(x=p[v]){for(v>=y&&(y=v+1);!(m=_[y])&&++y<g;);x._next=m||null}}return(o=new Selection(o,i))._enter=s,o._exit=u,o},enter:function(){return new Selection(this._enter||this._groups.map(h),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(h),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var u,l=e[s],c=n[s],d=l.length,f=o[s]=new Array(d),h=0;h<d;++h)(u=l[h]||c[h])&&(f[h]=u);for(;s<i;++s)o[s]=e[s];return new Selection(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function compareNode(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ascending);for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r){for(var a,o=e[r],s=o.length,u=i[r]=new Array(s),l=0;l<s;++l)(a=o[l])&&(u[l]=a);u.sort(compareNode)}return new Selection(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function attrRemove(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function attrFunctionNS(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function attrFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function attrConstantNS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function attrConstant(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function styleRemove(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function styleFunction(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function styleConstant(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):styleValue(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function propertyRemove(t){return function(){delete this[t]}}:"function"==typeof e?function propertyFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function propertyConstant(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=classArray(t+"");if(arguments.length<2){for(var i=classList(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}:e?function classedTrue(t){return function(){classedAdd(this,t)}}:function classedFalse(t){return function(){classedRemove(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?function textFunction(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function textConstant(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function htmlConstant(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:o(t),i=null==e?constantNull:"function"==typeof e?e:s(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(remove)},clone:function(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?onAdd:onRemove,null==n&&(n=!1),i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(i=0,u=s[l];i<o;++i)if((r=a[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}:function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}})(t,e))}};var v=selection_selection,y=function(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],m)},b=function(t){return y(o(t).call(document.documentElement))},w=0;function local(){return new Local}function Local(){this._="@"+(++w).toString(36)}Local.prototype=local.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var T=function(){for(var t,e=x;t=e.sourceEvent;)e=t;return e},A=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},M=function(t){var e=T();return e.changedTouches&&(e=e.changedTouches[0]),A(t,e)},C=function(t){return"string"==typeof t?new Selection([document.querySelectorAll(t)],[document.documentElement]):new Selection([null==t?[]:t],m)},S=function(t,e,n){arguments.length<3&&(n=e,e=T().changedTouches);for(var i,r=0,a=e?e.length:0;r<a;++r)if((i=e[r]).identifier===n)return A(t,i);return null},D=function(t,e){null==e&&(e=T().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=A(t,e[n]);return r};n.d(e,"create",function(){return b}),n.d(e,"creator",function(){return o}),n.d(e,"local",function(){return local}),n.d(e,"matcher",function(){return f}),n.d(e,"mouse",function(){return M}),n.d(e,"namespace",function(){return a}),n.d(e,"namespaces",function(){return r}),n.d(e,"clientPoint",function(){return A}),n.d(e,"select",function(){return y}),n.d(e,"selectAll",function(){return C}),n.d(e,"selection",function(){return v}),n.d(e,"selector",function(){return s}),n.d(e,"selectorAll",function(){return u}),n.d(e,"style",function(){return styleValue}),n.d(e,"touch",function(){return S}),n.d(e,"touches",function(){return D}),n.d(e,"window",function(){return p}),n.d(e,"event",function(){return x}),n.d(e,"customEvent",function(){return customEvent})},function(t,e,n){"use strict";var i=n(66),r=n(71),a=Array.prototype,o=a.map,s=a.slice,u={name:"implicit"};function ordinal(t){var e=Object(r.map)(),n=[],i=u;function scale(r){var a=r+"",o=e.get(a);if(!o){if(i!==u)return i;e.set(a,o=n.push(r))}return t[(o-1)%t.length]}return t=null==t?[]:s.call(t),scale.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Object(r.map)();for(var i,a,o=-1,s=t.length;++o<s;)e.has(a=(i=t[o])+"")||e.set(a,n.push(i));return scale},scale.range=function(e){return arguments.length?(t=s.call(e),scale):t.slice()},scale.unknown=function(t){return arguments.length?(i=t,scale):i},scale.copy=function(){return ordinal().domain(n).range(t).unknown(i)},scale}function band(){var t,e,n=ordinal().unknown(undefined),r=n.domain,a=n.range,o=[0,1],s=!1,u=0,l=0,c=.5;function rescale(){var n=r().length,d=o[1]<o[0],f=o[d-0],h=o[1-d];t=(h-f)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),f+=(h-f-t*(n-u))*c,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var g=Object(i.range)(n).map(function(e){return f+t*e});return a(d?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),rescale()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],rescale()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],s=!0,rescale()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,rescale()):s},n.padding=function(t){return arguments.length?(u=l=Math.max(0,Math.min(1,t)),rescale()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),rescale()):u},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),rescale()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),rescale()):c},n.copy=function(){return band().domain(r()).range(o).round(s).paddingInner(u).paddingOuter(l).align(c)},rescale()}function point(){return function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}(band().paddingInner(1))}var l=n(68),c=function(t){return function(){return t}},d=function(t){return+t},f=[0,1];function deinterpolateLinear(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:c(e)}function bimap(t,e,n,i){var r=t[0],a=t[1],o=e[0],s=e[1];return a<r?(r=n(a,r),o=i(s,o)):(r=n(r,a),o=i(o,s)),function(t){return o(r(t))}}function polymap(t,e,n,r){var a=Math.min(t.length,e.length)-1,o=new Array(a),s=new Array(a),u=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<a;)o[u]=n(t[u],t[u+1]),s[u]=r(e[u],e[u+1]);return function(e){var n=Object(i.bisect)(t,e,1,a)-1;return s[n](o[n](e))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function continuous(t,e){var n,i,r,a=f,u=f,c=l.interpolate,h=!1;function rescale(){return n=Math.min(a.length,u.length)>2?polymap:bimap,i=r=null,scale}function scale(e){return(i||(i=n(a,u,h?function deinterpolateClamp(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,c)))(+e)}return scale.invert=function(t){return(r||(r=n(u,a,deinterpolateLinear,h?function reinterpolateClamp(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},scale.domain=function(t){return arguments.length?(a=o.call(t,d),rescale()):a.slice()},scale.range=function(t){return arguments.length?(u=s.call(t),rescale()):u.slice()},scale.rangeRound=function(t){return u=s.call(t),c=l.interpolateRound,rescale()},scale.clamp=function(t){return arguments.length?(h=!!t,rescale()):h},scale.interpolate=function(t){return arguments.length?(c=t,rescale()):c},rescale()}var h=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},g=function(t){return(t=h(Math.abs(t)))?t[1]:NaN},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){return new FormatSpecifier(t)}function FormatSpecifier(t){if(!(e=p.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _,x,m,v,y=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},b=function(t,e){var n=h(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},w={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return b(100*t,e)},r:b,s:function(t,e){var n=h(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(_=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+h(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},T=function(t){return t},A=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],M=function(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,i){for(var r=n.length,a=[],o=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}(t.grouping,t.thousands):T,n=t.currency,i=t.decimal,r=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):T,a=t.percent||"%";function newFormat(t){var o=(t=formatSpecifier(t)).fill,s=t.align,u=t.sign,l=t.symbol,c=t.zero,d=t.width,f=t.comma,h=t.precision,g=t.trim,p=t.type;"n"===p?(f=!0,p="g"):w[p]||(null==h&&(h=12),g=!0,p="g"),(c||"0"===o&&"="===s)&&(c=!0,o="0",s="=");var x="$"===l?n[0]:"#"===l&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",m="$"===l?n[1]:/[%p]/.test(p)?a:"",v=w[p],b=/[defgprs%]/.test(p);function format(t){var n,a,l,w=x,T=m;if("c"===p)T=v(t)+T,t="";else{var M=(t=+t)<0;if(t=v(Math.abs(t),h),g&&(t=y(t)),M&&0==+t&&(M=!1),w=(M?"("===u?u:"-":"-"===u||"("===u?"":u)+w,T=("s"===p?A[8+_/3]:"")+T+(M&&"("===u?")":""),b)for(n=-1,a=t.length;++n<a;)if(48>(l=t.charCodeAt(n))||l>57){T=(46===l?i+t.slice(n+1):t.slice(n))+T,t=t.slice(0,n);break}}f&&!c&&(t=e(t,Infinity));var C=w.length+t.length+T.length,S=C<d?new Array(d-C+1).join(o):"";switch(f&&c&&(t=e(S+t,S.length?d-T.length:Infinity),S=""),s){case"<":t=w+t+T+S;break;case"=":t=w+S+t+T;break;case"^":t=S.slice(0,C=S.length>>1)+w+t+T+S.slice(C);break;default:t=S+w+t+T}return r(t)}return h=null==h?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),format.toString=function(){return t+""},format}return{format:newFormat,formatPrefix:function formatPrefix(t,e){var n=newFormat(((t=formatSpecifier(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(g(e)/3))),r=Math.pow(10,-i),a=A[8+i/3];return function(t){return n(r*t)+a}}}};!function defaultLocale(t){return x=M(t),m=x.format,v=x.formatPrefix,x}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var C=function(t,e,n){var r,a=t[0],o=t[t.length-1],s=Object(i.tickStep)(a,o,null==e?10:e);switch((n=formatSpecifier(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(a),Math.abs(o));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(g(e)/3)))-g(Math.abs(t)))}(s,u))||(n.precision=r),v(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,g(e)-g(t))+1}(s,Math.max(Math.abs(a),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-g(Math.abs(t)))}(s))||(n.precision=r-2*("%"===n.type))}return m(n)};function linearish(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(i.ticks)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return C(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),o=0,s=a.length-1,u=a[o],l=a[s];return l<u&&(r=u,u=l,l=r,r=o,o=s,s=r),(r=Object(i.tickIncrement)(u,l,n))>0?(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,r=Object(i.tickIncrement)(u,l,n)):r<0&&(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,r=Object(i.tickIncrement)(u,l,n)),r>0?(a[o]=Math.floor(u/r)*r,a[s]=Math.ceil(l/r)*r,e(a)):r<0&&(a[o]=Math.ceil(u*r)/r,a[s]=Math.floor(l*r)/r,e(a)),t},t}function linear(){var t=continuous(deinterpolateLinear,l.interpolateNumber);return t.copy=function(){return copy(t,linear())},linearish(t)}function identity_identity(){var t=[0,1];function scale(t){return+t}return scale.invert=scale,scale.domain=scale.range=function(e){return arguments.length?(t=o.call(e,d),scale):t.slice()},scale.copy=function(){return identity_identity().domain(t)},linearish(scale)}var S=function(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t};function log_deinterpolate(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:c(e)}function log_reinterpolate(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function reflect(t){return function(e){return-t(-e)}}function log(){var t=continuous(log_deinterpolate,log_reinterpolate).domain([1,10]),e=t.domain,n=10,r=logp(10),a=powp(10);function rescale(){return r=logp(n),a=powp(n),e()[0]<0&&(r=reflect(r),a=reflect(a)),t}return t.base=function(t){return arguments.length?(n=+t,rescale()):n},t.domain=function(t){return arguments.length?(e(t),rescale()):e()},t.ticks=function(t){var o,s=e(),u=s[0],l=s[s.length-1];(o=l<u)&&(h=u,u=l,l=h);var c,d,f,h=r(u),g=r(l),p=null==t?10:+t,_=[];if(!(n%1)&&g-h<p){if(h=Math.round(h)-1,g=Math.round(g)+1,u>0){for(;h<g;++h)for(d=1,c=a(h);d<n;++d)if(!((f=c*d)<u)){if(f>l)break;_.push(f)}}else for(;h<g;++h)for(d=n-1,c=a(h);d>=1;--d)if(!((f=c*d)<u)){if(f>l)break;_.push(f)}}else _=Object(i.ticks)(h,g,Math.min(g-h,p)).map(a);return o?_.reverse():_},t.tickFormat=function(e,i){if(null==i&&(i=10===n?".0e":","),"function"!=typeof i&&(i=m(i)),e===Infinity)return i;null==e&&(e=10);var o=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/a(Math.round(r(t)));return e*n<n-.5&&(e*=n),e<=o?i(t):""}},t.nice=function(){return e(S(e(),{floor:function(t){return a(Math.floor(r(t)))},ceil:function(t){return a(Math.ceil(r(t)))}}))},t.copy=function(){return copy(t,log().base(n))},t}function raise(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function pow(){var t=1,e=continuous(function deinterpolate(e,n){return(n=raise(n,t)-(e=raise(e,t)))?function(i){return(raise(i,t)-e)/n}:c(n)},function reinterpolate(e,n){return n=raise(n,t)-(e=raise(e,t)),function(i){return raise(e+n*i,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return copy(e,pow().exponent(t))},linearish(e)}function sqrt(){return pow().exponent(.5)}function quantile(){var t=[],e=[],n=[];function rescale(){var r=0,a=Math.max(1,e.length);for(n=new Array(a-1);++r<a;)n[r-1]=Object(i.quantile)(t,r/a);return scale}function scale(t){if(!isNaN(t=+t))return e[Object(i.bisect)(n,t)]}return scale.invertExtent=function(i){var r=e.indexOf(i);return r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},scale.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,a=e.length;r<a;++r)null==(n=e[r])||isNaN(n=+n)||t.push(n);return t.sort(i.ascending),rescale()},scale.range=function(t){return arguments.length?(e=s.call(t),rescale()):e.slice()},scale.quantiles=function(){return n.slice()},scale.copy=function(){return quantile().domain(t).range(e)},scale}function quantize(){var t=0,e=1,n=1,r=[.5],a=[0,1];function scale(t){if(t<=t)return a[Object(i.bisect)(r,t,0,n)]}function rescale(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*e-(i-n)*t)/(n+1);return scale}return scale.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],rescale()):[t,e]},scale.range=function(t){return arguments.length?(n=(a=s.call(t)).length-1,rescale()):a.slice()},scale.invertExtent=function(i){var o=a.indexOf(i);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=n?[r[n-1],e]:[r[o-1],r[o]]},scale.copy=function(){return quantize().domain([t,e]).range(a)},linearish(scale)}function threshold(){var t=[.5],e=[0,1],n=1;function scale(r){if(r<=r)return e[Object(i.bisect)(t,r,0,n)]}return scale.domain=function(i){return arguments.length?(t=s.call(i),n=Math.min(t.length,e.length-1),scale):t.slice()},scale.range=function(i){return arguments.length?(e=s.call(i),n=Math.min(t.length,e.length-1),scale):e.slice()},scale.invertExtent=function(n){var i=e.indexOf(n);return[t[i-1],t[i]]},scale.copy=function(){return threshold().domain(t).range(e)},scale}var D=n(69),k=n(76),L=1e3,R=60*L,O=60*R,F=24*O,I=7*F,E=30*F,X=365*F;function date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,r,a,s,u,c,d){var f=continuous(deinterpolateLinear,l.interpolateNumber),h=f.invert,g=f.domain,p=d(".%L"),_=d(":%S"),x=d("%I:%M"),m=d("%I %p"),v=d("%a %d"),y=d("%b %d"),b=d("%B"),w=d("%Y"),T=[[u,1,L],[u,5,5*L],[u,15,15*L],[u,30,30*L],[s,1,R],[s,5,5*R],[s,15,15*R],[s,30,30*R],[a,1,O],[a,3,3*O],[a,6,6*O],[a,12,12*O],[r,1,F],[r,2,2*F],[n,1,I],[e,1,E],[e,3,3*E],[t,1,X]];function tickFormat(i){return(u(i)<i?p:s(i)<i?_:a(i)<i?x:r(i)<i?m:e(i)<i?n(i)<i?v:y:t(i)<i?b:w)(i)}function tickInterval(e,n,r,a){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,s=Object(i.bisector)(function(t){return t[2]}).right(T,o);s===T.length?(a=Object(i.tickStep)(n/X,r/X,e),e=t):s?(a=(s=T[o/T[s-1][2]<T[s][2]/o?s-1:s])[1],e=s[0]):(a=Math.max(Object(i.tickStep)(n,r,e),1),e=c)}return null==a?e:e.every(a)}return f.invert=function(t){return new Date(h(t))},f.domain=function(t){return arguments.length?g(o.call(t,time_number)):g().map(date)},f.ticks=function(t,e){var n,i=g(),r=i[0],a=i[i.length-1],o=a<r;return o&&(n=r,r=a,a=n),n=(n=tickInterval(t,r,a,e))?n.range(r,a+1):[],o?n.reverse():n},f.tickFormat=function(t,e){return null==e?tickFormat:d(e)},f.nice=function(t,e){var n=g();return(t=tickInterval(t,n[0],n[n.length-1],e))?g(S(n,t)):f},f.copy=function(){return copy(f,calendar(t,e,n,r,a,s,u,c,d))},f}var z=function(){return calendar(D.timeYear,D.timeMonth,D.timeWeek,D.timeDay,D.timeHour,D.timeMinute,D.timeSecond,D.timeMillisecond,k.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},N=function(){return calendar(D.utcYear,D.utcMonth,D.utcWeek,D.utcDay,D.utcHour,D.utcMinute,D.utcSecond,D.utcMillisecond,k.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function sequential(t){var e=0,n=1,i=1,r=!1;function scale(n){var a=(n-e)*i;return t(r?Math.max(0,Math.min(1,a)):a)}return scale.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i=e===n?0:1/(n-e),scale):[e,n]},scale.clamp=function(t){return arguments.length?(r=!!t,scale):r},scale.interpolator=function(e){return arguments.length?(t=e,scale):t},scale.copy=function(){return sequential(t).domain([e,n]).clamp(r)},linearish(scale)}function diverging(t){var e=0,n=.5,i=1,r=1,a=1,o=!1;function scale(e){var i=.5+((e=+e)-n)*(e<n?r:a);return t(o?Math.max(0,Math.min(1,i)):i)}return scale.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i=+t[2],r=e===n?0:.5/(n-e),a=n===i?0:.5/(i-n),scale):[e,n,i]},scale.clamp=function(t){return arguments.length?(o=!!t,scale):o},scale.interpolator=function(e){return arguments.length?(t=e,scale):t},scale.copy=function(){return diverging(t).domain([e,n,i]).clamp(o)},linearish(scale)}n.d(e,"scaleBand",function(){return band}),n.d(e,"scalePoint",function(){return point}),n.d(e,"scaleIdentity",function(){return identity_identity}),n.d(e,"scaleLinear",function(){return linear}),n.d(e,"scaleLog",function(){return log}),n.d(e,"scaleOrdinal",function(){return ordinal}),n.d(e,"scaleImplicit",function(){return u}),n.d(e,"scalePow",function(){return pow}),n.d(e,"scaleSqrt",function(){return sqrt}),n.d(e,"scaleQuantile",function(){return quantile}),n.d(e,"scaleQuantize",function(){return quantize}),n.d(e,"scaleThreshold",function(){return threshold}),n.d(e,"scaleTime",function(){return z}),n.d(e,"scaleUtc",function(){return N}),n.d(e,"scaleSequential",function(){return sequential}),n.d(e,"scaleDiverging",function(){return diverging})},function(t,e,n){"use strict";var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},r=function(t){return 1===t.length&&(t=function ascendingComparator(t){return function(e,n){return i(t(e),n)}}(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}};var a=r(i),o=a.right,s=a.left,u=o,l=function(t,e){null==e&&(e=pair);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return a};function pair(t,e){return[t,e]}var c=function(t,e,n){var i,r,a,o,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=pair),i=a=0;i<s;++i)for(o=t[i],r=0;r<u;++r,++a)l[a]=n(o,e[r]);return l},d=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},f=function(t){return null===t?NaN:+t},h=function(t,e){var n,i,r=t.length,a=0,o=-1,s=0,u=0;if(null==e)for(;++o<r;)isNaN(n=f(t[o]))||(u+=(i=n-s)*(n-(s+=i/++a)));else for(;++o<r;)isNaN(n=f(e(t[o],o,t)))||(u+=(i=n-s)*(n-(s+=i/++a)));if(a>1)return u/(a-1)},g=function(t,e){var n=h(t,e);return n?Math.sqrt(n):n},p=function(t,e){var n,i,r,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(i=r=n;++o<a;)null!=(n=t[o])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=r=n;++o<a;)null!=(n=e(t[o],o,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},_=Array.prototype,x=_.slice,m=_.map,v=function(t){return function(){return t}},y=function(t){return t},b=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a},w=Math.sqrt(50),T=Math.sqrt(10),A=Math.sqrt(2),M=function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=tickIncrement(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function tickIncrement(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=w?10:a>=T?5:a>=A?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=w?10:a>=T?5:a>=A?2:1)}function tickStep(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=w?r*=10:a>=T?r*=5:a>=A&&(r*=2),e<t?-r:r}var C=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},S=function(){var t=y,e=p,n=C;function histogram(i){var r,a,o=i.length,s=new Array(o);for(r=0;r<o;++r)s[r]=t(i[r],r,i);var l=e(s),c=l[0],d=l[1],f=n(s,c,d);Array.isArray(f)||(f=tickStep(c,d,f),f=b(Math.ceil(c/f)*f,Math.floor(d/f)*f,f));for(var h=f.length;f[0]<=c;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var g,p=new Array(h+1);for(r=0;r<=h;++r)(g=p[r]=[]).x0=r>0?f[r-1]:c,g.x1=r<h?f[r]:d;for(r=0;r<o;++r)c<=(a=s[r])&&a<=d&&p[u(f,a,0,h)].push(i[r]);return p}return histogram.value=function(e){return arguments.length?(t="function"==typeof e?e:v(e),histogram):t},histogram.domain=function(t){return arguments.length?(e="function"==typeof t?t:v([t[0],t[1]]),histogram):e},histogram.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?v(x.call(t)):v(t),histogram):n},histogram},D=function(t,e,n){if(null==n&&(n=f),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(r-a)}},k=function(t,e,n){return t=m.call(t,f).sort(i),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))},L=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&n>i&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&n>i&&(i=n);return i},O=function(t,e){var n,i=t.length,r=i,a=-1,o=0;if(null==e)for(;++a<i;)isNaN(n=f(t[a]))?--r:o+=n;else for(;++a<i;)isNaN(n=f(e(t[a],a,t)))?--r:o+=n;if(r)return o/r},F=function(t,e){var n,r=t.length,a=-1,o=[];if(null==e)for(;++a<r;)isNaN(n=f(t[a]))||o.push(n);else for(;++a<r;)isNaN(n=f(e(t[a],a,t)))||o.push(n);return D(o.sort(i),.5)},I=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--o]=i[e];return n},E=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&i>n&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&i>n&&(i=n);return i},X=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},z=function(t,e){if(n=t.length){var n,r,a=0,o=0,s=t[o];for(null==e&&(e=i);++a<n;)(e(r=t[a],s)<0||0!==e(s,s))&&(s=r,o=a);return 0===e(s,s)?o:void 0}},N=function(t,e,n){for(var i,r,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},P=function(t,e){var n,i=t.length,r=-1,a=0;if(null==e)for(;++r<i;)(n=+t[r])&&(a+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(a+=n);return a},Y=function(t){if(!(r=t.length))return[];for(var e=-1,n=E(t,transpose_length),i=new Array(n);++e<n;)for(var r,a=-1,o=i[e]=new Array(r);++a<r;)o[a]=t[a][e];return i};function transpose_length(t){return t.length}var B=function(){return Y(arguments)};n.d(e,"bisect",function(){return u}),n.d(e,"bisectRight",function(){return o}),n.d(e,"bisectLeft",function(){return s}),n.d(e,"ascending",function(){return i}),n.d(e,"bisector",function(){return r}),n.d(e,"cross",function(){return c}),n.d(e,"descending",function(){return d}),n.d(e,"deviation",function(){return g}),n.d(e,"extent",function(){return p}),n.d(e,"histogram",function(){return S}),n.d(e,"thresholdFreedmanDiaconis",function(){return k}),n.d(e,"thresholdScott",function(){return L}),n.d(e,"thresholdSturges",function(){return C}),n.d(e,"max",function(){return R}),n.d(e,"mean",function(){return O}),n.d(e,"median",function(){return F}),n.d(e,"merge",function(){return I}),n.d(e,"min",function(){return E}),n.d(e,"pairs",function(){return l}),n.d(e,"permute",function(){return X}),n.d(e,"quantile",function(){return D}),n.d(e,"range",function(){return b}),n.d(e,"scan",function(){return z}),n.d(e,"shuffle",function(){return N}),n.d(e,"sum",function(){return P}),n.d(e,"ticks",function(){return M}),n.d(e,"tickIncrement",function(){return tickIncrement}),n.d(e,"tickStep",function(){return tickStep}),n.d(e,"transpose",function(){return Y}),n.d(e,"variance",function(){return h}),n.d(e,"zip",function(){return B})},function(t,e,n){"use strict";var i,r,a=n(64),o=n(78),s=0,u=0,l=0,c=1e3,d=0,f=0,h=0,g="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return f||(p(clearNow),f=g.now()+h)}function clearNow(){f=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,n){var i=new Timer;return i.restart(t,e,n),i}function wake(){f=(d=g.now())+h,s=u=0;try{!function timerFlush(){now(),++s;for(var t,e=i;e;)(t=f-e._time)>=0&&e._call.call(null,t),e=e._next;--s}()}finally{s=0,function nap(){var t,e,n=i,a=Infinity;for(;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,sleep(a)}(),f=0}}function poke(){var t=g.now(),e=t-d;e>c&&(h-=e,d=t)}function sleep(t){s||(u&&(u=clearTimeout(u)),t-f>24?(t<Infinity&&(u=setTimeout(wake,t-g.now()-h)),l&&(l=clearInterval(l))):(l||(d=g.now(),l=setInterval(poke,c)),s=1,p(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=Infinity,sleep())}};var _=function(t,e,n){var i=new Timer;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},x=Object(o.dispatch)("start","end","interrupt"),m=[],v=0,y=1,b=2,w=3,T=4,A=5,M=6,C=function(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function create(t,e,n){var i,r=t.__transition;function start(a){var o,s,u,l;if(n.state!==y)return stop();for(o in r)if((l=r[o]).name===n.name){if(l.state===w)return _(start);l.state===T?(l.state=M,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete r[o]):+o<e&&(l.state=M,l.timer.stop(),delete r[o])}if(_(function(){n.state===w&&(n.state=T,n.timer.restart(tick,n.delay,n.time),tick(a))}),n.state=b,n.on.call("start",t,t.__data__,n.index,n.group),n.state===b){for(n.state=w,i=new Array(u=n.tween.length),o=0,s=-1;o<u;++o)(l=n.tween[o].value.call(t,t.__data__,n.index,n.group))&&(i[++s]=l);i.length=s+1}}function tick(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(stop),n.state=A,1),a=-1,o=i.length;++a<o;)i[a].call(null,r);n.state===A&&(n.on.call("end",t,t.__data__,n.index,n.group),stop())}function stop(){for(var i in n.state=M,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=timer(function schedule(t){n.state=y,n.timer.restart(start,n.delay,n.time),n.delay<=t&&start(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:x,tween:m,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:v})};function init(t,e){var n=get(t,e);if(n.state>v)throw new Error("too late; already scheduled");return n}function set(t,e){var n=get(t,e);if(n.state>b)throw new Error("too late; already started");return n}function get(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var S=function(t,e){var n,i,r,a=t.__transition,o=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>b&&n.state<A,n.state=M,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete t.__transition}},D=n(68);function tweenValue(t,e,n){var i=t._id;return t.each(function(){var t=set(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return get(t,i).value[e]}}var k=n(73),L=function(t,e){var n;return("number"==typeof e?D.interpolateNumber:e instanceof k.color?D.interpolateRgb:(n=Object(k.color)(e))?(e=n,D.interpolateRgb):D.interpolateString)(t,e)};var R=a.selection.prototype.constructor;var O=0;function Transition(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function src_transition_transition(t){return Object(a.selection)().transition(t)}function newId(){return++O}var F=a.selection.prototype;Transition.prototype=src_transition_transition.prototype={constructor:Transition,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(a.selector)(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u,l,c=i[s],d=c.length,f=o[s]=new Array(d),h=0;h<d;++h)(u=c[h])&&(l=t.call(u,u.__data__,h,c))&&("__data__"in u&&(l.__data__=u.__data__),f[h]=l,C(f[h],e,n,h,f,get(u,n)));return new Transition(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(a.selectorAll)(t));for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l,c=i[u],d=c.length,f=0;f<d;++f)if(l=c[f]){for(var h,g=t.call(l,l.__data__,f,c),p=get(l,n),_=0,x=g.length;_<x;++_)(h=g[_])&&C(h,e,n,_,g,p);o.push(g),s.push(l)}return new Transition(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(a.matcher)(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],u=s.length,l=i[r]=[],c=0;c<u;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Transition(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var u,l=e[s],c=n[s],d=l.length,f=o[s]=new Array(d),h=0;h<d;++h)(u=l[h]||c[h])&&(f[h]=u);for(;s<i;++s)o[s]=e[s];return new Transition(o,this._parents,this._name,this._id)},selection:function(){return new R(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=newId(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=get(o,e);C(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Transition(i,this._parents,t,n)},call:F.call,nodes:F.nodes,node:F.node,size:F.size,empty:F.empty,each:F.each,on:function(t,e){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(t):this.each(function onFunction(t,e,n){var i,r,a=function on_start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?init:set;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}(n,t,e))},attr:function(t,e){var n=Object(a.namespace)(t),i="transform"===n?D.interpolateTransformSvg:L;return this.attrTween(t,"function"==typeof e?(n.local?function attrFunctionNS(t,e,n){var i,r,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===i&&s===r?a:a=e(i=o,r=s);this.removeAttributeNS(t.space,t.local)}}:function attrFunction(t,e,n){var i,r,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===i&&s===r?a:a=e(i=o,r=s);this.removeAttribute(t)}})(n,i,tweenValue(this,"attr."+t,e)):null==e?(n.local?function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function attrRemove(t){return function(){this.removeAttribute(t)}})(n):(n.local?function attrConstantNS(t,e,n){var i,r;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===i?r:r=e(i=a,n)}}:function attrConstant(t,e,n){var i,r;return function(){var a=this.getAttribute(t);return a===n?null:a===i?r:r=e(i=a,n)}})(n,i,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(a.namespace)(t);return this.tween(n,(i.local?function attrTweenNS(t,e){function tween(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return tween._value=e,tween}:function attrTween(t,e){function tween(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return tween._value=e,tween})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?D.interpolateTransformCss:L;return null==e?this.styleTween(t,function styleRemove(t,e){var n,i,r;return function(){var o=Object(a.style)(this,t),s=(this.style.removeProperty(t),Object(a.style)(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,function styleRemoveEnd(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function styleFunction(t,e,n){var i,r,o;return function(){var s=Object(a.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(a.style)(this,t)),s===u?null:s===i&&u===r?o:o=e(i=s,r=u)}}(t,i,tweenValue(this,"style."+t,e)):function styleConstant(t,e,n){var i,r;return function(){var o=Object(a.style)(this,t);return o===n?null:o===i?r:r=e(i=o,n)}}(t,i,e+""),n)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function styleTween(t,e,n){function tween(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return tween._value=e,tween}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tweenValue(this,"text",t)):function textConstant(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function removeFunction(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=get(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?function tweenRemove(t,e){var n,i;return function(){var r=set(this,t),a=r.tween;if(a!==n)for(var o=0,s=(i=n=a).length;o<s;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}:function tweenFunction(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=set(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},u=0,l=r.length;u<l;++u)if(r[u].name===e){r[u]=s;break}u===l&&r.push(s)}a.tween=r}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}:function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}})(e,t)):get(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}:function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}})(e,t)):get(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}(e,t)):get(this.node(),e).ease}};var I={time:null,delay:0,duration:250,ease:n(70).easeCubicInOut};function transition_inherit(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return I.time=now(),I;return n}a.selection.prototype.interrupt=function(t){return this.each(function(){S(this,t)})},a.selection.prototype.transition=function(t){var e,n;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(n=I).time=now(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],u=s.length,l=0;l<u;++l)(o=s[l])&&C(o,t,e,l,s,n||transition_inherit(o,e));return new Transition(i,this._parents,t,e)};var E=[null],X=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>y&&n.name===e)return new Transition([[t]],E,e,+i);return null};n.d(e,"transition",function(){return src_transition_transition}),n.d(e,"active",function(){return X}),n.d(e,"interrupt",function(){return S})},function(t,e,n){"use strict";var i=n(73);function basis(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}var r=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<e-1?t[i+2]:2*a-r;return basis((n-i/e)*e,o,r,a,s)}},a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],o=t[(i+1)%e],s=t[(i+2)%e];return basis((n-i/e)*e,r,a,o,s)}},o=function(t){return function(){return t}};function linear(t,e){return function(n){return t+n*e}}function color_hue(t,e){var n=e-t;return n?linear(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function gamma(t){return 1==(t=+t)?nogamma:function(e,n){return n-e?function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):o(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear(t,n):o(isNaN(t)?e:t)}var s=function rgbGamma(t){var e=gamma(t);function rgb(t,n){var r=e((t=Object(i.rgb)(t)).r,(n=Object(i.rgb)(n)).r),a=e(t.g,n.g),o=e(t.b,n.b),s=nogamma(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=o(e),t.opacity=s(e),t+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(t){return function(e){var n,r,a=e.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=Object(i.rgb)(e[n]),o[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return o=t(o),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=u(t),r+""}}}var u=rgbSpline(r),l=rgbSpline(a),c=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=b(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}},d=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},f=function(t,e){return e-=t=+t,function(n){return t+e*n}},h=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=b(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p=new RegExp(g.source,"g");var _,x,m,v,y=function(t,e){var n,i,r,a=g.lastIndex=p.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=g.exec(t))&&(i=p.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:f(n,i)})),a=p.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?function one(t){return function(e){return t(e)+""}}(u[0].x):function zero(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},b=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?o(e):("number"===r?f:"string"===r?(n=Object(i.color)(e))?(e=n,s):y:e instanceof i.color?s:e instanceof Date?d:Array.isArray(e)?c:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?h:f)(t,e)},w=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},T=180/Math.PI,A={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},M=function(t,e,n,i,r,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*T,skewX:Math.atan(u)*T,scaleX:o,scaleY:s}};function interpolateTransform(t,e,n,i){function pop(t){return t.length?t.pop()+" ":""}return function(r,a){var o=[],s=[];return r=t(r),a=t(a),function translate(t,i,r,a,o,s){if(t!==r||i!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:f(t,r)},{i:u-2,x:f(i,a)})}else(r||a)&&o.push("translate("+r+e+a+n)}(r.translateX,r.translateY,a.translateX,a.translateY,o,s),function rotate(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(pop(n)+"rotate(",null,i)-2,x:f(t,e)})):e&&n.push(pop(n)+"rotate("+e+i)}(r.rotate,a.rotate,o,s),function skewX(t,e,n,r){t!==e?r.push({i:n.push(pop(n)+"skewX(",null,i)-2,x:f(t,e)}):e&&n.push(pop(n)+"skewX("+e+i)}(r.skewX,a.skewX,o,s),function scale(t,e,n,i,r,a){if(t!==n||e!==i){var o=r.push(pop(r)+"scale(",null,",",null,")");a.push({i:o-4,x:f(t,n)},{i:o-2,x:f(e,i)})}else 1===n&&1===i||r.push(pop(r)+"scale("+n+","+i+")")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,o,s),r=a=null,function(t){for(var e,n=-1,i=s.length;++n<i;)o[(e=s[n]).i]=e.x(t);return o.join("")}}}var C=interpolateTransform(function parseCss(t){return"none"===t?A:(_||(_=document.createElement("DIV"),x=document.documentElement,m=document.defaultView),_.style.transform=t,t=m.getComputedStyle(x.appendChild(_),null).getPropertyValue("transform"),x.removeChild(_),t=t.slice(7,-1).split(","),M(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),S=interpolateTransform(function parseSvg(t){return null==t?A:(v||(v=document.createElementNS("http://www.w3.org/2000/svg","g")),v.setAttribute("transform",t),(t=v.transform.baseVal.consolidate())?(t=t.matrix,M(t.a,t.b,t.c,t.d,t.e,t.f)):A)},", ",")",")"),D=Math.SQRT2;function cosh(t){return((t=Math.exp(t))+1/t)/2}var k=function(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],u=e[1],l=e[2],c=s-r,d=u-a,f=c*c+d*d;if(f<1e-12)i=Math.log(l/o)/D,n=function(t){return[r+t*c,a+t*d,o*Math.exp(D*t*i)]};else{var h=Math.sqrt(f),g=(l*l-o*o+4*f)/(2*o*2*h),p=(l*l-o*o-4*f)/(2*l*2*h),_=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(p*p+1)-p);i=(x-_)/D,n=function(t){var e=t*i,n=cosh(_),s=o/(2*h)*(n*function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}(D*e+_)-function sinh(t){return((t=Math.exp(t))-1/t)/2}(_));return[r+s*c,a+s*d,o*n/cosh(D*e+_)]}}return n.duration=1e3*i,n};function hsl(t){return function(e,n){var r=t((e=Object(i.hsl)(e)).h,(n=Object(i.hsl)(n)).h),a=nogamma(e.s,n.s),o=nogamma(e.l,n.l),s=nogamma(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var L=hsl(color_hue),R=hsl(nogamma);function lab(t,e){var n=nogamma((t=Object(i.lab)(t)).l,(e=Object(i.lab)(e)).l),r=nogamma(t.a,e.a),a=nogamma(t.b,e.b),o=nogamma(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=a(e),t.opacity=o(e),t+""}}function hcl(t){return function(e,n){var r=t((e=Object(i.hcl)(e)).h,(n=Object(i.hcl)(n)).h),a=nogamma(e.c,n.c),o=nogamma(e.l,n.l),s=nogamma(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var O=hcl(color_hue),F=hcl(nogamma);function cubehelix_cubehelix(t){return function cubehelixGamma(e){function cubehelix(n,r){var a=t((n=Object(i.cubehelix)(n)).h,(r=Object(i.cubehelix)(r)).h),o=nogamma(n.s,r.s),s=nogamma(n.l,r.l),u=nogamma(n.opacity,r.opacity);return function(t){return n.h=a(t),n.s=o(t),n.l=s(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}var I=cubehelix_cubehelix(color_hue),E=cubehelix_cubehelix(nogamma);function piecewise(t,e){for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return a[e](t-e)}}var X=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n};n.d(e,"interpolate",function(){return b}),n.d(e,"interpolateArray",function(){return c}),n.d(e,"interpolateBasis",function(){return r}),n.d(e,"interpolateBasisClosed",function(){return a}),n.d(e,"interpolateDate",function(){return d}),n.d(e,"interpolateNumber",function(){return f}),n.d(e,"interpolateObject",function(){return h}),n.d(e,"interpolateRound",function(){return w}),n.d(e,"interpolateString",function(){return y}),n.d(e,"interpolateTransformCss",function(){return C}),n.d(e,"interpolateTransformSvg",function(){return S}),n.d(e,"interpolateZoom",function(){return k}),n.d(e,"interpolateRgb",function(){return s}),n.d(e,"interpolateRgbBasis",function(){return u}),n.d(e,"interpolateRgbBasisClosed",function(){return l}),n.d(e,"interpolateHsl",function(){return L}),n.d(e,"interpolateHslLong",function(){return R}),n.d(e,"interpolateLab",function(){return lab}),n.d(e,"interpolateHcl",function(){return O}),n.d(e,"interpolateHclLong",function(){return F}),n.d(e,"interpolateCubehelix",function(){return I}),n.d(e,"interpolateCubehelixLong",function(){return E}),n.d(e,"piecewise",function(){return piecewise}),n.d(e,"quantize",function(){return X})},function(t,e,n){"use strict";var i=new Date,r=new Date;function newInterval(t,e,n,a){function interval(e){return t(e=new Date(+e)),e}return interval.floor=interval,interval.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},interval.round=function(t){var e=interval(t),n=interval.ceil(t);return t-e<n-t?e:n},interval.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},interval.range=function(n,i,r){var a,o=[];if(n=interval.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return o;do{o.push(a=new Date(+n)),e(n,r),t(n)}while(a<n&&n<i);return o},interval.filter=function(n){return newInterval(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(interval.count=function(e,a){return i.setTime(+e),r.setTime(+a),t(i),t(r),Math.floor(n(i,r))},interval.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?interval.filter(a?function(e){return a(e)%t==0}:function(e){return interval.count(0,e)%t==0}):interval:null}),interval}var a=newInterval(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?newInterval(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var o=a,s=a.range,u=6e4,l=6048e5,c=newInterval(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),d=c,f=c.range,h=newInterval(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getMinutes()}),g=h,p=h.range,_=newInterval(function(t){var e=t.getTimezoneOffset()*u%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),x=_,m=_.range,v=newInterval(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/864e5},function(t){return t.getDate()-1}),y=v,b=v.range;function weekday(t){return newInterval(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/l})}var w=weekday(0),T=weekday(1),A=weekday(2),M=weekday(3),C=weekday(4),S=weekday(5),D=weekday(6),k=w.range,L=T.range,R=A.range,O=M.range,F=C.range,I=S.range,E=D.range,X=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),z=X,N=X.range,P=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});P.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Y=P,B=P.range,q=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCMinutes()}),V=q,j=q.range,U=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),W=U,H=U.range,G=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),$=G,Z=G.range;function utcWeekday(t){return newInterval(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/l})}var K=utcWeekday(0),J=utcWeekday(1),Q=utcWeekday(2),tt=utcWeekday(3),et=utcWeekday(4),nt=utcWeekday(5),it=utcWeekday(6),rt=K.range,at=J.range,ot=Q.range,st=tt.range,ut=et.range,lt=nt.range,ct=it.range,dt=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ft=dt,ht=dt.range,gt=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});gt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var pt=gt,_t=gt.range;n.d(e,"timeInterval",function(){return newInterval}),n.d(e,"timeMillisecond",function(){return o}),n.d(e,"timeMilliseconds",function(){return s}),n.d(e,"utcMillisecond",function(){return o}),n.d(e,"utcMilliseconds",function(){return s}),n.d(e,"timeSecond",function(){return d}),n.d(e,"timeSeconds",function(){return f}),n.d(e,"utcSecond",function(){return d}),n.d(e,"utcSeconds",function(){return f}),n.d(e,"timeMinute",function(){return g}),n.d(e,"timeMinutes",function(){return p}),n.d(e,"timeHour",function(){return x}),n.d(e,"timeHours",function(){return m}),n.d(e,"timeDay",function(){return y}),n.d(e,"timeDays",function(){return b}),n.d(e,"timeWeek",function(){return w}),n.d(e,"timeWeeks",function(){return k}),n.d(e,"timeSunday",function(){return w}),n.d(e,"timeSundays",function(){return k}),n.d(e,"timeMonday",function(){return T}),n.d(e,"timeMondays",function(){return L}),n.d(e,"timeTuesday",function(){return A}),n.d(e,"timeTuesdays",function(){return R}),n.d(e,"timeWednesday",function(){return M}),n.d(e,"timeWednesdays",function(){return O}),n.d(e,"timeThursday",function(){return C}),n.d(e,"timeThursdays",function(){return F}),n.d(e,"timeFriday",function(){return S}),n.d(e,"timeFridays",function(){return I}),n.d(e,"timeSaturday",function(){return D}),n.d(e,"timeSaturdays",function(){return E}),n.d(e,"timeMonth",function(){return z}),n.d(e,"timeMonths",function(){return N}),n.d(e,"timeYear",function(){return Y}),n.d(e,"timeYears",function(){return B}),n.d(e,"utcMinute",function(){return V}),n.d(e,"utcMinutes",function(){return j}),n.d(e,"utcHour",function(){return W}),n.d(e,"utcHours",function(){return H}),n.d(e,"utcDay",function(){return $}),n.d(e,"utcDays",function(){return Z}),n.d(e,"utcWeek",function(){return K}),n.d(e,"utcWeeks",function(){return rt}),n.d(e,"utcSunday",function(){return K}),n.d(e,"utcSundays",function(){return rt}),n.d(e,"utcMonday",function(){return J}),n.d(e,"utcMondays",function(){return at}),n.d(e,"utcTuesday",function(){return Q}),n.d(e,"utcTuesdays",function(){return ot}),n.d(e,"utcWednesday",function(){return tt}),n.d(e,"utcWednesdays",function(){return st}),n.d(e,"utcThursday",function(){return et}),n.d(e,"utcThursdays",function(){return ut}),n.d(e,"utcFriday",function(){return nt}),n.d(e,"utcFridays",function(){return lt}),n.d(e,"utcSaturday",function(){return it}),n.d(e,"utcSaturdays",function(){return ct}),n.d(e,"utcMonth",function(){return ft}),n.d(e,"utcMonths",function(){return ht}),n.d(e,"utcYear",function(){return pt}),n.d(e,"utcYears",function(){return _t})},function(t,e,n){"use strict";function linear(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var i=function custom(t){function polyIn(e){return Math.pow(e,t)}return t=+t,polyIn.exponent=custom,polyIn}(3),r=function custom(t){function polyOut(e){return 1-Math.pow(1-e,t)}return t=+t,polyOut.exponent=custom,polyOut}(3),a=function custom(t){function polyInOut(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,polyInOut.exponent=custom,polyInOut}(3),o=Math.PI,s=o/2;function sinIn(t){return 1-Math.cos(t*s)}function sinOut(t){return Math.sin(t*s)}function sinInOut(t){return(1-Math.cos(o*t))/2}function expIn(t){return Math.pow(2,10*t-10)}function expOut(t){return 1-Math.pow(2,-10*t)}function expInOut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var u=4/11,l=6/11,c=8/11,d=.75,f=9/11,h=10/11,g=.9375,p=21/22,_=63/64,x=1/u/u;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<u?x*t*t:t<c?x*(t-=l)*t+d:t<h?x*(t-=f)*t+g:x*(t-=p)*t+_}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var m=function custom(t){function backIn(e){return e*e*((t+1)*e-t)}return t=+t,backIn.overshoot=custom,backIn}(1.70158),v=function custom(t){function backOut(e){return--e*e*((t+1)*e+t)+1}return t=+t,backOut.overshoot=custom,backOut}(1.70158),y=function custom(t){function backInOut(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,backInOut.overshoot=custom,backInOut}(1.70158),b=2*Math.PI,w=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=b);function elasticIn(i){return t*Math.pow(2,10*--i)*Math.sin((n-i)/e)}return elasticIn.amplitude=function(t){return custom(t,e*b)},elasticIn.period=function(e){return custom(t,e)},elasticIn}(1,.3),T=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=b);function elasticOut(i){return 1-t*Math.pow(2,-10*(i=+i))*Math.sin((i+n)/e)}return elasticOut.amplitude=function(t){return custom(t,e*b)},elasticOut.period=function(e){return custom(t,e)},elasticOut}(1,.3),A=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=b);function elasticInOut(i){return((i=2*i-1)<0?t*Math.pow(2,10*i)*Math.sin((n-i)/e):2-t*Math.pow(2,-10*i)*Math.sin((n+i)/e))/2}return elasticInOut.amplitude=function(t){return custom(t,e*b)},elasticInOut.period=function(e){return custom(t,e)},elasticInOut}(1,.3);n.d(e,"easeLinear",function(){return linear}),n.d(e,"easeQuad",function(){return quadInOut}),n.d(e,"easeQuadIn",function(){return quadIn}),n.d(e,"easeQuadOut",function(){return quadOut}),n.d(e,"easeQuadInOut",function(){return quadInOut}),n.d(e,"easeCubic",function(){return cubicInOut}),n.d(e,"easeCubicIn",function(){return cubicIn}),n.d(e,"easeCubicOut",function(){return cubicOut}),n.d(e,"easeCubicInOut",function(){return cubicInOut}),n.d(e,"easePoly",function(){return a}),n.d(e,"easePolyIn",function(){return i}),n.d(e,"easePolyOut",function(){return r}),n.d(e,"easePolyInOut",function(){return a}),n.d(e,"easeSin",function(){return sinInOut}),n.d(e,"easeSinIn",function(){return sinIn}),n.d(e,"easeSinOut",function(){return sinOut}),n.d(e,"easeSinInOut",function(){return sinInOut}),n.d(e,"easeExp",function(){return expInOut}),n.d(e,"easeExpIn",function(){return expIn}),n.d(e,"easeExpOut",function(){return expOut}),n.d(e,"easeExpInOut",function(){return expInOut}),n.d(e,"easeCircle",function(){return circleInOut}),n.d(e,"easeCircleIn",function(){return circleIn}),n.d(e,"easeCircleOut",function(){return circleOut}),n.d(e,"easeCircleInOut",function(){return circleInOut}),n.d(e,"easeBounce",function(){return bounceOut}),n.d(e,"easeBounceIn",function(){return bounceIn}),n.d(e,"easeBounceOut",function(){return bounceOut}),n.d(e,"easeBounceInOut",function(){return bounceInOut}),n.d(e,"easeBack",function(){return y}),n.d(e,"easeBackIn",function(){return m}),n.d(e,"easeBackOut",function(){return v}),n.d(e,"easeBackInOut",function(){return y}),n.d(e,"easeElastic",function(){return T}),n.d(e,"easeElasticIn",function(){return w}),n.d(e,"easeElasticOut",function(){return T}),n.d(e,"easeElasticInOut",function(){return A})},function(t,e,n){"use strict";function Map(){}function map(t,e){var n=new Map;if(t instanceof Map)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}Map.prototype=map.prototype={constructor:Map,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var i=map,r=function(){var t,e,n,r=[],a=[];function apply(n,a,o,s){if(a>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,c,d=-1,f=n.length,h=r[a++],g=i(),p=o();++d<f;)(c=g.get(u=h(l=n[d])+""))?c.push(l):g.set(u,[l]);return g.each(function(t,e){s(p,e,apply(t,a,o,s))}),p}return n={object:function(t){return apply(t,0,createObject,setObject)},map:function(t){return apply(t,0,createMap,setMap)},entries:function(t){return function entries(t,n){if(++n>r.length)return t;var i,o=a[n-1];return null!=e&&n>=r.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:entries(t,n)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(apply(t,0,createMap,setMap),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return a[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function createObject(){return{}}function setObject(t,e,n){t[e]=n}function createMap(){return i()}function setMap(t,e,n){t.set(e,n)}function Set(){}var a=i.prototype;function set(t,e){var n=new Set;if(t instanceof Set)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}Set.prototype=set.prototype={constructor:Set,has:a.has,add:function(t){return this["$"+(t+="")]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each};var o=set,s=function(t){var e=[];for(var n in t)e.push(n);return e},u=function(t){var e=[];for(var n in t)e.push(t[n]);return e},l=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};n.d(e,"nest",function(){return r}),n.d(e,"set",function(){return o}),n.d(e,"map",function(){return i}),n.d(e,"keys",function(){return s}),n.d(e,"values",function(){return u}),n.d(e,"entries",function(){return l})},function(t,e,n){"use strict";var i=n(78),r=n(74),a=n(68),o=n(64),s=n(67),u=function(t){return function(){return t}};function Transform(t,e,n){this.k=t,this.x=e,this.y=n}Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var l=new Transform(1,0,0);function transform_transform(t){return t.__zoom||l}function nopropagation(){o.event.stopImmediatePropagation()}transform_transform.prototype=Transform.prototype;var c=function(){o.event.preventDefault(),o.event.stopImmediatePropagation()};function defaultFilter(){return!o.event.button}function defaultExtent(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function defaultTransform(){return this.__zoom||l}function defaultWheelDelta(){return-o.event.deltaY*(o.event.deltaMode?120:1)/500}function defaultTouchable(){return"ontouchstart"in this}function defaultConstrain(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var d=function(){var t,e,n=defaultFilter,d=defaultExtent,f=defaultConstrain,h=defaultWheelDelta,g=defaultTouchable,p=[0,Infinity],_=[[-Infinity,-Infinity],[Infinity,Infinity]],x=250,m=a.interpolateZoom,v=[],y=Object(i.dispatch)("start","zoom","end"),b=500,w=150,T=0;function zoom(t){t.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(g).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(t,e){return(e=Math.max(p[0],Math.min(p[1],e)))===t.k?t:new Transform(e,t.x,t.y)}function translate(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Transform(t.k,i,r)}function centroid(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function schedule(t,e,n){t.on("start.zoom",function(){gesture(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=gesture(this,t),r=d.apply(this,t),a=n||centroid(r),o=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),s=this.__zoom,u="function"==typeof e?e.apply(this,t):e,l=m(s.invert(a).concat(o/s.k),u.invert(a).concat(o/u.k));return function(t){if(1===t)t=u;else{var e=l(t),n=o/e[2];t=new Transform(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function gesture(t,e){for(var n,i=0,r=v.length;i<r;++i)if((n=v[i]).that===t)return n;return new Gesture(t,e)}function Gesture(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=d.apply(t,e)}function wheeled(){if(n.apply(this,arguments)){var t=gesture(this,arguments),e=this.__zoom,i=Math.max(p[0],Math.min(p[1],e.k*Math.pow(2,h.apply(this,arguments)))),r=Object(o.mouse)(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[r,e.invert(r)],Object(s.interrupt)(this),t.start()}c(),t.wheel=setTimeout(function wheelidled(){t.wheel=null,t.end()},w),t.zoom("mouse",f(translate(scale(e,i),t.mouse[0],t.mouse[1]),t.extent,_))}}function mousedowned(){if(!e&&n.apply(this,arguments)){var t=gesture(this,arguments),i=Object(o.select)(o.event.view).on("mousemove.zoom",function mousemoved(){if(c(),!t.moved){var e=o.event.clientX-u,n=o.event.clientY-l;t.moved=e*e+n*n>T}t.zoom("mouse",f(translate(t.that.__zoom,t.mouse[0]=Object(o.mouse)(t.that),t.mouse[1]),t.extent,_))},!0).on("mouseup.zoom",function mouseupped(){i.on("mousemove.zoom mouseup.zoom",null),Object(r.dragEnable)(o.event.view,t.moved),c(),t.end()},!0),a=Object(o.mouse)(this),u=o.event.clientX,l=o.event.clientY;Object(r.dragDisable)(o.event.view),nopropagation(),t.mouse=[a,this.__zoom.invert(a)],Object(s.interrupt)(this),t.start()}}function dblclicked(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(o.mouse)(this),i=t.invert(e),r=t.k*(o.event.shiftKey?.5:2),a=f(translate(scale(t,r),e,i),d.apply(this,arguments),_);c(),x>0?Object(o.select)(this).transition().duration(x).call(schedule,a,e):Object(o.select)(this).call(zoom.transform,a)}}function touchstarted(){if(n.apply(this,arguments)){var e,i,r,a,u=gesture(this,arguments),l=o.event.changedTouches,c=l.length;for(nopropagation(),i=0;i<c;++i)r=l[i],a=[a=Object(o.touch)(this,l,r.identifier),this.__zoom.invert(a),r.identifier],u.touch0?u.touch1||(u.touch1=a):(u.touch0=a,e=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((a=Object(o.select)(this).on("dblclick.zoom"))&&a.apply(this,arguments));e&&(t=setTimeout(function(){t=null},b),Object(s.interrupt)(this),u.start())}}function touchmoved(){var e,n,i,r,a=gesture(this,arguments),s=o.event.changedTouches,u=s.length;for(c(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=s[e],i=Object(o.touch)(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],d=a.touch0[1],h=a.touch1[0],g=a.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,x=(x=g[0]-d[0])*x+(x=g[1]-d[1])*x;n=scale(n,Math.sqrt(p/x)),i=[(l[0]+h[0])/2,(l[1]+h[1])/2],r=[(d[0]+g[0])/2,(d[1]+g[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],r=a.touch0[1]}a.zoom("touch",f(translate(n,i,r),a.extent,_))}function touchended(){var t,n,i=gesture(this,arguments),r=o.event.changedTouches,a=r.length;for(nopropagation(),e&&clearTimeout(e),e=setTimeout(function(){e=null},b),t=0;t<a;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return zoom.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",defaultTransform),t!==n?schedule(t,e):n.interrupt().each(function(){gesture(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},zoom.scaleBy=function(t,e){zoom.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},zoom.scaleTo=function(t,e){zoom.transform(t,function(){var t=d.apply(this,arguments),n=this.__zoom,i=centroid(t),r=n.invert(i),a="function"==typeof e?e.apply(this,arguments):e;return f(translate(scale(n,a),i,r),t,_)})},zoom.translateBy=function(t,e,n){zoom.transform(t,function(){return f(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),d.apply(this,arguments),_)})},zoom.translateTo=function(t,e,n){zoom.transform(t,function(){var t=d.apply(this,arguments),i=this.__zoom,r=centroid(t);return f(l.translate(r[0],r[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,_)})},Gesture.prototype={start:function(){return 1==++this.active&&(this.index=v.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(v.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(o.customEvent)(new function ZoomEvent(t,e,n){this.target=t,this.type=e,this.transform=n}(zoom,t,this.that.__zoom),y.apply,y,[t,this.that,this.args])}},zoom.wheelDelta=function(t){return arguments.length?(h="function"==typeof t?t:u(+t),zoom):h},zoom.filter=function(t){return arguments.length?(n="function"==typeof t?t:u(!!t),zoom):n},zoom.touchable=function(t){return arguments.length?(g="function"==typeof t?t:u(!!t),zoom):g},zoom.extent=function(t){return arguments.length?(d="function"==typeof t?t:u([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),zoom):d},zoom.scaleExtent=function(t){return arguments.length?(p[0]=+t[0],p[1]=+t[1],zoom):[p[0],p[1]]},zoom.translateExtent=function(t){return arguments.length?(_[0][0]=+t[0][0],_[1][0]=+t[1][0],_[0][1]=+t[0][1],_[1][1]=+t[1][1],zoom):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},zoom.constrain=function(t){return arguments.length?(f=t,zoom):f},zoom.duration=function(t){return arguments.length?(x=+t,zoom):x},zoom.interpolate=function(t){return arguments.length?(m=t,zoom):m},zoom.on=function(){var t=y.on.apply(y,arguments);return t===y?zoom:t},zoom.clickDistance=function(t){return arguments.length?(T=(t=+t)*t,zoom):Math.sqrt(T)},zoom};n.d(e,"zoom",function(){return d}),n.d(e,"zoomTransform",function(){return transform_transform}),n.d(e,"zoomIdentity",function(){return l})},function(t,e,n){"use strict";var i=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function extend(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Color(){}var r="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,u=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),d=new RegExp("^rgba\\("+[r,r,r,a]+"\\)$"),f=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),h=new RegExp("^hsl\\("+[a,o,o]+"\\)$"),g=new RegExp("^hsla\\("+[a,o,o,a]+"\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(t){var e;return t=(t+"").trim().toLowerCase(),(e=s.exec(t))?new Rgb((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=u.exec(t))?rgbn(parseInt(e[1],16)):(e=l.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=c.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=f.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=h.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):p.hasOwnProperty(t)?rgbn(p[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rgb(t,e,n,i)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,n,i){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,n,null==i?1:i)}function Rgb(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,i)}function hsl(t,e,n,i){return 1===arguments.length?function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,u=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=u<.5?a+r:2-a-r,o*=60):s=u>0&&u<1?0:o,new Hsl(o,s,u,t.opacity)}(t):new Hsl(t,e,n,null==i?1:i)}function Hsl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function hsl2rgb(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}i(Color,color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),i(Rgb,rgb,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),i(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rgb(hsl2rgb(t>=240?t-240:t+120,r,i),hsl2rgb(t,r,i),hsl2rgb(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var _=Math.PI/180,x=180/Math.PI,m=.96422,v=1,y=.82521,b=4/29,w=6/29,T=3*w*w,A=w*w*w;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*_;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rgb||(t=rgbConvert(t));var n,i,r=rgb2lrgb(t.r),a=rgb2lrgb(t.g),o=rgb2lrgb(t.b),s=xyz2lab((.2225045*r+.7168786*a+.0606169*o)/v);return r===a&&a===o?n=i=s:(n=xyz2lab((.4360747*r+.3850649*a+.1430804*o)/m),i=xyz2lab((.0139322*r+.0971045*a+.7141733*o)/y)),new Lab(116*s-16,500*(n-s),200*(s-i),t.opacity)}function gray(t,e){return new Lab(t,0,0,null==e?1:e)}function lab(t,e,n,i){return 1===arguments.length?labConvert(t):new Lab(t,e,n,null==i?1:i)}function Lab(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function xyz2lab(t){return t>A?Math.pow(t,1/3):t/T+b}function lab2xyz(t){return t>w?t*t*t:T*(t-b)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*x;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,e,n,i){return 1===arguments.length?hclConvert(t):new Hcl(n,e,t,null==i?1:i)}function hcl(t,e,n,i){return 1===arguments.length?hclConvert(t):new Hcl(t,e,n,null==i?1:i)}function Hcl(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}i(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=m*lab2xyz(e))-1.6168667*(t=v*lab2xyz(t))-.4906146*(n=y*lab2xyz(n))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*n),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),i(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var M=-.14861,C=1.78277,S=-.29227,D=-.90649,k=1.97294,L=k*D,R=k*C,O=C*S-D*M;function cubehelix(t,e,n,i){return 1===arguments.length?function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(O*i+L*e-R*n)/(O+L-R),a=i-r,o=(k*(n-r)-S*a)/D,s=Math.sqrt(o*o+a*a)/(k*r*(1-r)),u=s?Math.atan2(o,a)*x-120:NaN;return new Cubehelix(u<0?u+360:u,s,r,t.opacity)}(t):new Cubehelix(t,e,n,null==i?1:i)}function Cubehelix(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}i(Cubehelix,cubehelix,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*_,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rgb(255*(e+n*(M*i+C*r)),255*(e+n*(S*i+D*r)),255*(e+n*(k*i)),this.opacity)}})),n.d(e,"color",function(){return color}),n.d(e,"rgb",function(){return rgb}),n.d(e,"hsl",function(){return hsl}),n.d(e,"lab",function(){return lab}),n.d(e,"hcl",function(){return hcl}),n.d(e,"lch",function(){return lch}),n.d(e,"gray",function(){return gray}),n.d(e,"cubehelix",function(){return cubehelix})},function(t,e,n){"use strict";var i=n(78),r=n(64);function nopropagation(){r.event.stopImmediatePropagation()}var a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()},o=function(t){var e=t.document.documentElement,n=Object(r.select)(t).on("dragstart.drag",a,!0);"onselectstart"in e?n.on("selectstart.drag",a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function yesdrag(t,e){var n=t.document.documentElement,i=Object(r.select)(t).on("dragstart.drag",null);e&&(i.on("click.drag",a,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var s=function(t){return function(){return t}};function DragEvent(t,e,n,i,r,a,o,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=l}function defaultFilter(){return!r.event.button}function defaultContainer(){return this.parentNode}function defaultSubject(t){return null==t?{x:r.event.x,y:r.event.y}:t}function defaultTouchable(){return"ontouchstart"in this}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var u=function(){var t,e,n,u,l=defaultFilter,c=defaultContainer,d=defaultSubject,f=defaultTouchable,h={},g=Object(i.dispatch)("start","drag","end"),p=0,_=0;function drag(t){t.on("mousedown.drag",mousedowned).filter(f).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!u&&l.apply(this,arguments)){var i=beforestart("mouse",c.apply(this,arguments),r.mouse,this,arguments);i&&(Object(r.select)(r.event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),o(r.event.view),nopropagation(),n=!1,t=r.event.clientX,e=r.event.clientY,i("start"))}}function mousemoved(){if(a(),!n){var i=r.event.clientX-t,o=r.event.clientY-e;n=i*i+o*o>_}h.mouse("drag")}function mouseupped(){Object(r.select)(r.event.view).on("mousemove.drag mouseup.drag",null),yesdrag(r.event.view,n),a(),h.mouse("end")}function touchstarted(){if(l.apply(this,arguments)){var t,e,n=r.event.changedTouches,i=c.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=beforestart(n[t].identifier,i,r.touch,this,arguments))&&(nopropagation(),e("start"))}}function touchmoved(){var t,e,n=r.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=h[n[t].identifier])&&(a(),e("drag"))}function touchended(){var t,e,n=r.event.changedTouches,i=n.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),t=0;t<i;++t)(e=h[n[t].identifier])&&(nopropagation(),e("end"))}function beforestart(t,e,n,i,a){var o,s,u,l=n(e,t),c=g.copy();if(Object(r.customEvent)(new DragEvent(drag,"beforestart",o,t,p,l[0],l[1],0,0,c),function(){return null!=(r.event.subject=o=d.apply(i,a))&&(s=o.x-l[0]||0,u=o.y-l[1]||0,!0)}))return function gesture(d){var f,g=l;switch(d){case"start":h[t]=gesture,f=p++;break;case"end":delete h[t],--p;case"drag":l=n(e,t),f=p}Object(r.customEvent)(new DragEvent(drag,d,o,t,f,l[0]+s,l[1]+u,l[0]-g[0],l[1]-g[1],c),c.apply,c,[d,i,a])}}return drag.filter=function(t){return arguments.length?(l="function"==typeof t?t:s(!!t),drag):l},drag.container=function(t){return arguments.length?(c="function"==typeof t?t:s(t),drag):c},drag.subject=function(t){return arguments.length?(d="function"==typeof t?t:s(t),drag):d},drag.touchable=function(t){return arguments.length?(f="function"==typeof t?t:s(!!t),drag):f},drag.on=function(){var t=g.on.apply(g,arguments);return t===g?drag:t},drag.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,drag):Math.sqrt(_)},drag};n.d(e,"drag",function(){return u}),n.d(e,"dragDisable",function(){return o}),n.d(e,"dragEnable",function(){return yesdrag})},function(t,e,n){"use strict";var i=n(78),r=n(74),a=n(68),o=n(64),s=n(67),u=function(t){return function(){return t}},l=function(t,e,n){this.target=t,this.type=e,this.selection=n};function nopropagation(){o.event.stopImmediatePropagation()}var c=function(){o.event.preventDefault(),o.event.stopImmediatePropagation()},d={name:"drag"},f={name:"space"},h={name:"handle"},g={name:"center"},p={name:"x",handles:["e","w"].map(brush_type),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_={name:"y",handles:["n","s"].map(brush_type),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},x={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(brush_type),input:function(t){return t},output:function(t){return t}},m={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},v={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},y={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},w={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function brush_type(t){return{type:t}}function defaultFilter(){return!o.event.button}function defaultExtent(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function local(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function empty(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function brushX(){return brush_brush(p)}function brushY(){return brush_brush(_)}var T=function(){return brush_brush(x)};function brush_brush(t){var e,n=defaultExtent,x=defaultFilter,T=Object(i.dispatch)(brush,"start","brush","end"),A=6;function brush(e){var n=e.property("__brush",initialize).selectAll(".overlay").data([brush_type("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",m.overlay).merge(n).each(function(){var t=local(this).extent;Object(o.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([brush_type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",m.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return m[t.type]}),e.each(redraw).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",started)}function redraw(){var t=Object(o.select)(this),e=local(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-A/2:e[0][0]-A/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-A/2:e[0][1]-A/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+A:A}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+A:A})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(t,e){return t.__brush.emitter||new Emitter(t,e)}function Emitter(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function started(){if(o.event.touches){if(o.event.changedTouches.length<o.event.touches.length)return c()}else if(e)return;if(x.apply(this,arguments)){var n,i,a,u,l,T,A,M,C,S,D,k,L,R=this,O=o.event.target.__data__.type,F="selection"===(o.event.metaKey?O="overlay":O)?d:o.event.altKey?g:h,I=t===_?null:b[O],E=t===p?null:w[O],X=local(R),z=X.extent,N=X.selection,P=z[0][0],Y=z[0][1],B=z[1][0],q=z[1][1],V=I&&E&&o.event.shiftKey,j=Object(o.mouse)(R),U=j,W=emitter(R,arguments).beforestart();"overlay"===O?X.selection=N=[[n=t===_?P:j[0],a=t===p?Y:j[1]],[l=t===_?B:n,A=t===p?q:a]]:(n=N[0][0],a=N[0][1],l=N[1][0],A=N[1][1]),i=n,u=a,T=l,M=A;var H=Object(o.select)(R).attr("pointer-events","none"),G=H.selectAll(".overlay").attr("cursor",m[O]);if(o.event.touches)H.on("touchmove.brush",moved,!0).on("touchend.brush touchcancel.brush",ended,!0);else{var $=Object(o.select)(o.event.view).on("keydown.brush",function keydowned(){switch(o.event.keyCode){case 16:V=I&&E;break;case 18:F===h&&(I&&(l=T-C*I,n=i+C*I),E&&(A=M-S*E,a=u+S*E),F=g,move());break;case 32:F!==h&&F!==g||(I<0?l=T-C:I>0&&(n=i-C),E<0?A=M-S:E>0&&(a=u-S),F=f,G.attr("cursor",m.selection),move());break;default:return}c()},!0).on("keyup.brush",function keyupped(){switch(o.event.keyCode){case 16:V&&(k=L=V=!1,move());break;case 18:F===g&&(I<0?l=T:I>0&&(n=i),E<0?A=M:E>0&&(a=u),F=h,move());break;case 32:F===f&&(o.event.altKey?(I&&(l=T-C*I,n=i+C*I),E&&(A=M-S*E,a=u+S*E),F=g):(I<0?l=T:I>0&&(n=i),E<0?A=M:E>0&&(a=u),F=h),G.attr("cursor",m[O]),move());break;default:return}c()},!0).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);Object(r.dragDisable)(o.event.view)}nopropagation(),Object(s.interrupt)(R),redraw.call(R),W.start()}function moved(){var t=Object(o.mouse)(R);!V||k||L||(Math.abs(t[0]-U[0])>Math.abs(t[1]-U[1])?L=!0:k=!0),U=t,D=!0,c(),move()}function move(){var t;switch(C=U[0]-j[0],S=U[1]-j[1],F){case f:case d:I&&(C=Math.max(P-n,Math.min(B-l,C)),i=n+C,T=l+C),E&&(S=Math.max(Y-a,Math.min(q-A,S)),u=a+S,M=A+S);break;case h:I<0?(C=Math.max(P-n,Math.min(B-n,C)),i=n+C,T=l):I>0&&(C=Math.max(P-l,Math.min(B-l,C)),i=n,T=l+C),E<0?(S=Math.max(Y-a,Math.min(q-a,S)),u=a+S,M=A):E>0&&(S=Math.max(Y-A,Math.min(q-A,S)),u=a,M=A+S);break;case g:I&&(i=Math.max(P,Math.min(B,n-C*I)),T=Math.max(P,Math.min(B,l+C*I))),E&&(u=Math.max(Y,Math.min(q,a-S*E)),M=Math.max(Y,Math.min(q,A+S*E)))}T<i&&(I*=-1,t=n,n=l,l=t,t=i,i=T,T=t,O in v&&G.attr("cursor",m[O=v[O]])),M<u&&(E*=-1,t=a,a=A,A=t,t=u,u=M,M=t,O in y&&G.attr("cursor",m[O=y[O]])),X.selection&&(N=X.selection),k&&(i=N[0][0],T=N[1][0]),L&&(u=N[0][1],M=N[1][1]),N[0][0]===i&&N[0][1]===u&&N[1][0]===T&&N[1][1]===M||(X.selection=[[i,u],[T,M]],redraw.call(R),W.brush())}function ended(){if(nopropagation(),o.event.touches){if(o.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),H.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(r.dragEnable)(o.event.view,D),$.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),G.attr("cursor",m.overlay),X.selection&&(N=X.selection),empty(N)&&(X.selection=null,redraw.call(R)),W.end()}}function initialize(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return brush.move=function(e,n){e.selection?e.on("start.brush",function(){emitter(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){emitter(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,r=emitter(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),u=Object(a.interpolate)(o,s);function tween(t){i.selection=1===t&&empty(s)?null:u(t),redraw.call(e),r.brush()}return o&&s?tween:tween(1)}):e.each(function(){var e=arguments,i=this.__brush,r=t.input("function"==typeof n?n.apply(this,e):n,i.extent),a=emitter(this,e).beforestart();Object(s.interrupt)(this),i.selection=null==r||empty(r)?null:r,redraw.call(this),a.start().brush().end()})},Emitter.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(o.customEvent)(new l(brush,e,t.output(this.state.selection)),T.apply,T,[e,this.that,this.args])}},brush.extent=function(t){return arguments.length?(n="function"==typeof t?t:u([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),brush):n},brush.filter=function(t){return arguments.length?(x="function"==typeof t?t:u(!!t),brush):x},brush.handleSize=function(t){return arguments.length?(A=+t,brush):A},brush.on=function(){var t=T.on.apply(T,arguments);return t===T?brush:t},brush}n.d(e,"brush",function(){return T}),n.d(e,"brushX",function(){return brushX}),n.d(e,"brushY",function(){return brushY}),n.d(e,"brushSelection",function(){return brushSelection})},function(t,e,n){"use strict";var i=n(69);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=formatRe(a),f=formatLookup(a),h=formatRe(o),g=formatLookup(o),p=formatRe(s),_=formatLookup(s),x=formatRe(u),m=formatLookup(u),v=formatRe(c),y=formatLookup(c),b={a:function formatShortWeekday(t){return s[t.getDay()]},A:function formatWeekday(t){return o[t.getDay()]},b:function formatShortMonth(t){return c[t.getMonth()]},B:function formatMonth(t){return u[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(t){return a[+(t.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},w={a:function formatUTCShortWeekday(t){return s[t.getUTCDay()]},A:function formatUTCWeekday(t){return o[t.getUTCDay()]},b:function formatUTCShortMonth(t){return c[t.getUTCMonth()]},B:function formatUTCMonth(t){return u[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(t){return a[+(t.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},T={a:function parseShortWeekday(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=_[i[0].toLowerCase()],n+i[0].length):-1},A:function parseWeekday(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=g[i[0].toLowerCase()],n+i[0].length):-1},b:function parseShortMonth(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function parseMonth(t,e,n){var i=x.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function parseLocaleDateTime(t,n,i){return parseSpecifier(t,e,n,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(t,e,n){var i=d.exec(e.slice(n));return i?(t.p=f[i[0].toLowerCase()],n+i[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(t,e,i){return parseSpecifier(t,n,e,i)},X:function parseLocaleTime(t,e,n){return parseSpecifier(t,r,e,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(t,e){return function(n){var i,r,a,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=l[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),o.push(i),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function newParse(t,e){return function(n){var r,a,o=newYear(1900);if(parseSpecifier(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(a=(r=utcDate(newYear(o.y))).getUTCDay())>4||0===a?i.utcMonday.ceil(r):Object(i.utcMonday)(r),r=i.utcDay.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(a=(r=e(newYear(o.y))).getDay())>4||0===a?i.timeMonday.ceil(r):Object(i.timeMonday)(r),r=i.timeDay.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?utcDate(newYear(o.y)).getUTCDay():e(newYear(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,utcDate(o)):e(o)}}function parseSpecifier(t,e,n,i){for(var r,a,o=0,s=e.length,u=n.length;o<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=T[r in l?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=newFormat(n,b),b.X=newFormat(r,b),b.c=newFormat(e,b),w.x=newFormat(n,w),w.X=newFormat(r,w),w.c=newFormat(e,w),{format:function(t){var e=newFormat(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=newParse(t+="",localDate);return e.toString=function(){return t},e},utcFormat:function(t){var e=newFormat(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=newParse(t,utcDate);return e.toString=function(){return t},e}}}var r,a,o,s,u,l={"-":"",_:" ",0:"0"},c=/^\s*\d+/,d=/^%/,f=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function requote(t){return t.replace(f,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday(t,e,n){var i=c.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var i=c.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function parseFullYear(t,e,n){var i=c.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function parseYear(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function parseZone(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseMonthNumber(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function parseDayOfYear(t,e,n){var i=c.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function parseHour24(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function parseMinutes(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function parseSeconds(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function parseMilliseconds(t,e,n){var i=c.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function parseMicroseconds(t,e,n){var i=c.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(t,e,n){var i=d.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(t,e,n){var i=c.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var i=c.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+i.timeDay.count(Object(i.timeYear)(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad(i.timeSunday.count(Object(i.timeYear)(t),t),e,2)}function formatWeekNumberISO(t,e){var n=t.getDay();return t=n>=4||0===n?Object(i.timeThursday)(t):i.timeThursday.ceil(t),pad(i.timeThursday.count(Object(i.timeYear)(t),t)+(4===Object(i.timeYear)(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(i.timeMonday.count(Object(i.timeYear)(t),t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+i.utcDay.count(Object(i.utcYear)(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad(i.utcSunday.count(Object(i.utcYear)(t),t),e,2)}function formatUTCWeekNumberISO(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(i.utcThursday)(t):i.utcThursday.ceil(t),pad(i.utcThursday.count(Object(i.utcYear)(t),t)+(4===Object(i.utcYear)(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(i.utcMonday.count(Object(i.utcYear)(t),t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return r=formatLocale(t),a=r.format,o=r.parse,s=r.utcFormat,u=r.utcParse,r}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var h=Date.prototype.toISOString?function formatIsoNative(t){return t.toISOString()}:s("%Y-%m-%dT%H:%M:%S.%LZ");var g=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}:u("%Y-%m-%dT%H:%M:%S.%LZ");n.d(e,"timeFormatDefaultLocale",function(){return defaultLocale}),n.d(e,"timeFormat",function(){return a}),n.d(e,"timeParse",function(){return o}),n.d(e,"utcFormat",function(){return s}),n.d(e,"utcParse",function(){return u}),n.d(e,"timeFormatLocale",function(){return formatLocale}),n.d(e,"isoFormat",function(){return h}),n.d(e,"isoParse",function(){return g})},function(t,e,n){"use strict";var i={},r={},a=34,o=10,s=13;function objectConverter(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var u=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function parseRows(t,e){var u,l=[],c=t.length,d=0,f=0,h=c<=0,g=!1;function token(){if(h)return r;if(g)return g=!1,i;var e,u,l=d;if(t.charCodeAt(l)===a){for(;d++<c&&t.charCodeAt(d)!==a||t.charCodeAt(++d)===a;);return(e=d)>=c?h=!0:(u=t.charCodeAt(d++))===o?g=!0:u===s&&(g=!0,t.charCodeAt(d)===o&&++d),t.slice(l+1,e-1).replace(/""/g,'"')}for(;d<c;){if((u=t.charCodeAt(e=d++))===o)g=!0;else if(u===s)g=!0,t.charCodeAt(d)===o&&++d;else if(u!==n)continue;return t.slice(l,e)}return h=!0,t.slice(l,c)}for(t.charCodeAt(c-1)===o&&--c,t.charCodeAt(c-1)===s&&--c;(u=token())!==r;){for(var p=[];u!==i&&u!==r;)p.push(u),u=token();e&&null==(p=e(p,f++))||l.push(p)}return l}function formatRow(e){return e.map(formatValue).join(t)}function formatValue(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function parse(t,e){var n,i,r=parseRows(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function customConverter(t,e){var n=objectConverter(t);return function(i,r){return e(n(i),r,t)}}(t,e):objectConverter(t)});return r.columns=i||[],r},parseRows:parseRows,format:function format(e,n){return null==n&&(n=function inferColumns(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}(e)),[n.map(formatValue).join(t)].concat(e.map(function(e){return n.map(function(t){return formatValue(e[t])}).join(t)})).join("\n")},formatRows:function formatRows(t){return t.map(formatRow).join("\n")}}},l=u(","),c=l.parse,d=l.parseRows,f=l.format,h=l.formatRows,g=u("\t"),p=g.parse,_=g.parseRows,x=g.format,m=g.formatRows;n.d(e,"dsvFormat",function(){return u}),n.d(e,"csvParse",function(){return c}),n.d(e,"csvParseRows",function(){return d}),n.d(e,"csvFormat",function(){return f}),n.d(e,"csvFormatRows",function(){return h}),n.d(e,"tsvParse",function(){return p}),n.d(e,"tsvParseRows",function(){return _}),n.d(e,"tsvFormat",function(){return x}),n.d(e,"tsvFormatRows",function(){return m})},function(t,e,n){"use strict";var i={value:function(){}};function dispatch(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Dispatch(i)}function Dispatch(t){this._=t}function get(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function set(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n,i=this._,r=function parseTypenames(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=r[a]).type)i[n]=set(i[n],t.name,e);else if(null==e)for(n in i)i[n]=set(i[n],t.name,null);return this}for(;++a<o;)if((n=(t=r[a]).type)&&(n=get(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dispatch(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var r=dispatch;n.d(e,"dispatch",function(){return r})}])});